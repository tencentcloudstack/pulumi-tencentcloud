// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package ccn

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/internal"
)

// Provides a CCN attaching instance resource.
//
// ## Example Usage
//
// ### Only Attachment instance
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi/config"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/ccn"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/subnet"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/vpc"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			cfg := config.New(ctx, "")
//			region := "ap-guangzhou"
//			if param := cfg.Get("region"); param != "" {
//				region = param
//			}
//			availabilityZone := "ap-guangzhou-4"
//			if param := cfg.Get("availabilityZone"); param != "" {
//				availabilityZone = param
//			}
//			// create vpc
//			vpc, err := vpc.NewInstance(ctx, "vpc", &vpc.InstanceArgs{
//				Name:      pulumi.String("vpc"),
//				CidrBlock: pulumi.String("172.16.0.0/16"),
//			})
//			if err != nil {
//				return err
//			}
//			// create subnet
//			_, err = subnet.NewInstance(ctx, "subnet", &subnet.InstanceArgs{
//				AvailabilityZone: pulumi.String(availabilityZone),
//				Name:             pulumi.String("subnet"),
//				VpcId:            vpc.ID(),
//				CidrBlock:        pulumi.String("172.16.0.0/24"),
//				IsMulticast:      pulumi.Bool(false),
//			})
//			if err != nil {
//				return err
//			}
//			// create ccn
//			example, err := ccn.NewInstance(ctx, "example", &ccn.InstanceArgs{
//				Name:               pulumi.String("tf-example"),
//				Description:        pulumi.String("desc."),
//				Qos:                pulumi.String("AG"),
//				ChargeType:         pulumi.String("PREPAID"),
//				BandwidthLimitType: pulumi.String("INTER_REGION_LIMIT"),
//				Tags: pulumi.StringMap{
//					"createBy": pulumi.String("Terraform"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			// attachment instance
//			_, err = ccn.NewAttachmentV2(ctx, "example", &ccn.AttachmentV2Args{
//				CcnId:          example.ID(),
//				InstanceId:     vpc.ID(),
//				InstanceType:   pulumi.String("VPC"),
//				InstanceRegion: pulumi.String(region),
//				Description:    pulumi.String("attachment descripiton."),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Attachment instance & route table
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi/config"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/ccn"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/subnet"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/vpc"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			cfg := config.New(ctx, "")
//			region := "ap-guangzhou"
//			if param := cfg.Get("region"); param != "" {
//				region = param
//			}
//			availabilityZone := "ap-guangzhou-4"
//			if param := cfg.Get("availabilityZone"); param != "" {
//				availabilityZone = param
//			}
//			// create vpc
//			vpc, err := vpc.NewInstance(ctx, "vpc", &vpc.InstanceArgs{
//				Name:      pulumi.String("vpc"),
//				CidrBlock: pulumi.String("172.16.0.0/16"),
//			})
//			if err != nil {
//				return err
//			}
//			// create subnet
//			_, err = subnet.NewInstance(ctx, "subnet", &subnet.InstanceArgs{
//				AvailabilityZone: pulumi.String(availabilityZone),
//				Name:             pulumi.String("subnet"),
//				VpcId:            vpc.ID(),
//				CidrBlock:        pulumi.String("172.16.0.0/24"),
//				IsMulticast:      pulumi.Bool(false),
//			})
//			if err != nil {
//				return err
//			}
//			// create ccn
//			example, err := ccn.NewInstance(ctx, "example", &ccn.InstanceArgs{
//				Name:               pulumi.String("tf-example"),
//				Description:        pulumi.String("desc."),
//				Qos:                pulumi.String("AG"),
//				ChargeType:         pulumi.String("PREPAID"),
//				BandwidthLimitType: pulumi.String("INTER_REGION_LIMIT"),
//				Tags: pulumi.StringMap{
//					"createBy": pulumi.String("terraform"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			// create ccn route table
//			exampleRouteTable, err := ccn.NewRouteTable(ctx, "example", &ccn.RouteTableArgs{
//				CcnId:       example.ID(),
//				Name:        pulumi.String("tf-example"),
//				Description: pulumi.String("desc."),
//			})
//			if err != nil {
//				return err
//			}
//			// attachment instance & route table
//			_, err = ccn.NewAttachmentV2(ctx, "example", &ccn.AttachmentV2Args{
//				CcnId:          example.ID(),
//				InstanceId:     vpc.ID(),
//				InstanceType:   pulumi.String("VPC"),
//				InstanceRegion: pulumi.String(region),
//				RouteTableId:   exampleRouteTable.ID(),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// CCN attaching instance can be imported using the id, e.g.
//
// ```sh
// $ pulumi import tencentcloud:Ccn/attachmentV2:AttachmentV2 example ccn-l4m4asp7#VPC#ap-guangzhou#vpc-apgkmy5d
// ```
type AttachmentV2 struct {
	pulumi.CustomResourceState

	// Time of attaching.
	AttachedTime pulumi.StringOutput `pulumi:"attachedTime"`
	// ID of the CCN.
	CcnId pulumi.StringOutput `pulumi:"ccnId"`
	// Uin of the ccn attached. If not set, which means the uin of this account. This parameter is used with case when attaching ccn of other account to the instance of this account. For now only support instance type `VPC`.
	CcnUin pulumi.StringOutput `pulumi:"ccnUin"`
	// A network address block of the instance that is attached.
	CidrBlocks pulumi.StringArrayOutput `pulumi:"cidrBlocks"`
	// Remark of attachment.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// ID of instance is attached.
	InstanceId pulumi.StringOutput `pulumi:"instanceId"`
	// The region that the instance locates at.
	InstanceRegion pulumi.StringOutput `pulumi:"instanceRegion"`
	// Type of attached instance network, and available values include `VPC`, `DIRECTCONNECT`, `BMVPC` and `VPNGW`. Note: `VPNGW` type is only for whitelist customer now.
	InstanceType pulumi.StringOutput `pulumi:"instanceType"`
	// Route id list.
	RouteIds pulumi.StringArrayOutput `pulumi:"routeIds"`
	// Ccn instance route table ID.
	RouteTableId pulumi.StringOutput `pulumi:"routeTableId"`
	// States of instance is attached. Valid values: `PENDING`, `ACTIVE`, `EXPIRED`, `REJECTED`, `DELETED`, `FAILED`, `ATTACHING`, `DETACHING` and `DETACHFAILED`. `FAILED` means asynchronous forced disassociation after 2 hours. `DETACHFAILED` means asynchronous forced disassociation after 2 hours.
	State pulumi.StringOutput `pulumi:"state"`
}

// NewAttachmentV2 registers a new resource with the given unique name, arguments, and options.
func NewAttachmentV2(ctx *pulumi.Context,
	name string, args *AttachmentV2Args, opts ...pulumi.ResourceOption) (*AttachmentV2, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.CcnId == nil {
		return nil, errors.New("invalid value for required argument 'CcnId'")
	}
	if args.InstanceId == nil {
		return nil, errors.New("invalid value for required argument 'InstanceId'")
	}
	if args.InstanceRegion == nil {
		return nil, errors.New("invalid value for required argument 'InstanceRegion'")
	}
	if args.InstanceType == nil {
		return nil, errors.New("invalid value for required argument 'InstanceType'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource AttachmentV2
	err := ctx.RegisterResource("tencentcloud:Ccn/attachmentV2:AttachmentV2", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetAttachmentV2 gets an existing AttachmentV2 resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetAttachmentV2(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *AttachmentV2State, opts ...pulumi.ResourceOption) (*AttachmentV2, error) {
	var resource AttachmentV2
	err := ctx.ReadResource("tencentcloud:Ccn/attachmentV2:AttachmentV2", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering AttachmentV2 resources.
type attachmentV2State struct {
	// Time of attaching.
	AttachedTime *string `pulumi:"attachedTime"`
	// ID of the CCN.
	CcnId *string `pulumi:"ccnId"`
	// Uin of the ccn attached. If not set, which means the uin of this account. This parameter is used with case when attaching ccn of other account to the instance of this account. For now only support instance type `VPC`.
	CcnUin *string `pulumi:"ccnUin"`
	// A network address block of the instance that is attached.
	CidrBlocks []string `pulumi:"cidrBlocks"`
	// Remark of attachment.
	Description *string `pulumi:"description"`
	// ID of instance is attached.
	InstanceId *string `pulumi:"instanceId"`
	// The region that the instance locates at.
	InstanceRegion *string `pulumi:"instanceRegion"`
	// Type of attached instance network, and available values include `VPC`, `DIRECTCONNECT`, `BMVPC` and `VPNGW`. Note: `VPNGW` type is only for whitelist customer now.
	InstanceType *string `pulumi:"instanceType"`
	// Route id list.
	RouteIds []string `pulumi:"routeIds"`
	// Ccn instance route table ID.
	RouteTableId *string `pulumi:"routeTableId"`
	// States of instance is attached. Valid values: `PENDING`, `ACTIVE`, `EXPIRED`, `REJECTED`, `DELETED`, `FAILED`, `ATTACHING`, `DETACHING` and `DETACHFAILED`. `FAILED` means asynchronous forced disassociation after 2 hours. `DETACHFAILED` means asynchronous forced disassociation after 2 hours.
	State *string `pulumi:"state"`
}

type AttachmentV2State struct {
	// Time of attaching.
	AttachedTime pulumi.StringPtrInput
	// ID of the CCN.
	CcnId pulumi.StringPtrInput
	// Uin of the ccn attached. If not set, which means the uin of this account. This parameter is used with case when attaching ccn of other account to the instance of this account. For now only support instance type `VPC`.
	CcnUin pulumi.StringPtrInput
	// A network address block of the instance that is attached.
	CidrBlocks pulumi.StringArrayInput
	// Remark of attachment.
	Description pulumi.StringPtrInput
	// ID of instance is attached.
	InstanceId pulumi.StringPtrInput
	// The region that the instance locates at.
	InstanceRegion pulumi.StringPtrInput
	// Type of attached instance network, and available values include `VPC`, `DIRECTCONNECT`, `BMVPC` and `VPNGW`. Note: `VPNGW` type is only for whitelist customer now.
	InstanceType pulumi.StringPtrInput
	// Route id list.
	RouteIds pulumi.StringArrayInput
	// Ccn instance route table ID.
	RouteTableId pulumi.StringPtrInput
	// States of instance is attached. Valid values: `PENDING`, `ACTIVE`, `EXPIRED`, `REJECTED`, `DELETED`, `FAILED`, `ATTACHING`, `DETACHING` and `DETACHFAILED`. `FAILED` means asynchronous forced disassociation after 2 hours. `DETACHFAILED` means asynchronous forced disassociation after 2 hours.
	State pulumi.StringPtrInput
}

func (AttachmentV2State) ElementType() reflect.Type {
	return reflect.TypeOf((*attachmentV2State)(nil)).Elem()
}

type attachmentV2Args struct {
	// ID of the CCN.
	CcnId string `pulumi:"ccnId"`
	// Uin of the ccn attached. If not set, which means the uin of this account. This parameter is used with case when attaching ccn of other account to the instance of this account. For now only support instance type `VPC`.
	CcnUin *string `pulumi:"ccnUin"`
	// Remark of attachment.
	Description *string `pulumi:"description"`
	// ID of instance is attached.
	InstanceId string `pulumi:"instanceId"`
	// The region that the instance locates at.
	InstanceRegion string `pulumi:"instanceRegion"`
	// Type of attached instance network, and available values include `VPC`, `DIRECTCONNECT`, `BMVPC` and `VPNGW`. Note: `VPNGW` type is only for whitelist customer now.
	InstanceType string `pulumi:"instanceType"`
	// Ccn instance route table ID.
	RouteTableId *string `pulumi:"routeTableId"`
}

// The set of arguments for constructing a AttachmentV2 resource.
type AttachmentV2Args struct {
	// ID of the CCN.
	CcnId pulumi.StringInput
	// Uin of the ccn attached. If not set, which means the uin of this account. This parameter is used with case when attaching ccn of other account to the instance of this account. For now only support instance type `VPC`.
	CcnUin pulumi.StringPtrInput
	// Remark of attachment.
	Description pulumi.StringPtrInput
	// ID of instance is attached.
	InstanceId pulumi.StringInput
	// The region that the instance locates at.
	InstanceRegion pulumi.StringInput
	// Type of attached instance network, and available values include `VPC`, `DIRECTCONNECT`, `BMVPC` and `VPNGW`. Note: `VPNGW` type is only for whitelist customer now.
	InstanceType pulumi.StringInput
	// Ccn instance route table ID.
	RouteTableId pulumi.StringPtrInput
}

func (AttachmentV2Args) ElementType() reflect.Type {
	return reflect.TypeOf((*attachmentV2Args)(nil)).Elem()
}

type AttachmentV2Input interface {
	pulumi.Input

	ToAttachmentV2Output() AttachmentV2Output
	ToAttachmentV2OutputWithContext(ctx context.Context) AttachmentV2Output
}

func (*AttachmentV2) ElementType() reflect.Type {
	return reflect.TypeOf((**AttachmentV2)(nil)).Elem()
}

func (i *AttachmentV2) ToAttachmentV2Output() AttachmentV2Output {
	return i.ToAttachmentV2OutputWithContext(context.Background())
}

func (i *AttachmentV2) ToAttachmentV2OutputWithContext(ctx context.Context) AttachmentV2Output {
	return pulumi.ToOutputWithContext(ctx, i).(AttachmentV2Output)
}

// AttachmentV2ArrayInput is an input type that accepts AttachmentV2Array and AttachmentV2ArrayOutput values.
// You can construct a concrete instance of `AttachmentV2ArrayInput` via:
//
//	AttachmentV2Array{ AttachmentV2Args{...} }
type AttachmentV2ArrayInput interface {
	pulumi.Input

	ToAttachmentV2ArrayOutput() AttachmentV2ArrayOutput
	ToAttachmentV2ArrayOutputWithContext(context.Context) AttachmentV2ArrayOutput
}

type AttachmentV2Array []AttachmentV2Input

func (AttachmentV2Array) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*AttachmentV2)(nil)).Elem()
}

func (i AttachmentV2Array) ToAttachmentV2ArrayOutput() AttachmentV2ArrayOutput {
	return i.ToAttachmentV2ArrayOutputWithContext(context.Background())
}

func (i AttachmentV2Array) ToAttachmentV2ArrayOutputWithContext(ctx context.Context) AttachmentV2ArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AttachmentV2ArrayOutput)
}

// AttachmentV2MapInput is an input type that accepts AttachmentV2Map and AttachmentV2MapOutput values.
// You can construct a concrete instance of `AttachmentV2MapInput` via:
//
//	AttachmentV2Map{ "key": AttachmentV2Args{...} }
type AttachmentV2MapInput interface {
	pulumi.Input

	ToAttachmentV2MapOutput() AttachmentV2MapOutput
	ToAttachmentV2MapOutputWithContext(context.Context) AttachmentV2MapOutput
}

type AttachmentV2Map map[string]AttachmentV2Input

func (AttachmentV2Map) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*AttachmentV2)(nil)).Elem()
}

func (i AttachmentV2Map) ToAttachmentV2MapOutput() AttachmentV2MapOutput {
	return i.ToAttachmentV2MapOutputWithContext(context.Background())
}

func (i AttachmentV2Map) ToAttachmentV2MapOutputWithContext(ctx context.Context) AttachmentV2MapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AttachmentV2MapOutput)
}

type AttachmentV2Output struct{ *pulumi.OutputState }

func (AttachmentV2Output) ElementType() reflect.Type {
	return reflect.TypeOf((**AttachmentV2)(nil)).Elem()
}

func (o AttachmentV2Output) ToAttachmentV2Output() AttachmentV2Output {
	return o
}

func (o AttachmentV2Output) ToAttachmentV2OutputWithContext(ctx context.Context) AttachmentV2Output {
	return o
}

// Time of attaching.
func (o AttachmentV2Output) AttachedTime() pulumi.StringOutput {
	return o.ApplyT(func(v *AttachmentV2) pulumi.StringOutput { return v.AttachedTime }).(pulumi.StringOutput)
}

// ID of the CCN.
func (o AttachmentV2Output) CcnId() pulumi.StringOutput {
	return o.ApplyT(func(v *AttachmentV2) pulumi.StringOutput { return v.CcnId }).(pulumi.StringOutput)
}

// Uin of the ccn attached. If not set, which means the uin of this account. This parameter is used with case when attaching ccn of other account to the instance of this account. For now only support instance type `VPC`.
func (o AttachmentV2Output) CcnUin() pulumi.StringOutput {
	return o.ApplyT(func(v *AttachmentV2) pulumi.StringOutput { return v.CcnUin }).(pulumi.StringOutput)
}

// A network address block of the instance that is attached.
func (o AttachmentV2Output) CidrBlocks() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *AttachmentV2) pulumi.StringArrayOutput { return v.CidrBlocks }).(pulumi.StringArrayOutput)
}

// Remark of attachment.
func (o AttachmentV2Output) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *AttachmentV2) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// ID of instance is attached.
func (o AttachmentV2Output) InstanceId() pulumi.StringOutput {
	return o.ApplyT(func(v *AttachmentV2) pulumi.StringOutput { return v.InstanceId }).(pulumi.StringOutput)
}

// The region that the instance locates at.
func (o AttachmentV2Output) InstanceRegion() pulumi.StringOutput {
	return o.ApplyT(func(v *AttachmentV2) pulumi.StringOutput { return v.InstanceRegion }).(pulumi.StringOutput)
}

// Type of attached instance network, and available values include `VPC`, `DIRECTCONNECT`, `BMVPC` and `VPNGW`. Note: `VPNGW` type is only for whitelist customer now.
func (o AttachmentV2Output) InstanceType() pulumi.StringOutput {
	return o.ApplyT(func(v *AttachmentV2) pulumi.StringOutput { return v.InstanceType }).(pulumi.StringOutput)
}

// Route id list.
func (o AttachmentV2Output) RouteIds() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *AttachmentV2) pulumi.StringArrayOutput { return v.RouteIds }).(pulumi.StringArrayOutput)
}

// Ccn instance route table ID.
func (o AttachmentV2Output) RouteTableId() pulumi.StringOutput {
	return o.ApplyT(func(v *AttachmentV2) pulumi.StringOutput { return v.RouteTableId }).(pulumi.StringOutput)
}

// States of instance is attached. Valid values: `PENDING`, `ACTIVE`, `EXPIRED`, `REJECTED`, `DELETED`, `FAILED`, `ATTACHING`, `DETACHING` and `DETACHFAILED`. `FAILED` means asynchronous forced disassociation after 2 hours. `DETACHFAILED` means asynchronous forced disassociation after 2 hours.
func (o AttachmentV2Output) State() pulumi.StringOutput {
	return o.ApplyT(func(v *AttachmentV2) pulumi.StringOutput { return v.State }).(pulumi.StringOutput)
}

type AttachmentV2ArrayOutput struct{ *pulumi.OutputState }

func (AttachmentV2ArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*AttachmentV2)(nil)).Elem()
}

func (o AttachmentV2ArrayOutput) ToAttachmentV2ArrayOutput() AttachmentV2ArrayOutput {
	return o
}

func (o AttachmentV2ArrayOutput) ToAttachmentV2ArrayOutputWithContext(ctx context.Context) AttachmentV2ArrayOutput {
	return o
}

func (o AttachmentV2ArrayOutput) Index(i pulumi.IntInput) AttachmentV2Output {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *AttachmentV2 {
		return vs[0].([]*AttachmentV2)[vs[1].(int)]
	}).(AttachmentV2Output)
}

type AttachmentV2MapOutput struct{ *pulumi.OutputState }

func (AttachmentV2MapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*AttachmentV2)(nil)).Elem()
}

func (o AttachmentV2MapOutput) ToAttachmentV2MapOutput() AttachmentV2MapOutput {
	return o
}

func (o AttachmentV2MapOutput) ToAttachmentV2MapOutputWithContext(ctx context.Context) AttachmentV2MapOutput {
	return o
}

func (o AttachmentV2MapOutput) MapIndex(k pulumi.StringInput) AttachmentV2Output {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *AttachmentV2 {
		return vs[0].(map[string]*AttachmentV2)[vs[1].(string)]
	}).(AttachmentV2Output)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*AttachmentV2Input)(nil)).Elem(), &AttachmentV2{})
	pulumi.RegisterInputType(reflect.TypeOf((*AttachmentV2ArrayInput)(nil)).Elem(), AttachmentV2Array{})
	pulumi.RegisterInputType(reflect.TypeOf((*AttachmentV2MapInput)(nil)).Elem(), AttachmentV2Map{})
	pulumi.RegisterOutputType(AttachmentV2Output{})
	pulumi.RegisterOutputType(AttachmentV2ArrayOutput{})
	pulumi.RegisterOutputType(AttachmentV2MapOutput{})
}
