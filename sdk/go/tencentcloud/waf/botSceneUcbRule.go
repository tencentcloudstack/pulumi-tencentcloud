// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package waf

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/internal"
)

// Provides a resource to create a WAF bot scene ucb rule
//
// ## Example Usage
//
// ### The rules are permanently effective
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/waf"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := waf.NewBotSceneUcbRule(ctx, "example", &waf.BotSceneUcbRuleArgs{
//				Domain:  pulumi.String("examle.com"),
//				SceneId: pulumi.String("3000000791"),
//				Rule: &waf.BotSceneUcbRuleRuleArgs{
//					Domain: pulumi.String("examle.com"),
//					Name:   pulumi.String("tf-example"),
//					Rules: waf.BotSceneUcbRuleRuleRuleArray{
//						&waf.BotSceneUcbRuleRuleRuleArgs{
//							Key:  pulumi.String("ip_scope"),
//							Op:   pulumi.String("belong"),
//							Lang: pulumi.String("cn"),
//							Value: &waf.BotSceneUcbRuleRuleRuleValueArgs{
//								BelongValues: pulumi.StringArray{
//									pulumi.String("1.1.1.1"),
//								},
//							},
//						},
//						&waf.BotSceneUcbRuleRuleRuleArgs{
//							Key:  pulumi.String("url"),
//							Op:   pulumi.String("rematch"),
//							Lang: pulumi.String("cn"),
//							Value: &waf.BotSceneUcbRuleRuleRuleValueArgs{
//								MultiValues: pulumi.StringArray{
//									pulumi.String("/prefix"),
//									pulumi.String("/startwith"),
//								},
//							},
//						},
//					},
//					Action:      pulumi.String("monitor"),
//					OnOff:       pulumi.String("on"),
//					RuleType:    pulumi.Int(0),
//					Prior:       pulumi.Int(100),
//					Label:       pulumi.String("疑似BOT"),
//					Appid:       pulumi.Int(1276513791),
//					AdditionArg: pulumi.String("none"),
//					Desc:        pulumi.String("rule desc."),
//					PreDefine:   pulumi.Bool(true),
//					JobType:     pulumi.String("forever"),
//					JobDateTime: &waf.BotSceneUcbRuleRuleJobDateTimeArgs{
//						Timeds: waf.BotSceneUcbRuleRuleJobDateTimeTimedArray{
//							&waf.BotSceneUcbRuleRuleJobDateTimeTimedArgs{
//								StartDateTime: pulumi.Int(0),
//								EndDateTime:   pulumi.Int(0),
//							},
//						},
//						TimeTZone: pulumi.String("UTC+8"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### The rules take effect on a scheduled basis
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/waf"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := waf.NewBotSceneUcbRule(ctx, "example", &waf.BotSceneUcbRuleArgs{
//				Domain:  pulumi.String("examle.com"),
//				SceneId: pulumi.String("3000000791"),
//				Rule: &waf.BotSceneUcbRuleRuleArgs{
//					Domain: pulumi.String("examle.com"),
//					Name:   pulumi.String("tf-example"),
//					Rules: waf.BotSceneUcbRuleRuleRuleArray{
//						&waf.BotSceneUcbRuleRuleRuleArgs{
//							Key:  pulumi.String("header_value"),
//							Op:   pulumi.String("logic"),
//							Name: pulumi.String("token"),
//							Lang: pulumi.String("cn"),
//							Value: &waf.BotSceneUcbRuleRuleRuleValueArgs{
//								LogicValue: pulumi.Bool(true),
//							},
//						},
//					},
//					Action: pulumi.String("multi_action"),
//					ActionLists: waf.BotSceneUcbRuleRuleActionListArray{
//						&waf.BotSceneUcbRuleRuleActionListArgs{
//							Action:     pulumi.String("monitor"),
//							Proportion: pulumi.Float64(0.3),
//						},
//						&waf.BotSceneUcbRuleRuleActionListArgs{
//							Action:     pulumi.String("intercept"),
//							Proportion: pulumi.Float64(0.3),
//						},
//						&waf.BotSceneUcbRuleRuleActionListArgs{
//							Action:     pulumi.String("captcha"),
//							Proportion: pulumi.Float64(0.4),
//						},
//					},
//					OnOff:       pulumi.String("on"),
//					RuleType:    pulumi.Int(0),
//					Prior:       pulumi.Int(100),
//					Label:       pulumi.String("正常流量"),
//					Appid:       pulumi.Int(1256704386),
//					AdditionArg: pulumi.String("none"),
//					Desc:        pulumi.String("rule desc."),
//					PreDefine:   pulumi.Bool(true),
//					JobType:     pulumi.String("timed_job"),
//					JobDateTime: &waf.BotSceneUcbRuleRuleJobDateTimeArgs{
//						Timeds: waf.BotSceneUcbRuleRuleJobDateTimeTimedArray{
//							&waf.BotSceneUcbRuleRuleJobDateTimeTimedArgs{
//								StartDateTime: pulumi.Int(1747324800),
//								EndDateTime:   pulumi.Int(1747152000),
//							},
//						},
//						TimeTZone: pulumi.String("UTC+8"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### The rules take effect on a weekly basis
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/waf"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := waf.NewBotSceneUcbRule(ctx, "example", &waf.BotSceneUcbRuleArgs{
//				Domain:  pulumi.String("examle.com"),
//				SceneId: pulumi.String("3000000791"),
//				Rule: &waf.BotSceneUcbRuleRuleArgs{
//					Domain: pulumi.String("examle.com"),
//					Name:   pulumi.String("tf-example"),
//					Rules: waf.BotSceneUcbRuleRuleRuleArray{
//						&waf.BotSceneUcbRuleRuleRuleArgs{
//							Key:  pulumi.String("post_value"),
//							Op:   pulumi.String("prefix"),
//							Lang: pulumi.String("cn"),
//							Value: &waf.BotSceneUcbRuleRuleRuleValueArgs{
//								MultiValues: pulumi.StringArray{
//									pulumi.String("terraform"),
//									pulumi.String("provider"),
//								},
//							},
//						},
//					},
//					Action:      pulumi.String("intercept"),
//					OnOff:       pulumi.String("on"),
//					RuleType:    pulumi.Int(0),
//					Prior:       pulumi.Int(100),
//					Label:       pulumi.String("恶意BOT"),
//					Appid:       pulumi.Int(1256704386),
//					AdditionArg: pulumi.String("none"),
//					Desc:        pulumi.String("rule desc."),
//					PreDefine:   pulumi.Bool(true),
//					BlockPageId: pulumi.Int(71),
//					JobType:     pulumi.String("cron_week"),
//					JobDateTime: &waf.BotSceneUcbRuleRuleJobDateTimeArgs{
//						Crons: waf.BotSceneUcbRuleRuleJobDateTimeCronArray{
//							&waf.BotSceneUcbRuleRuleJobDateTimeCronArgs{
//								WDays: pulumi.IntArray{
//									pulumi.Int(1),
//									pulumi.Int(2),
//									pulumi.Int(3),
//									pulumi.Int(4),
//									pulumi.Int(5),
//								},
//								StartTime: pulumi.String("00:00:00"),
//								EndTime:   pulumi.String("23:59:59"),
//							},
//						},
//						TimeTZone: pulumi.String("UTC+8"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// WAF bot scene ucb rule can be imported using the id, e.g.
//
// ```sh
// $ pulumi import tencentcloud:Waf/botSceneUcbRule:BotSceneUcbRule example examle.com#3000000791#3000003489
// ```
type BotSceneUcbRule struct {
	pulumi.CustomResourceState

	// Domain.
	Domain pulumi.StringOutput `pulumi:"domain"`
	// Rule content, add encoding SceneId information. When calling at the BOT global whitelist, SceneId is set to `global` and RuleType is passed as 10, Action is `permit`; When configuring BOT scenarios, SceneId is the scenario ID.
	Rule BotSceneUcbRuleRulePtrOutput `pulumi:"rule"`
	// Rule ID.
	RuleId pulumi.StringOutput `pulumi:"ruleId"`
	// When calling at the BOT global whitelist, pass `global`; When configuring BOT scenarios, transmit the specific scenario ID.
	SceneId pulumi.StringOutput `pulumi:"sceneId"`
}

// NewBotSceneUcbRule registers a new resource with the given unique name, arguments, and options.
func NewBotSceneUcbRule(ctx *pulumi.Context,
	name string, args *BotSceneUcbRuleArgs, opts ...pulumi.ResourceOption) (*BotSceneUcbRule, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Domain == nil {
		return nil, errors.New("invalid value for required argument 'Domain'")
	}
	if args.SceneId == nil {
		return nil, errors.New("invalid value for required argument 'SceneId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource BotSceneUcbRule
	err := ctx.RegisterResource("tencentcloud:Waf/botSceneUcbRule:BotSceneUcbRule", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetBotSceneUcbRule gets an existing BotSceneUcbRule resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetBotSceneUcbRule(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *BotSceneUcbRuleState, opts ...pulumi.ResourceOption) (*BotSceneUcbRule, error) {
	var resource BotSceneUcbRule
	err := ctx.ReadResource("tencentcloud:Waf/botSceneUcbRule:BotSceneUcbRule", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering BotSceneUcbRule resources.
type botSceneUcbRuleState struct {
	// Domain.
	Domain *string `pulumi:"domain"`
	// Rule content, add encoding SceneId information. When calling at the BOT global whitelist, SceneId is set to `global` and RuleType is passed as 10, Action is `permit`; When configuring BOT scenarios, SceneId is the scenario ID.
	Rule *BotSceneUcbRuleRule `pulumi:"rule"`
	// Rule ID.
	RuleId *string `pulumi:"ruleId"`
	// When calling at the BOT global whitelist, pass `global`; When configuring BOT scenarios, transmit the specific scenario ID.
	SceneId *string `pulumi:"sceneId"`
}

type BotSceneUcbRuleState struct {
	// Domain.
	Domain pulumi.StringPtrInput
	// Rule content, add encoding SceneId information. When calling at the BOT global whitelist, SceneId is set to `global` and RuleType is passed as 10, Action is `permit`; When configuring BOT scenarios, SceneId is the scenario ID.
	Rule BotSceneUcbRuleRulePtrInput
	// Rule ID.
	RuleId pulumi.StringPtrInput
	// When calling at the BOT global whitelist, pass `global`; When configuring BOT scenarios, transmit the specific scenario ID.
	SceneId pulumi.StringPtrInput
}

func (BotSceneUcbRuleState) ElementType() reflect.Type {
	return reflect.TypeOf((*botSceneUcbRuleState)(nil)).Elem()
}

type botSceneUcbRuleArgs struct {
	// Domain.
	Domain string `pulumi:"domain"`
	// Rule content, add encoding SceneId information. When calling at the BOT global whitelist, SceneId is set to `global` and RuleType is passed as 10, Action is `permit`; When configuring BOT scenarios, SceneId is the scenario ID.
	Rule *BotSceneUcbRuleRule `pulumi:"rule"`
	// When calling at the BOT global whitelist, pass `global`; When configuring BOT scenarios, transmit the specific scenario ID.
	SceneId string `pulumi:"sceneId"`
}

// The set of arguments for constructing a BotSceneUcbRule resource.
type BotSceneUcbRuleArgs struct {
	// Domain.
	Domain pulumi.StringInput
	// Rule content, add encoding SceneId information. When calling at the BOT global whitelist, SceneId is set to `global` and RuleType is passed as 10, Action is `permit`; When configuring BOT scenarios, SceneId is the scenario ID.
	Rule BotSceneUcbRuleRulePtrInput
	// When calling at the BOT global whitelist, pass `global`; When configuring BOT scenarios, transmit the specific scenario ID.
	SceneId pulumi.StringInput
}

func (BotSceneUcbRuleArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*botSceneUcbRuleArgs)(nil)).Elem()
}

type BotSceneUcbRuleInput interface {
	pulumi.Input

	ToBotSceneUcbRuleOutput() BotSceneUcbRuleOutput
	ToBotSceneUcbRuleOutputWithContext(ctx context.Context) BotSceneUcbRuleOutput
}

func (*BotSceneUcbRule) ElementType() reflect.Type {
	return reflect.TypeOf((**BotSceneUcbRule)(nil)).Elem()
}

func (i *BotSceneUcbRule) ToBotSceneUcbRuleOutput() BotSceneUcbRuleOutput {
	return i.ToBotSceneUcbRuleOutputWithContext(context.Background())
}

func (i *BotSceneUcbRule) ToBotSceneUcbRuleOutputWithContext(ctx context.Context) BotSceneUcbRuleOutput {
	return pulumi.ToOutputWithContext(ctx, i).(BotSceneUcbRuleOutput)
}

// BotSceneUcbRuleArrayInput is an input type that accepts BotSceneUcbRuleArray and BotSceneUcbRuleArrayOutput values.
// You can construct a concrete instance of `BotSceneUcbRuleArrayInput` via:
//
//	BotSceneUcbRuleArray{ BotSceneUcbRuleArgs{...} }
type BotSceneUcbRuleArrayInput interface {
	pulumi.Input

	ToBotSceneUcbRuleArrayOutput() BotSceneUcbRuleArrayOutput
	ToBotSceneUcbRuleArrayOutputWithContext(context.Context) BotSceneUcbRuleArrayOutput
}

type BotSceneUcbRuleArray []BotSceneUcbRuleInput

func (BotSceneUcbRuleArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*BotSceneUcbRule)(nil)).Elem()
}

func (i BotSceneUcbRuleArray) ToBotSceneUcbRuleArrayOutput() BotSceneUcbRuleArrayOutput {
	return i.ToBotSceneUcbRuleArrayOutputWithContext(context.Background())
}

func (i BotSceneUcbRuleArray) ToBotSceneUcbRuleArrayOutputWithContext(ctx context.Context) BotSceneUcbRuleArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(BotSceneUcbRuleArrayOutput)
}

// BotSceneUcbRuleMapInput is an input type that accepts BotSceneUcbRuleMap and BotSceneUcbRuleMapOutput values.
// You can construct a concrete instance of `BotSceneUcbRuleMapInput` via:
//
//	BotSceneUcbRuleMap{ "key": BotSceneUcbRuleArgs{...} }
type BotSceneUcbRuleMapInput interface {
	pulumi.Input

	ToBotSceneUcbRuleMapOutput() BotSceneUcbRuleMapOutput
	ToBotSceneUcbRuleMapOutputWithContext(context.Context) BotSceneUcbRuleMapOutput
}

type BotSceneUcbRuleMap map[string]BotSceneUcbRuleInput

func (BotSceneUcbRuleMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*BotSceneUcbRule)(nil)).Elem()
}

func (i BotSceneUcbRuleMap) ToBotSceneUcbRuleMapOutput() BotSceneUcbRuleMapOutput {
	return i.ToBotSceneUcbRuleMapOutputWithContext(context.Background())
}

func (i BotSceneUcbRuleMap) ToBotSceneUcbRuleMapOutputWithContext(ctx context.Context) BotSceneUcbRuleMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(BotSceneUcbRuleMapOutput)
}

type BotSceneUcbRuleOutput struct{ *pulumi.OutputState }

func (BotSceneUcbRuleOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**BotSceneUcbRule)(nil)).Elem()
}

func (o BotSceneUcbRuleOutput) ToBotSceneUcbRuleOutput() BotSceneUcbRuleOutput {
	return o
}

func (o BotSceneUcbRuleOutput) ToBotSceneUcbRuleOutputWithContext(ctx context.Context) BotSceneUcbRuleOutput {
	return o
}

// Domain.
func (o BotSceneUcbRuleOutput) Domain() pulumi.StringOutput {
	return o.ApplyT(func(v *BotSceneUcbRule) pulumi.StringOutput { return v.Domain }).(pulumi.StringOutput)
}

// Rule content, add encoding SceneId information. When calling at the BOT global whitelist, SceneId is set to `global` and RuleType is passed as 10, Action is `permit`; When configuring BOT scenarios, SceneId is the scenario ID.
func (o BotSceneUcbRuleOutput) Rule() BotSceneUcbRuleRulePtrOutput {
	return o.ApplyT(func(v *BotSceneUcbRule) BotSceneUcbRuleRulePtrOutput { return v.Rule }).(BotSceneUcbRuleRulePtrOutput)
}

// Rule ID.
func (o BotSceneUcbRuleOutput) RuleId() pulumi.StringOutput {
	return o.ApplyT(func(v *BotSceneUcbRule) pulumi.StringOutput { return v.RuleId }).(pulumi.StringOutput)
}

// When calling at the BOT global whitelist, pass `global`; When configuring BOT scenarios, transmit the specific scenario ID.
func (o BotSceneUcbRuleOutput) SceneId() pulumi.StringOutput {
	return o.ApplyT(func(v *BotSceneUcbRule) pulumi.StringOutput { return v.SceneId }).(pulumi.StringOutput)
}

type BotSceneUcbRuleArrayOutput struct{ *pulumi.OutputState }

func (BotSceneUcbRuleArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*BotSceneUcbRule)(nil)).Elem()
}

func (o BotSceneUcbRuleArrayOutput) ToBotSceneUcbRuleArrayOutput() BotSceneUcbRuleArrayOutput {
	return o
}

func (o BotSceneUcbRuleArrayOutput) ToBotSceneUcbRuleArrayOutputWithContext(ctx context.Context) BotSceneUcbRuleArrayOutput {
	return o
}

func (o BotSceneUcbRuleArrayOutput) Index(i pulumi.IntInput) BotSceneUcbRuleOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *BotSceneUcbRule {
		return vs[0].([]*BotSceneUcbRule)[vs[1].(int)]
	}).(BotSceneUcbRuleOutput)
}

type BotSceneUcbRuleMapOutput struct{ *pulumi.OutputState }

func (BotSceneUcbRuleMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*BotSceneUcbRule)(nil)).Elem()
}

func (o BotSceneUcbRuleMapOutput) ToBotSceneUcbRuleMapOutput() BotSceneUcbRuleMapOutput {
	return o
}

func (o BotSceneUcbRuleMapOutput) ToBotSceneUcbRuleMapOutputWithContext(ctx context.Context) BotSceneUcbRuleMapOutput {
	return o
}

func (o BotSceneUcbRuleMapOutput) MapIndex(k pulumi.StringInput) BotSceneUcbRuleOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *BotSceneUcbRule {
		return vs[0].(map[string]*BotSceneUcbRule)[vs[1].(string)]
	}).(BotSceneUcbRuleOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*BotSceneUcbRuleInput)(nil)).Elem(), &BotSceneUcbRule{})
	pulumi.RegisterInputType(reflect.TypeOf((*BotSceneUcbRuleArrayInput)(nil)).Elem(), BotSceneUcbRuleArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*BotSceneUcbRuleMapInput)(nil)).Elem(), BotSceneUcbRuleMap{})
	pulumi.RegisterOutputType(BotSceneUcbRuleOutput{})
	pulumi.RegisterOutputType(BotSceneUcbRuleArrayOutput{})
	pulumi.RegisterOutputType(BotSceneUcbRuleMapOutput{})
}
