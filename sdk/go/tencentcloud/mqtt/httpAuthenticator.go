// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package mqtt

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/internal"
)

// Provides a resource to create a MQTT http authenticator
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/mqtt"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := mqtt.NewHttpAuthenticator(ctx, "example", &mqtt.HttpAuthenticatorArgs{
//				InstanceId:     pulumi.String("mqtt-zxjwkr98"),
//				Endpoint:       pulumi.String("https://example.com"),
//				Concurrency:    pulumi.Int(8),
//				Method:         pulumi.String("POST"),
//				Status:         pulumi.String("open"),
//				Remark:         pulumi.String("Remark."),
//				ConnectTimeout: pulumi.Int(10),
//				ReadTimeout:    pulumi.Int(10),
//				Headers: mqtt.HttpAuthenticatorHeaderArray{
//					&mqtt.HttpAuthenticatorHeaderArgs{
//						Key:   pulumi.String("Content-type"),
//						Value: pulumi.String("application/json"),
//					},
//				},
//				Bodies: mqtt.HttpAuthenticatorBodyArray{
//					&mqtt.HttpAuthenticatorBodyArgs{
//						Key:   pulumi.String("bodyKey"),
//						Value: pulumi.String("bodyValue"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// MQTT http authenticator can be imported using the id, e.g.
//
// ```sh
// $ pulumi import tencentcloud:Mqtt/httpAuthenticator:HttpAuthenticator example mqtt-zxjwkr98
// ```
type HttpAuthenticator struct {
	pulumi.CustomResourceState

	// Forwarding request body.
	Bodies HttpAuthenticatorBodyArrayOutput `pulumi:"bodies"`
	// Maximum concurrent connections, default 8, range: 1-20.
	Concurrency pulumi.IntPtrOutput `pulumi:"concurrency"`
	// Connection timeout, unit: seconds, range: 1-30.
	ConnectTimeout pulumi.IntPtrOutput `pulumi:"connectTimeout"`
	// JWKS endpoint.
	Endpoint pulumi.StringOutput `pulumi:"endpoint"`
	// Forwarding request header.
	Headers HttpAuthenticatorHeaderArrayOutput `pulumi:"headers"`
	// Instance ID.
	InstanceId pulumi.StringOutput `pulumi:"instanceId"`
	// Network request method GET or POST, default POST.
	Method pulumi.StringPtrOutput `pulumi:"method"`
	// Request timeout, unit: seconds, range: 1-30.
	ReadTimeout pulumi.IntPtrOutput `pulumi:"readTimeout"`
	// Remark.
	Remark pulumi.StringPtrOutput `pulumi:"remark"`
	// Is the authenticator enabled: open enable; Close close.
	Status pulumi.StringOutput `pulumi:"status"`
}

// NewHttpAuthenticator registers a new resource with the given unique name, arguments, and options.
func NewHttpAuthenticator(ctx *pulumi.Context,
	name string, args *HttpAuthenticatorArgs, opts ...pulumi.ResourceOption) (*HttpAuthenticator, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Endpoint == nil {
		return nil, errors.New("invalid value for required argument 'Endpoint'")
	}
	if args.InstanceId == nil {
		return nil, errors.New("invalid value for required argument 'InstanceId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource HttpAuthenticator
	err := ctx.RegisterResource("tencentcloud:Mqtt/httpAuthenticator:HttpAuthenticator", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetHttpAuthenticator gets an existing HttpAuthenticator resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetHttpAuthenticator(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *HttpAuthenticatorState, opts ...pulumi.ResourceOption) (*HttpAuthenticator, error) {
	var resource HttpAuthenticator
	err := ctx.ReadResource("tencentcloud:Mqtt/httpAuthenticator:HttpAuthenticator", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering HttpAuthenticator resources.
type httpAuthenticatorState struct {
	// Forwarding request body.
	Bodies []HttpAuthenticatorBody `pulumi:"bodies"`
	// Maximum concurrent connections, default 8, range: 1-20.
	Concurrency *int `pulumi:"concurrency"`
	// Connection timeout, unit: seconds, range: 1-30.
	ConnectTimeout *int `pulumi:"connectTimeout"`
	// JWKS endpoint.
	Endpoint *string `pulumi:"endpoint"`
	// Forwarding request header.
	Headers []HttpAuthenticatorHeader `pulumi:"headers"`
	// Instance ID.
	InstanceId *string `pulumi:"instanceId"`
	// Network request method GET or POST, default POST.
	Method *string `pulumi:"method"`
	// Request timeout, unit: seconds, range: 1-30.
	ReadTimeout *int `pulumi:"readTimeout"`
	// Remark.
	Remark *string `pulumi:"remark"`
	// Is the authenticator enabled: open enable; Close close.
	Status *string `pulumi:"status"`
}

type HttpAuthenticatorState struct {
	// Forwarding request body.
	Bodies HttpAuthenticatorBodyArrayInput
	// Maximum concurrent connections, default 8, range: 1-20.
	Concurrency pulumi.IntPtrInput
	// Connection timeout, unit: seconds, range: 1-30.
	ConnectTimeout pulumi.IntPtrInput
	// JWKS endpoint.
	Endpoint pulumi.StringPtrInput
	// Forwarding request header.
	Headers HttpAuthenticatorHeaderArrayInput
	// Instance ID.
	InstanceId pulumi.StringPtrInput
	// Network request method GET or POST, default POST.
	Method pulumi.StringPtrInput
	// Request timeout, unit: seconds, range: 1-30.
	ReadTimeout pulumi.IntPtrInput
	// Remark.
	Remark pulumi.StringPtrInput
	// Is the authenticator enabled: open enable; Close close.
	Status pulumi.StringPtrInput
}

func (HttpAuthenticatorState) ElementType() reflect.Type {
	return reflect.TypeOf((*httpAuthenticatorState)(nil)).Elem()
}

type httpAuthenticatorArgs struct {
	// Forwarding request body.
	Bodies []HttpAuthenticatorBody `pulumi:"bodies"`
	// Maximum concurrent connections, default 8, range: 1-20.
	Concurrency *int `pulumi:"concurrency"`
	// Connection timeout, unit: seconds, range: 1-30.
	ConnectTimeout *int `pulumi:"connectTimeout"`
	// JWKS endpoint.
	Endpoint string `pulumi:"endpoint"`
	// Forwarding request header.
	Headers []HttpAuthenticatorHeader `pulumi:"headers"`
	// Instance ID.
	InstanceId string `pulumi:"instanceId"`
	// Network request method GET or POST, default POST.
	Method *string `pulumi:"method"`
	// Request timeout, unit: seconds, range: 1-30.
	ReadTimeout *int `pulumi:"readTimeout"`
	// Remark.
	Remark *string `pulumi:"remark"`
	// Is the authenticator enabled: open enable; Close close.
	Status *string `pulumi:"status"`
}

// The set of arguments for constructing a HttpAuthenticator resource.
type HttpAuthenticatorArgs struct {
	// Forwarding request body.
	Bodies HttpAuthenticatorBodyArrayInput
	// Maximum concurrent connections, default 8, range: 1-20.
	Concurrency pulumi.IntPtrInput
	// Connection timeout, unit: seconds, range: 1-30.
	ConnectTimeout pulumi.IntPtrInput
	// JWKS endpoint.
	Endpoint pulumi.StringInput
	// Forwarding request header.
	Headers HttpAuthenticatorHeaderArrayInput
	// Instance ID.
	InstanceId pulumi.StringInput
	// Network request method GET or POST, default POST.
	Method pulumi.StringPtrInput
	// Request timeout, unit: seconds, range: 1-30.
	ReadTimeout pulumi.IntPtrInput
	// Remark.
	Remark pulumi.StringPtrInput
	// Is the authenticator enabled: open enable; Close close.
	Status pulumi.StringPtrInput
}

func (HttpAuthenticatorArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*httpAuthenticatorArgs)(nil)).Elem()
}

type HttpAuthenticatorInput interface {
	pulumi.Input

	ToHttpAuthenticatorOutput() HttpAuthenticatorOutput
	ToHttpAuthenticatorOutputWithContext(ctx context.Context) HttpAuthenticatorOutput
}

func (*HttpAuthenticator) ElementType() reflect.Type {
	return reflect.TypeOf((**HttpAuthenticator)(nil)).Elem()
}

func (i *HttpAuthenticator) ToHttpAuthenticatorOutput() HttpAuthenticatorOutput {
	return i.ToHttpAuthenticatorOutputWithContext(context.Background())
}

func (i *HttpAuthenticator) ToHttpAuthenticatorOutputWithContext(ctx context.Context) HttpAuthenticatorOutput {
	return pulumi.ToOutputWithContext(ctx, i).(HttpAuthenticatorOutput)
}

// HttpAuthenticatorArrayInput is an input type that accepts HttpAuthenticatorArray and HttpAuthenticatorArrayOutput values.
// You can construct a concrete instance of `HttpAuthenticatorArrayInput` via:
//
//	HttpAuthenticatorArray{ HttpAuthenticatorArgs{...} }
type HttpAuthenticatorArrayInput interface {
	pulumi.Input

	ToHttpAuthenticatorArrayOutput() HttpAuthenticatorArrayOutput
	ToHttpAuthenticatorArrayOutputWithContext(context.Context) HttpAuthenticatorArrayOutput
}

type HttpAuthenticatorArray []HttpAuthenticatorInput

func (HttpAuthenticatorArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*HttpAuthenticator)(nil)).Elem()
}

func (i HttpAuthenticatorArray) ToHttpAuthenticatorArrayOutput() HttpAuthenticatorArrayOutput {
	return i.ToHttpAuthenticatorArrayOutputWithContext(context.Background())
}

func (i HttpAuthenticatorArray) ToHttpAuthenticatorArrayOutputWithContext(ctx context.Context) HttpAuthenticatorArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(HttpAuthenticatorArrayOutput)
}

// HttpAuthenticatorMapInput is an input type that accepts HttpAuthenticatorMap and HttpAuthenticatorMapOutput values.
// You can construct a concrete instance of `HttpAuthenticatorMapInput` via:
//
//	HttpAuthenticatorMap{ "key": HttpAuthenticatorArgs{...} }
type HttpAuthenticatorMapInput interface {
	pulumi.Input

	ToHttpAuthenticatorMapOutput() HttpAuthenticatorMapOutput
	ToHttpAuthenticatorMapOutputWithContext(context.Context) HttpAuthenticatorMapOutput
}

type HttpAuthenticatorMap map[string]HttpAuthenticatorInput

func (HttpAuthenticatorMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*HttpAuthenticator)(nil)).Elem()
}

func (i HttpAuthenticatorMap) ToHttpAuthenticatorMapOutput() HttpAuthenticatorMapOutput {
	return i.ToHttpAuthenticatorMapOutputWithContext(context.Background())
}

func (i HttpAuthenticatorMap) ToHttpAuthenticatorMapOutputWithContext(ctx context.Context) HttpAuthenticatorMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(HttpAuthenticatorMapOutput)
}

type HttpAuthenticatorOutput struct{ *pulumi.OutputState }

func (HttpAuthenticatorOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**HttpAuthenticator)(nil)).Elem()
}

func (o HttpAuthenticatorOutput) ToHttpAuthenticatorOutput() HttpAuthenticatorOutput {
	return o
}

func (o HttpAuthenticatorOutput) ToHttpAuthenticatorOutputWithContext(ctx context.Context) HttpAuthenticatorOutput {
	return o
}

// Forwarding request body.
func (o HttpAuthenticatorOutput) Bodies() HttpAuthenticatorBodyArrayOutput {
	return o.ApplyT(func(v *HttpAuthenticator) HttpAuthenticatorBodyArrayOutput { return v.Bodies }).(HttpAuthenticatorBodyArrayOutput)
}

// Maximum concurrent connections, default 8, range: 1-20.
func (o HttpAuthenticatorOutput) Concurrency() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *HttpAuthenticator) pulumi.IntPtrOutput { return v.Concurrency }).(pulumi.IntPtrOutput)
}

// Connection timeout, unit: seconds, range: 1-30.
func (o HttpAuthenticatorOutput) ConnectTimeout() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *HttpAuthenticator) pulumi.IntPtrOutput { return v.ConnectTimeout }).(pulumi.IntPtrOutput)
}

// JWKS endpoint.
func (o HttpAuthenticatorOutput) Endpoint() pulumi.StringOutput {
	return o.ApplyT(func(v *HttpAuthenticator) pulumi.StringOutput { return v.Endpoint }).(pulumi.StringOutput)
}

// Forwarding request header.
func (o HttpAuthenticatorOutput) Headers() HttpAuthenticatorHeaderArrayOutput {
	return o.ApplyT(func(v *HttpAuthenticator) HttpAuthenticatorHeaderArrayOutput { return v.Headers }).(HttpAuthenticatorHeaderArrayOutput)
}

// Instance ID.
func (o HttpAuthenticatorOutput) InstanceId() pulumi.StringOutput {
	return o.ApplyT(func(v *HttpAuthenticator) pulumi.StringOutput { return v.InstanceId }).(pulumi.StringOutput)
}

// Network request method GET or POST, default POST.
func (o HttpAuthenticatorOutput) Method() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *HttpAuthenticator) pulumi.StringPtrOutput { return v.Method }).(pulumi.StringPtrOutput)
}

// Request timeout, unit: seconds, range: 1-30.
func (o HttpAuthenticatorOutput) ReadTimeout() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *HttpAuthenticator) pulumi.IntPtrOutput { return v.ReadTimeout }).(pulumi.IntPtrOutput)
}

// Remark.
func (o HttpAuthenticatorOutput) Remark() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *HttpAuthenticator) pulumi.StringPtrOutput { return v.Remark }).(pulumi.StringPtrOutput)
}

// Is the authenticator enabled: open enable; Close close.
func (o HttpAuthenticatorOutput) Status() pulumi.StringOutput {
	return o.ApplyT(func(v *HttpAuthenticator) pulumi.StringOutput { return v.Status }).(pulumi.StringOutput)
}

type HttpAuthenticatorArrayOutput struct{ *pulumi.OutputState }

func (HttpAuthenticatorArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*HttpAuthenticator)(nil)).Elem()
}

func (o HttpAuthenticatorArrayOutput) ToHttpAuthenticatorArrayOutput() HttpAuthenticatorArrayOutput {
	return o
}

func (o HttpAuthenticatorArrayOutput) ToHttpAuthenticatorArrayOutputWithContext(ctx context.Context) HttpAuthenticatorArrayOutput {
	return o
}

func (o HttpAuthenticatorArrayOutput) Index(i pulumi.IntInput) HttpAuthenticatorOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *HttpAuthenticator {
		return vs[0].([]*HttpAuthenticator)[vs[1].(int)]
	}).(HttpAuthenticatorOutput)
}

type HttpAuthenticatorMapOutput struct{ *pulumi.OutputState }

func (HttpAuthenticatorMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*HttpAuthenticator)(nil)).Elem()
}

func (o HttpAuthenticatorMapOutput) ToHttpAuthenticatorMapOutput() HttpAuthenticatorMapOutput {
	return o
}

func (o HttpAuthenticatorMapOutput) ToHttpAuthenticatorMapOutputWithContext(ctx context.Context) HttpAuthenticatorMapOutput {
	return o
}

func (o HttpAuthenticatorMapOutput) MapIndex(k pulumi.StringInput) HttpAuthenticatorOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *HttpAuthenticator {
		return vs[0].(map[string]*HttpAuthenticator)[vs[1].(string)]
	}).(HttpAuthenticatorOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*HttpAuthenticatorInput)(nil)).Elem(), &HttpAuthenticator{})
	pulumi.RegisterInputType(reflect.TypeOf((*HttpAuthenticatorArrayInput)(nil)).Elem(), HttpAuthenticatorArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*HttpAuthenticatorMapInput)(nil)).Elem(), HttpAuthenticatorMap{})
	pulumi.RegisterOutputType(HttpAuthenticatorOutput{})
	pulumi.RegisterOutputType(HttpAuthenticatorArrayOutput{})
	pulumi.RegisterOutputType(HttpAuthenticatorMapOutput{})
}
