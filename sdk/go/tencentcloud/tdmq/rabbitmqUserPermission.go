// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package tdmq

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/internal"
)

// Provides a resource to create a tdmq rabbitmqUserPermission
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/tdmq"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			// create rabbitmq instance
//			example, err := tdmq.NewRabbitmqVipInstance(ctx, "example", &tdmq.RabbitmqVipInstanceArgs{
//				ZoneIds: pulumi.IntArray{
//					availabilityZone,
//				},
//				VpcId:                            pulumi.Any(vpcId),
//				SubnetId:                         pulumi.Any(subnetId),
//				ClusterName:                      pulumi.String("tf-example-rabbitmq"),
//				NodeSpec:                         pulumi.String("rabbit-vip-basic-1"),
//				NodeNum:                          pulumi.Int(1),
//				StorageSize:                      pulumi.Int(200),
//				EnableCreateDefaultHaMirrorQueue: pulumi.Bool(false),
//				AutoRenewFlag:                    pulumi.Bool(true),
//				TimeSpan:                         pulumi.Int(1),
//			})
//			if err != nil {
//				return err
//			}
//			// create rabbitmq user
//			exampleRabbitmqUser, err := tdmq.NewRabbitmqUser(ctx, "example", &tdmq.RabbitmqUserArgs{
//				InstanceId:  example.ID(),
//				User:        pulumi.String("tf-example-user"),
//				Password:    pulumi.String("Password@123"),
//				Description: pulumi.String("test user"),
//				Tags: pulumi.StringArray{
//					pulumi.String("management"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			// create virtual host
//			exampleRabbitmqVirtualHost, err := tdmq.NewRabbitmqVirtualHost(ctx, "example", &tdmq.RabbitmqVirtualHostArgs{
//				InstanceId:  example.ID(),
//				VirtualHost: pulumi.String("tf-example-vhost"),
//				Description: pulumi.String("test virtual host"),
//				TraceFlag:   pulumi.Bool(false),
//			})
//			if err != nil {
//				return err
//			}
//			// create user permission
//			_, err = tdmq.NewRabbitmqUserPermission(ctx, "example", &tdmq.RabbitmqUserPermissionArgs{
//				InstanceId:   example.ID(),
//				User:         exampleRabbitmqUser.User,
//				VirtualHost:  exampleRabbitmqVirtualHost.VirtualHost,
//				ConfigRegexp: pulumi.String(".*"),
//				WriteRegexp:  pulumi.String(".*"),
//				ReadRegexp:   pulumi.String(".*"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// tdmq rabbitmq_user_permission can be imported using the id, e.g.
//
// ```sh
// $ pulumi import tencentcloud:Tdmq/rabbitmqUserPermission:RabbitmqUserPermission example amqp-xxxxxxxx#user#vhost
// ```
type RabbitmqUserPermission struct {
	pulumi.CustomResourceState

	// Configure permission regexp, controls which resources can be declared.
	ConfigRegexp pulumi.StringOutput `pulumi:"configRegexp"`
	// Cluster instance ID.
	InstanceId pulumi.StringOutput `pulumi:"instanceId"`
	// Read permission regexp, controls which resources can be read.
	ReadRegexp pulumi.StringOutput `pulumi:"readRegexp"`
	// Username.
	User pulumi.StringOutput `pulumi:"user"`
	// VirtualHost name.
	VirtualHost pulumi.StringOutput `pulumi:"virtualHost"`
	// Write permission regexp, controls which resources can be written.
	WriteRegexp pulumi.StringOutput `pulumi:"writeRegexp"`
}

// NewRabbitmqUserPermission registers a new resource with the given unique name, arguments, and options.
func NewRabbitmqUserPermission(ctx *pulumi.Context,
	name string, args *RabbitmqUserPermissionArgs, opts ...pulumi.ResourceOption) (*RabbitmqUserPermission, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ConfigRegexp == nil {
		return nil, errors.New("invalid value for required argument 'ConfigRegexp'")
	}
	if args.InstanceId == nil {
		return nil, errors.New("invalid value for required argument 'InstanceId'")
	}
	if args.ReadRegexp == nil {
		return nil, errors.New("invalid value for required argument 'ReadRegexp'")
	}
	if args.User == nil {
		return nil, errors.New("invalid value for required argument 'User'")
	}
	if args.VirtualHost == nil {
		return nil, errors.New("invalid value for required argument 'VirtualHost'")
	}
	if args.WriteRegexp == nil {
		return nil, errors.New("invalid value for required argument 'WriteRegexp'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource RabbitmqUserPermission
	err := ctx.RegisterResource("tencentcloud:Tdmq/rabbitmqUserPermission:RabbitmqUserPermission", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetRabbitmqUserPermission gets an existing RabbitmqUserPermission resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetRabbitmqUserPermission(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *RabbitmqUserPermissionState, opts ...pulumi.ResourceOption) (*RabbitmqUserPermission, error) {
	var resource RabbitmqUserPermission
	err := ctx.ReadResource("tencentcloud:Tdmq/rabbitmqUserPermission:RabbitmqUserPermission", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering RabbitmqUserPermission resources.
type rabbitmqUserPermissionState struct {
	// Configure permission regexp, controls which resources can be declared.
	ConfigRegexp *string `pulumi:"configRegexp"`
	// Cluster instance ID.
	InstanceId *string `pulumi:"instanceId"`
	// Read permission regexp, controls which resources can be read.
	ReadRegexp *string `pulumi:"readRegexp"`
	// Username.
	User *string `pulumi:"user"`
	// VirtualHost name.
	VirtualHost *string `pulumi:"virtualHost"`
	// Write permission regexp, controls which resources can be written.
	WriteRegexp *string `pulumi:"writeRegexp"`
}

type RabbitmqUserPermissionState struct {
	// Configure permission regexp, controls which resources can be declared.
	ConfigRegexp pulumi.StringPtrInput
	// Cluster instance ID.
	InstanceId pulumi.StringPtrInput
	// Read permission regexp, controls which resources can be read.
	ReadRegexp pulumi.StringPtrInput
	// Username.
	User pulumi.StringPtrInput
	// VirtualHost name.
	VirtualHost pulumi.StringPtrInput
	// Write permission regexp, controls which resources can be written.
	WriteRegexp pulumi.StringPtrInput
}

func (RabbitmqUserPermissionState) ElementType() reflect.Type {
	return reflect.TypeOf((*rabbitmqUserPermissionState)(nil)).Elem()
}

type rabbitmqUserPermissionArgs struct {
	// Configure permission regexp, controls which resources can be declared.
	ConfigRegexp string `pulumi:"configRegexp"`
	// Cluster instance ID.
	InstanceId string `pulumi:"instanceId"`
	// Read permission regexp, controls which resources can be read.
	ReadRegexp string `pulumi:"readRegexp"`
	// Username.
	User string `pulumi:"user"`
	// VirtualHost name.
	VirtualHost string `pulumi:"virtualHost"`
	// Write permission regexp, controls which resources can be written.
	WriteRegexp string `pulumi:"writeRegexp"`
}

// The set of arguments for constructing a RabbitmqUserPermission resource.
type RabbitmqUserPermissionArgs struct {
	// Configure permission regexp, controls which resources can be declared.
	ConfigRegexp pulumi.StringInput
	// Cluster instance ID.
	InstanceId pulumi.StringInput
	// Read permission regexp, controls which resources can be read.
	ReadRegexp pulumi.StringInput
	// Username.
	User pulumi.StringInput
	// VirtualHost name.
	VirtualHost pulumi.StringInput
	// Write permission regexp, controls which resources can be written.
	WriteRegexp pulumi.StringInput
}

func (RabbitmqUserPermissionArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*rabbitmqUserPermissionArgs)(nil)).Elem()
}

type RabbitmqUserPermissionInput interface {
	pulumi.Input

	ToRabbitmqUserPermissionOutput() RabbitmqUserPermissionOutput
	ToRabbitmqUserPermissionOutputWithContext(ctx context.Context) RabbitmqUserPermissionOutput
}

func (*RabbitmqUserPermission) ElementType() reflect.Type {
	return reflect.TypeOf((**RabbitmqUserPermission)(nil)).Elem()
}

func (i *RabbitmqUserPermission) ToRabbitmqUserPermissionOutput() RabbitmqUserPermissionOutput {
	return i.ToRabbitmqUserPermissionOutputWithContext(context.Background())
}

func (i *RabbitmqUserPermission) ToRabbitmqUserPermissionOutputWithContext(ctx context.Context) RabbitmqUserPermissionOutput {
	return pulumi.ToOutputWithContext(ctx, i).(RabbitmqUserPermissionOutput)
}

// RabbitmqUserPermissionArrayInput is an input type that accepts RabbitmqUserPermissionArray and RabbitmqUserPermissionArrayOutput values.
// You can construct a concrete instance of `RabbitmqUserPermissionArrayInput` via:
//
//	RabbitmqUserPermissionArray{ RabbitmqUserPermissionArgs{...} }
type RabbitmqUserPermissionArrayInput interface {
	pulumi.Input

	ToRabbitmqUserPermissionArrayOutput() RabbitmqUserPermissionArrayOutput
	ToRabbitmqUserPermissionArrayOutputWithContext(context.Context) RabbitmqUserPermissionArrayOutput
}

type RabbitmqUserPermissionArray []RabbitmqUserPermissionInput

func (RabbitmqUserPermissionArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*RabbitmqUserPermission)(nil)).Elem()
}

func (i RabbitmqUserPermissionArray) ToRabbitmqUserPermissionArrayOutput() RabbitmqUserPermissionArrayOutput {
	return i.ToRabbitmqUserPermissionArrayOutputWithContext(context.Background())
}

func (i RabbitmqUserPermissionArray) ToRabbitmqUserPermissionArrayOutputWithContext(ctx context.Context) RabbitmqUserPermissionArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(RabbitmqUserPermissionArrayOutput)
}

// RabbitmqUserPermissionMapInput is an input type that accepts RabbitmqUserPermissionMap and RabbitmqUserPermissionMapOutput values.
// You can construct a concrete instance of `RabbitmqUserPermissionMapInput` via:
//
//	RabbitmqUserPermissionMap{ "key": RabbitmqUserPermissionArgs{...} }
type RabbitmqUserPermissionMapInput interface {
	pulumi.Input

	ToRabbitmqUserPermissionMapOutput() RabbitmqUserPermissionMapOutput
	ToRabbitmqUserPermissionMapOutputWithContext(context.Context) RabbitmqUserPermissionMapOutput
}

type RabbitmqUserPermissionMap map[string]RabbitmqUserPermissionInput

func (RabbitmqUserPermissionMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*RabbitmqUserPermission)(nil)).Elem()
}

func (i RabbitmqUserPermissionMap) ToRabbitmqUserPermissionMapOutput() RabbitmqUserPermissionMapOutput {
	return i.ToRabbitmqUserPermissionMapOutputWithContext(context.Background())
}

func (i RabbitmqUserPermissionMap) ToRabbitmqUserPermissionMapOutputWithContext(ctx context.Context) RabbitmqUserPermissionMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(RabbitmqUserPermissionMapOutput)
}

type RabbitmqUserPermissionOutput struct{ *pulumi.OutputState }

func (RabbitmqUserPermissionOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**RabbitmqUserPermission)(nil)).Elem()
}

func (o RabbitmqUserPermissionOutput) ToRabbitmqUserPermissionOutput() RabbitmqUserPermissionOutput {
	return o
}

func (o RabbitmqUserPermissionOutput) ToRabbitmqUserPermissionOutputWithContext(ctx context.Context) RabbitmqUserPermissionOutput {
	return o
}

// Configure permission regexp, controls which resources can be declared.
func (o RabbitmqUserPermissionOutput) ConfigRegexp() pulumi.StringOutput {
	return o.ApplyT(func(v *RabbitmqUserPermission) pulumi.StringOutput { return v.ConfigRegexp }).(pulumi.StringOutput)
}

// Cluster instance ID.
func (o RabbitmqUserPermissionOutput) InstanceId() pulumi.StringOutput {
	return o.ApplyT(func(v *RabbitmqUserPermission) pulumi.StringOutput { return v.InstanceId }).(pulumi.StringOutput)
}

// Read permission regexp, controls which resources can be read.
func (o RabbitmqUserPermissionOutput) ReadRegexp() pulumi.StringOutput {
	return o.ApplyT(func(v *RabbitmqUserPermission) pulumi.StringOutput { return v.ReadRegexp }).(pulumi.StringOutput)
}

// Username.
func (o RabbitmqUserPermissionOutput) User() pulumi.StringOutput {
	return o.ApplyT(func(v *RabbitmqUserPermission) pulumi.StringOutput { return v.User }).(pulumi.StringOutput)
}

// VirtualHost name.
func (o RabbitmqUserPermissionOutput) VirtualHost() pulumi.StringOutput {
	return o.ApplyT(func(v *RabbitmqUserPermission) pulumi.StringOutput { return v.VirtualHost }).(pulumi.StringOutput)
}

// Write permission regexp, controls which resources can be written.
func (o RabbitmqUserPermissionOutput) WriteRegexp() pulumi.StringOutput {
	return o.ApplyT(func(v *RabbitmqUserPermission) pulumi.StringOutput { return v.WriteRegexp }).(pulumi.StringOutput)
}

type RabbitmqUserPermissionArrayOutput struct{ *pulumi.OutputState }

func (RabbitmqUserPermissionArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*RabbitmqUserPermission)(nil)).Elem()
}

func (o RabbitmqUserPermissionArrayOutput) ToRabbitmqUserPermissionArrayOutput() RabbitmqUserPermissionArrayOutput {
	return o
}

func (o RabbitmqUserPermissionArrayOutput) ToRabbitmqUserPermissionArrayOutputWithContext(ctx context.Context) RabbitmqUserPermissionArrayOutput {
	return o
}

func (o RabbitmqUserPermissionArrayOutput) Index(i pulumi.IntInput) RabbitmqUserPermissionOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *RabbitmqUserPermission {
		return vs[0].([]*RabbitmqUserPermission)[vs[1].(int)]
	}).(RabbitmqUserPermissionOutput)
}

type RabbitmqUserPermissionMapOutput struct{ *pulumi.OutputState }

func (RabbitmqUserPermissionMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*RabbitmqUserPermission)(nil)).Elem()
}

func (o RabbitmqUserPermissionMapOutput) ToRabbitmqUserPermissionMapOutput() RabbitmqUserPermissionMapOutput {
	return o
}

func (o RabbitmqUserPermissionMapOutput) ToRabbitmqUserPermissionMapOutputWithContext(ctx context.Context) RabbitmqUserPermissionMapOutput {
	return o
}

func (o RabbitmqUserPermissionMapOutput) MapIndex(k pulumi.StringInput) RabbitmqUserPermissionOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *RabbitmqUserPermission {
		return vs[0].(map[string]*RabbitmqUserPermission)[vs[1].(string)]
	}).(RabbitmqUserPermissionOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*RabbitmqUserPermissionInput)(nil)).Elem(), &RabbitmqUserPermission{})
	pulumi.RegisterInputType(reflect.TypeOf((*RabbitmqUserPermissionArrayInput)(nil)).Elem(), RabbitmqUserPermissionArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*RabbitmqUserPermissionMapInput)(nil)).Elem(), RabbitmqUserPermissionMap{})
	pulumi.RegisterOutputType(RabbitmqUserPermissionOutput{})
	pulumi.RegisterOutputType(RabbitmqUserPermissionArrayOutput{})
	pulumi.RegisterOutputType(RabbitmqUserPermissionMapOutput{})
}
