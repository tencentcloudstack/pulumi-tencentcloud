// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package gwlb

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/internal"
)

// Provides a resource to create a gwlb gwlbTargetGroupRegisterInstances
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi/config"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/gwlb"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/images"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/instance"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/subnet"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/vpc"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			cfg := config.New(ctx, "")
//			availabilityZone := "ap-guangzhou-3"
//			if param := cfg.Get("availabilityZone"); param != "" {
//				availabilityZone = param
//			}
//			vpc, err := vpc.NewInstance(ctx, "vpc", &vpc.InstanceArgs{
//				Name:      pulumi.String("vpc"),
//				CidrBlock: pulumi.String("10.0.0.0/16"),
//			})
//			if err != nil {
//				return err
//			}
//			subnet, err := subnet.NewInstance(ctx, "subnet", &subnet.InstanceArgs{
//				AvailabilityZone: pulumi.String(availabilityZone),
//				Name:             pulumi.String("subnet"),
//				VpcId:            vpc.ID(),
//				CidrBlock:        pulumi.String("10.0.20.0/28"),
//				IsMulticast:      pulumi.Bool(false),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = gwlb.NewInstance(ctx, "gwlb_instance", &gwlb.InstanceArgs{
//				VpcId:            vpc.ID(),
//				SubnetId:         subnet.ID(),
//				LoadBalancerName: pulumi.String("tf-test"),
//				LbChargeType:     pulumi.String("POSTPAID_BY_HOUR"),
//				Tags: gwlb.InstanceTagArray{
//					&gwlb.InstanceTagArgs{
//						TagKey:   pulumi.String("test_key"),
//						TagValue: pulumi.String("tag_value"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			gwlbTargetGroup, err := gwlb.NewTargetGroup(ctx, "gwlb_target_group", &gwlb.TargetGroupArgs{
//				TargetGroupName: pulumi.String("tf-test"),
//				VpcId:           vpc.ID(),
//				Port:            pulumi.Int(6081),
//				HealthCheck: &gwlb.TargetGroupHealthCheckArgs{
//					HealthSwitch: pulumi.Bool(true),
//					Protocol:     pulumi.String("tcp"),
//					Port:         pulumi.Int(6081),
//					Timeout:      pulumi.Int(2),
//					IntervalTime: pulumi.Int(5),
//					HealthNum:    pulumi.Int(3),
//					UnHealthNum:  pulumi.Int(3),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			_default, err := images.GetInstance(ctx, &images.GetInstanceArgs{
//				ImageTypes: []string{
//					"PUBLIC_IMAGE",
//				},
//				ImageNameRegex: pulumi.StringRef("Final"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			foo, err := instance.NewInstance(ctx, "foo", &instance.InstanceArgs{
//				SystemDiskType:          pulumi.String("CLOUD_PREMIUM"),
//				InstanceName:            pulumi.String("tf-test"),
//				ImageId:                 pulumi.String(_default.Images[0].ImageId),
//				InstanceType:            pulumi.String("S5.MEDIUM2"),
//				SystemDiskSize:          pulumi.Int(100),
//				SubnetId:                subnet.ID(),
//				VpcId:                   vpc.ID(),
//				Hostname:                pulumi.String("tf-test"),
//				DisableSecurityService:  pulumi.Bool(true),
//				AllocatePublicIp:        pulumi.Bool(true),
//				InternetMaxBandwidthOut: pulumi.Int(5),
//				AvailabilityZone:        pulumi.String(availabilityZone),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = gwlb.NewTargetGroupRegisterInstances(ctx, "gwlb_target_group_register_instances", &gwlb.TargetGroupRegisterInstancesArgs{
//				TargetGroupId: gwlbTargetGroup.ID(),
//				TargetGroupInstances: gwlb.TargetGroupRegisterInstancesTargetGroupInstanceArray{
//					&gwlb.TargetGroupRegisterInstancesTargetGroupInstanceArgs{
//						BindIp: foo.PrivateIp,
//						Port:   pulumi.Int(6081),
//						Weight: pulumi.Int(0),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// gwlb gwlb_target_group_register_instances can be imported using the id, e.g.
//
// ```sh
// $ pulumi import tencentcloud:Gwlb/targetGroupRegisterInstances:TargetGroupRegisterInstances gwlb_target_group_register_instances gwlb_target_group_register_instances_id
// ```
type TargetGroupRegisterInstances struct {
	pulumi.CustomResourceState

	// Target group ID.
	TargetGroupId pulumi.StringOutput `pulumi:"targetGroupId"`
	// Server instance array.
	TargetGroupInstances TargetGroupRegisterInstancesTargetGroupInstanceArrayOutput `pulumi:"targetGroupInstances"`
}

// NewTargetGroupRegisterInstances registers a new resource with the given unique name, arguments, and options.
func NewTargetGroupRegisterInstances(ctx *pulumi.Context,
	name string, args *TargetGroupRegisterInstancesArgs, opts ...pulumi.ResourceOption) (*TargetGroupRegisterInstances, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.TargetGroupId == nil {
		return nil, errors.New("invalid value for required argument 'TargetGroupId'")
	}
	if args.TargetGroupInstances == nil {
		return nil, errors.New("invalid value for required argument 'TargetGroupInstances'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource TargetGroupRegisterInstances
	err := ctx.RegisterResource("tencentcloud:Gwlb/targetGroupRegisterInstances:TargetGroupRegisterInstances", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetTargetGroupRegisterInstances gets an existing TargetGroupRegisterInstances resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetTargetGroupRegisterInstances(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *TargetGroupRegisterInstancesState, opts ...pulumi.ResourceOption) (*TargetGroupRegisterInstances, error) {
	var resource TargetGroupRegisterInstances
	err := ctx.ReadResource("tencentcloud:Gwlb/targetGroupRegisterInstances:TargetGroupRegisterInstances", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering TargetGroupRegisterInstances resources.
type targetGroupRegisterInstancesState struct {
	// Target group ID.
	TargetGroupId *string `pulumi:"targetGroupId"`
	// Server instance array.
	TargetGroupInstances []TargetGroupRegisterInstancesTargetGroupInstance `pulumi:"targetGroupInstances"`
}

type TargetGroupRegisterInstancesState struct {
	// Target group ID.
	TargetGroupId pulumi.StringPtrInput
	// Server instance array.
	TargetGroupInstances TargetGroupRegisterInstancesTargetGroupInstanceArrayInput
}

func (TargetGroupRegisterInstancesState) ElementType() reflect.Type {
	return reflect.TypeOf((*targetGroupRegisterInstancesState)(nil)).Elem()
}

type targetGroupRegisterInstancesArgs struct {
	// Target group ID.
	TargetGroupId string `pulumi:"targetGroupId"`
	// Server instance array.
	TargetGroupInstances []TargetGroupRegisterInstancesTargetGroupInstance `pulumi:"targetGroupInstances"`
}

// The set of arguments for constructing a TargetGroupRegisterInstances resource.
type TargetGroupRegisterInstancesArgs struct {
	// Target group ID.
	TargetGroupId pulumi.StringInput
	// Server instance array.
	TargetGroupInstances TargetGroupRegisterInstancesTargetGroupInstanceArrayInput
}

func (TargetGroupRegisterInstancesArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*targetGroupRegisterInstancesArgs)(nil)).Elem()
}

type TargetGroupRegisterInstancesInput interface {
	pulumi.Input

	ToTargetGroupRegisterInstancesOutput() TargetGroupRegisterInstancesOutput
	ToTargetGroupRegisterInstancesOutputWithContext(ctx context.Context) TargetGroupRegisterInstancesOutput
}

func (*TargetGroupRegisterInstances) ElementType() reflect.Type {
	return reflect.TypeOf((**TargetGroupRegisterInstances)(nil)).Elem()
}

func (i *TargetGroupRegisterInstances) ToTargetGroupRegisterInstancesOutput() TargetGroupRegisterInstancesOutput {
	return i.ToTargetGroupRegisterInstancesOutputWithContext(context.Background())
}

func (i *TargetGroupRegisterInstances) ToTargetGroupRegisterInstancesOutputWithContext(ctx context.Context) TargetGroupRegisterInstancesOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TargetGroupRegisterInstancesOutput)
}

// TargetGroupRegisterInstancesArrayInput is an input type that accepts TargetGroupRegisterInstancesArray and TargetGroupRegisterInstancesArrayOutput values.
// You can construct a concrete instance of `TargetGroupRegisterInstancesArrayInput` via:
//
//	TargetGroupRegisterInstancesArray{ TargetGroupRegisterInstancesArgs{...} }
type TargetGroupRegisterInstancesArrayInput interface {
	pulumi.Input

	ToTargetGroupRegisterInstancesArrayOutput() TargetGroupRegisterInstancesArrayOutput
	ToTargetGroupRegisterInstancesArrayOutputWithContext(context.Context) TargetGroupRegisterInstancesArrayOutput
}

type TargetGroupRegisterInstancesArray []TargetGroupRegisterInstancesInput

func (TargetGroupRegisterInstancesArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*TargetGroupRegisterInstances)(nil)).Elem()
}

func (i TargetGroupRegisterInstancesArray) ToTargetGroupRegisterInstancesArrayOutput() TargetGroupRegisterInstancesArrayOutput {
	return i.ToTargetGroupRegisterInstancesArrayOutputWithContext(context.Background())
}

func (i TargetGroupRegisterInstancesArray) ToTargetGroupRegisterInstancesArrayOutputWithContext(ctx context.Context) TargetGroupRegisterInstancesArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TargetGroupRegisterInstancesArrayOutput)
}

// TargetGroupRegisterInstancesMapInput is an input type that accepts TargetGroupRegisterInstancesMap and TargetGroupRegisterInstancesMapOutput values.
// You can construct a concrete instance of `TargetGroupRegisterInstancesMapInput` via:
//
//	TargetGroupRegisterInstancesMap{ "key": TargetGroupRegisterInstancesArgs{...} }
type TargetGroupRegisterInstancesMapInput interface {
	pulumi.Input

	ToTargetGroupRegisterInstancesMapOutput() TargetGroupRegisterInstancesMapOutput
	ToTargetGroupRegisterInstancesMapOutputWithContext(context.Context) TargetGroupRegisterInstancesMapOutput
}

type TargetGroupRegisterInstancesMap map[string]TargetGroupRegisterInstancesInput

func (TargetGroupRegisterInstancesMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*TargetGroupRegisterInstances)(nil)).Elem()
}

func (i TargetGroupRegisterInstancesMap) ToTargetGroupRegisterInstancesMapOutput() TargetGroupRegisterInstancesMapOutput {
	return i.ToTargetGroupRegisterInstancesMapOutputWithContext(context.Background())
}

func (i TargetGroupRegisterInstancesMap) ToTargetGroupRegisterInstancesMapOutputWithContext(ctx context.Context) TargetGroupRegisterInstancesMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TargetGroupRegisterInstancesMapOutput)
}

type TargetGroupRegisterInstancesOutput struct{ *pulumi.OutputState }

func (TargetGroupRegisterInstancesOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**TargetGroupRegisterInstances)(nil)).Elem()
}

func (o TargetGroupRegisterInstancesOutput) ToTargetGroupRegisterInstancesOutput() TargetGroupRegisterInstancesOutput {
	return o
}

func (o TargetGroupRegisterInstancesOutput) ToTargetGroupRegisterInstancesOutputWithContext(ctx context.Context) TargetGroupRegisterInstancesOutput {
	return o
}

// Target group ID.
func (o TargetGroupRegisterInstancesOutput) TargetGroupId() pulumi.StringOutput {
	return o.ApplyT(func(v *TargetGroupRegisterInstances) pulumi.StringOutput { return v.TargetGroupId }).(pulumi.StringOutput)
}

// Server instance array.
func (o TargetGroupRegisterInstancesOutput) TargetGroupInstances() TargetGroupRegisterInstancesTargetGroupInstanceArrayOutput {
	return o.ApplyT(func(v *TargetGroupRegisterInstances) TargetGroupRegisterInstancesTargetGroupInstanceArrayOutput {
		return v.TargetGroupInstances
	}).(TargetGroupRegisterInstancesTargetGroupInstanceArrayOutput)
}

type TargetGroupRegisterInstancesArrayOutput struct{ *pulumi.OutputState }

func (TargetGroupRegisterInstancesArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*TargetGroupRegisterInstances)(nil)).Elem()
}

func (o TargetGroupRegisterInstancesArrayOutput) ToTargetGroupRegisterInstancesArrayOutput() TargetGroupRegisterInstancesArrayOutput {
	return o
}

func (o TargetGroupRegisterInstancesArrayOutput) ToTargetGroupRegisterInstancesArrayOutputWithContext(ctx context.Context) TargetGroupRegisterInstancesArrayOutput {
	return o
}

func (o TargetGroupRegisterInstancesArrayOutput) Index(i pulumi.IntInput) TargetGroupRegisterInstancesOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *TargetGroupRegisterInstances {
		return vs[0].([]*TargetGroupRegisterInstances)[vs[1].(int)]
	}).(TargetGroupRegisterInstancesOutput)
}

type TargetGroupRegisterInstancesMapOutput struct{ *pulumi.OutputState }

func (TargetGroupRegisterInstancesMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*TargetGroupRegisterInstances)(nil)).Elem()
}

func (o TargetGroupRegisterInstancesMapOutput) ToTargetGroupRegisterInstancesMapOutput() TargetGroupRegisterInstancesMapOutput {
	return o
}

func (o TargetGroupRegisterInstancesMapOutput) ToTargetGroupRegisterInstancesMapOutputWithContext(ctx context.Context) TargetGroupRegisterInstancesMapOutput {
	return o
}

func (o TargetGroupRegisterInstancesMapOutput) MapIndex(k pulumi.StringInput) TargetGroupRegisterInstancesOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *TargetGroupRegisterInstances {
		return vs[0].(map[string]*TargetGroupRegisterInstances)[vs[1].(string)]
	}).(TargetGroupRegisterInstancesOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*TargetGroupRegisterInstancesInput)(nil)).Elem(), &TargetGroupRegisterInstances{})
	pulumi.RegisterInputType(reflect.TypeOf((*TargetGroupRegisterInstancesArrayInput)(nil)).Elem(), TargetGroupRegisterInstancesArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*TargetGroupRegisterInstancesMapInput)(nil)).Elem(), TargetGroupRegisterInstancesMap{})
	pulumi.RegisterOutputType(TargetGroupRegisterInstancesOutput{})
	pulumi.RegisterOutputType(TargetGroupRegisterInstancesArrayOutput{})
	pulumi.RegisterOutputType(TargetGroupRegisterInstancesMapOutput{})
}
