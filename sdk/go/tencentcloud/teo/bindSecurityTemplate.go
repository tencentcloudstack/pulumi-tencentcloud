// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package teo

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/internal"
)

// Provides a resource to create a teo bindSecurityTemplate
//
// > **NOTE:** If the domain name you input has been bound to a policy template (including site-level protection policies), the default value is to replace the template currently bound to the domain name.
// **NOTE:** The current resource can only bind/unbind the template and domain name belonging to the same site.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/teo"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := teo.NewBindSecurityTemplate(ctx, "teo_bind_security_template", &teo.BindSecurityTemplateArgs{
//				Operate:    pulumi.String("unbind-use-default"),
//				TemplateId: pulumi.String("temp-7dr7dm78"),
//				ZoneId:     pulumi.String("zone-39quuimqg8r6"),
//				Entity:     pulumi.String("aaa.makn.cn"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// teo application_proxy_rule can be imported using the zoneId#templateId#entity, e.g.
//
// ```sh
// $ pulumi import tencentcloud:Teo/bindSecurityTemplate:BindSecurityTemplate teo_bind_security_template zone-39quuimqg8r6#temp-7dr7dm78#aaa.makn.cn
// ```
type BindSecurityTemplate struct {
	pulumi.CustomResourceState

	// List of domain names to bind to/unbind from a policy template.
	Entity pulumi.StringOutput `pulumi:"entity"`
	// Unbind operation option. valid values: `unbind-keep-policy`: unbind a domain name from the policy template while retaining the current policy. `unbind-use-default`: unbind a domain name from the policy template and use the default blank policy. default value: `unbind-keep-policy`.
	Operate pulumi.StringOutput `pulumi:"operate"`
	// If the passed-in domain is already bound to a policy template (including site-level protection policies), setting this parameter indicates whether to replace that template. The default value is true. Supported values are: `true`: Replace the currently bound template for the domain. `false`: Do not replace the currently bound template for the domain. Note: When set to false, if the passed-in domain is already bound to a policy template, the API will return an error; site-level protection policies are also a type of policy template.
	OverWrite pulumi.BoolOutput `pulumi:"overWrite"`
	// Instance configuration delivery status, the possible values are: `online`: the configuration has taken effect; `fail`: the configuration failed; `process`: the configuration is being delivered.
	Status pulumi.StringOutput `pulumi:"status"`
	// Specifies the ID of the policy template or the site global policy to be bound or unbound.
	// <li>To bind to a policy template, or unbind from it, specify the policy template ID.</li>.
	// <li>To bind to the site's global policy, or unbind from it, use the @ZoneLevel@domain parameter value.</li>.
	//
	// Note: After unbinding, the domain name will use an independent policy and rule quota will be calculated separately. Please make sure there is sufficient rule quota before unbinding.
	TemplateId pulumi.StringOutput `pulumi:"templateId"`
	// Site ID of the policy template to be bound to or unbound from.
	ZoneId pulumi.StringOutput `pulumi:"zoneId"`
}

// NewBindSecurityTemplate registers a new resource with the given unique name, arguments, and options.
func NewBindSecurityTemplate(ctx *pulumi.Context,
	name string, args *BindSecurityTemplateArgs, opts ...pulumi.ResourceOption) (*BindSecurityTemplate, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Entity == nil {
		return nil, errors.New("invalid value for required argument 'Entity'")
	}
	if args.TemplateId == nil {
		return nil, errors.New("invalid value for required argument 'TemplateId'")
	}
	if args.ZoneId == nil {
		return nil, errors.New("invalid value for required argument 'ZoneId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource BindSecurityTemplate
	err := ctx.RegisterResource("tencentcloud:Teo/bindSecurityTemplate:BindSecurityTemplate", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetBindSecurityTemplate gets an existing BindSecurityTemplate resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetBindSecurityTemplate(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *BindSecurityTemplateState, opts ...pulumi.ResourceOption) (*BindSecurityTemplate, error) {
	var resource BindSecurityTemplate
	err := ctx.ReadResource("tencentcloud:Teo/bindSecurityTemplate:BindSecurityTemplate", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering BindSecurityTemplate resources.
type bindSecurityTemplateState struct {
	// List of domain names to bind to/unbind from a policy template.
	Entity *string `pulumi:"entity"`
	// Unbind operation option. valid values: `unbind-keep-policy`: unbind a domain name from the policy template while retaining the current policy. `unbind-use-default`: unbind a domain name from the policy template and use the default blank policy. default value: `unbind-keep-policy`.
	Operate *string `pulumi:"operate"`
	// If the passed-in domain is already bound to a policy template (including site-level protection policies), setting this parameter indicates whether to replace that template. The default value is true. Supported values are: `true`: Replace the currently bound template for the domain. `false`: Do not replace the currently bound template for the domain. Note: When set to false, if the passed-in domain is already bound to a policy template, the API will return an error; site-level protection policies are also a type of policy template.
	OverWrite *bool `pulumi:"overWrite"`
	// Instance configuration delivery status, the possible values are: `online`: the configuration has taken effect; `fail`: the configuration failed; `process`: the configuration is being delivered.
	Status *string `pulumi:"status"`
	// Specifies the ID of the policy template or the site global policy to be bound or unbound.
	// <li>To bind to a policy template, or unbind from it, specify the policy template ID.</li>.
	// <li>To bind to the site's global policy, or unbind from it, use the @ZoneLevel@domain parameter value.</li>.
	//
	// Note: After unbinding, the domain name will use an independent policy and rule quota will be calculated separately. Please make sure there is sufficient rule quota before unbinding.
	TemplateId *string `pulumi:"templateId"`
	// Site ID of the policy template to be bound to or unbound from.
	ZoneId *string `pulumi:"zoneId"`
}

type BindSecurityTemplateState struct {
	// List of domain names to bind to/unbind from a policy template.
	Entity pulumi.StringPtrInput
	// Unbind operation option. valid values: `unbind-keep-policy`: unbind a domain name from the policy template while retaining the current policy. `unbind-use-default`: unbind a domain name from the policy template and use the default blank policy. default value: `unbind-keep-policy`.
	Operate pulumi.StringPtrInput
	// If the passed-in domain is already bound to a policy template (including site-level protection policies), setting this parameter indicates whether to replace that template. The default value is true. Supported values are: `true`: Replace the currently bound template for the domain. `false`: Do not replace the currently bound template for the domain. Note: When set to false, if the passed-in domain is already bound to a policy template, the API will return an error; site-level protection policies are also a type of policy template.
	OverWrite pulumi.BoolPtrInput
	// Instance configuration delivery status, the possible values are: `online`: the configuration has taken effect; `fail`: the configuration failed; `process`: the configuration is being delivered.
	Status pulumi.StringPtrInput
	// Specifies the ID of the policy template or the site global policy to be bound or unbound.
	// <li>To bind to a policy template, or unbind from it, specify the policy template ID.</li>.
	// <li>To bind to the site's global policy, or unbind from it, use the @ZoneLevel@domain parameter value.</li>.
	//
	// Note: After unbinding, the domain name will use an independent policy and rule quota will be calculated separately. Please make sure there is sufficient rule quota before unbinding.
	TemplateId pulumi.StringPtrInput
	// Site ID of the policy template to be bound to or unbound from.
	ZoneId pulumi.StringPtrInput
}

func (BindSecurityTemplateState) ElementType() reflect.Type {
	return reflect.TypeOf((*bindSecurityTemplateState)(nil)).Elem()
}

type bindSecurityTemplateArgs struct {
	// List of domain names to bind to/unbind from a policy template.
	Entity string `pulumi:"entity"`
	// Unbind operation option. valid values: `unbind-keep-policy`: unbind a domain name from the policy template while retaining the current policy. `unbind-use-default`: unbind a domain name from the policy template and use the default blank policy. default value: `unbind-keep-policy`.
	Operate *string `pulumi:"operate"`
	// If the passed-in domain is already bound to a policy template (including site-level protection policies), setting this parameter indicates whether to replace that template. The default value is true. Supported values are: `true`: Replace the currently bound template for the domain. `false`: Do not replace the currently bound template for the domain. Note: When set to false, if the passed-in domain is already bound to a policy template, the API will return an error; site-level protection policies are also a type of policy template.
	OverWrite *bool `pulumi:"overWrite"`
	// Specifies the ID of the policy template or the site global policy to be bound or unbound.
	// <li>To bind to a policy template, or unbind from it, specify the policy template ID.</li>.
	// <li>To bind to the site's global policy, or unbind from it, use the @ZoneLevel@domain parameter value.</li>.
	//
	// Note: After unbinding, the domain name will use an independent policy and rule quota will be calculated separately. Please make sure there is sufficient rule quota before unbinding.
	TemplateId string `pulumi:"templateId"`
	// Site ID of the policy template to be bound to or unbound from.
	ZoneId string `pulumi:"zoneId"`
}

// The set of arguments for constructing a BindSecurityTemplate resource.
type BindSecurityTemplateArgs struct {
	// List of domain names to bind to/unbind from a policy template.
	Entity pulumi.StringInput
	// Unbind operation option. valid values: `unbind-keep-policy`: unbind a domain name from the policy template while retaining the current policy. `unbind-use-default`: unbind a domain name from the policy template and use the default blank policy. default value: `unbind-keep-policy`.
	Operate pulumi.StringPtrInput
	// If the passed-in domain is already bound to a policy template (including site-level protection policies), setting this parameter indicates whether to replace that template. The default value is true. Supported values are: `true`: Replace the currently bound template for the domain. `false`: Do not replace the currently bound template for the domain. Note: When set to false, if the passed-in domain is already bound to a policy template, the API will return an error; site-level protection policies are also a type of policy template.
	OverWrite pulumi.BoolPtrInput
	// Specifies the ID of the policy template or the site global policy to be bound or unbound.
	// <li>To bind to a policy template, or unbind from it, specify the policy template ID.</li>.
	// <li>To bind to the site's global policy, or unbind from it, use the @ZoneLevel@domain parameter value.</li>.
	//
	// Note: After unbinding, the domain name will use an independent policy and rule quota will be calculated separately. Please make sure there is sufficient rule quota before unbinding.
	TemplateId pulumi.StringInput
	// Site ID of the policy template to be bound to or unbound from.
	ZoneId pulumi.StringInput
}

func (BindSecurityTemplateArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*bindSecurityTemplateArgs)(nil)).Elem()
}

type BindSecurityTemplateInput interface {
	pulumi.Input

	ToBindSecurityTemplateOutput() BindSecurityTemplateOutput
	ToBindSecurityTemplateOutputWithContext(ctx context.Context) BindSecurityTemplateOutput
}

func (*BindSecurityTemplate) ElementType() reflect.Type {
	return reflect.TypeOf((**BindSecurityTemplate)(nil)).Elem()
}

func (i *BindSecurityTemplate) ToBindSecurityTemplateOutput() BindSecurityTemplateOutput {
	return i.ToBindSecurityTemplateOutputWithContext(context.Background())
}

func (i *BindSecurityTemplate) ToBindSecurityTemplateOutputWithContext(ctx context.Context) BindSecurityTemplateOutput {
	return pulumi.ToOutputWithContext(ctx, i).(BindSecurityTemplateOutput)
}

// BindSecurityTemplateArrayInput is an input type that accepts BindSecurityTemplateArray and BindSecurityTemplateArrayOutput values.
// You can construct a concrete instance of `BindSecurityTemplateArrayInput` via:
//
//	BindSecurityTemplateArray{ BindSecurityTemplateArgs{...} }
type BindSecurityTemplateArrayInput interface {
	pulumi.Input

	ToBindSecurityTemplateArrayOutput() BindSecurityTemplateArrayOutput
	ToBindSecurityTemplateArrayOutputWithContext(context.Context) BindSecurityTemplateArrayOutput
}

type BindSecurityTemplateArray []BindSecurityTemplateInput

func (BindSecurityTemplateArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*BindSecurityTemplate)(nil)).Elem()
}

func (i BindSecurityTemplateArray) ToBindSecurityTemplateArrayOutput() BindSecurityTemplateArrayOutput {
	return i.ToBindSecurityTemplateArrayOutputWithContext(context.Background())
}

func (i BindSecurityTemplateArray) ToBindSecurityTemplateArrayOutputWithContext(ctx context.Context) BindSecurityTemplateArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(BindSecurityTemplateArrayOutput)
}

// BindSecurityTemplateMapInput is an input type that accepts BindSecurityTemplateMap and BindSecurityTemplateMapOutput values.
// You can construct a concrete instance of `BindSecurityTemplateMapInput` via:
//
//	BindSecurityTemplateMap{ "key": BindSecurityTemplateArgs{...} }
type BindSecurityTemplateMapInput interface {
	pulumi.Input

	ToBindSecurityTemplateMapOutput() BindSecurityTemplateMapOutput
	ToBindSecurityTemplateMapOutputWithContext(context.Context) BindSecurityTemplateMapOutput
}

type BindSecurityTemplateMap map[string]BindSecurityTemplateInput

func (BindSecurityTemplateMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*BindSecurityTemplate)(nil)).Elem()
}

func (i BindSecurityTemplateMap) ToBindSecurityTemplateMapOutput() BindSecurityTemplateMapOutput {
	return i.ToBindSecurityTemplateMapOutputWithContext(context.Background())
}

func (i BindSecurityTemplateMap) ToBindSecurityTemplateMapOutputWithContext(ctx context.Context) BindSecurityTemplateMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(BindSecurityTemplateMapOutput)
}

type BindSecurityTemplateOutput struct{ *pulumi.OutputState }

func (BindSecurityTemplateOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**BindSecurityTemplate)(nil)).Elem()
}

func (o BindSecurityTemplateOutput) ToBindSecurityTemplateOutput() BindSecurityTemplateOutput {
	return o
}

func (o BindSecurityTemplateOutput) ToBindSecurityTemplateOutputWithContext(ctx context.Context) BindSecurityTemplateOutput {
	return o
}

// List of domain names to bind to/unbind from a policy template.
func (o BindSecurityTemplateOutput) Entity() pulumi.StringOutput {
	return o.ApplyT(func(v *BindSecurityTemplate) pulumi.StringOutput { return v.Entity }).(pulumi.StringOutput)
}

// Unbind operation option. valid values: `unbind-keep-policy`: unbind a domain name from the policy template while retaining the current policy. `unbind-use-default`: unbind a domain name from the policy template and use the default blank policy. default value: `unbind-keep-policy`.
func (o BindSecurityTemplateOutput) Operate() pulumi.StringOutput {
	return o.ApplyT(func(v *BindSecurityTemplate) pulumi.StringOutput { return v.Operate }).(pulumi.StringOutput)
}

// If the passed-in domain is already bound to a policy template (including site-level protection policies), setting this parameter indicates whether to replace that template. The default value is true. Supported values are: `true`: Replace the currently bound template for the domain. `false`: Do not replace the currently bound template for the domain. Note: When set to false, if the passed-in domain is already bound to a policy template, the API will return an error; site-level protection policies are also a type of policy template.
func (o BindSecurityTemplateOutput) OverWrite() pulumi.BoolOutput {
	return o.ApplyT(func(v *BindSecurityTemplate) pulumi.BoolOutput { return v.OverWrite }).(pulumi.BoolOutput)
}

// Instance configuration delivery status, the possible values are: `online`: the configuration has taken effect; `fail`: the configuration failed; `process`: the configuration is being delivered.
func (o BindSecurityTemplateOutput) Status() pulumi.StringOutput {
	return o.ApplyT(func(v *BindSecurityTemplate) pulumi.StringOutput { return v.Status }).(pulumi.StringOutput)
}

// Specifies the ID of the policy template or the site global policy to be bound or unbound.
// <li>To bind to a policy template, or unbind from it, specify the policy template ID.</li>.
// <li>To bind to the site's global policy, or unbind from it, use the @ZoneLevel@domain parameter value.</li>.
//
// Note: After unbinding, the domain name will use an independent policy and rule quota will be calculated separately. Please make sure there is sufficient rule quota before unbinding.
func (o BindSecurityTemplateOutput) TemplateId() pulumi.StringOutput {
	return o.ApplyT(func(v *BindSecurityTemplate) pulumi.StringOutput { return v.TemplateId }).(pulumi.StringOutput)
}

// Site ID of the policy template to be bound to or unbound from.
func (o BindSecurityTemplateOutput) ZoneId() pulumi.StringOutput {
	return o.ApplyT(func(v *BindSecurityTemplate) pulumi.StringOutput { return v.ZoneId }).(pulumi.StringOutput)
}

type BindSecurityTemplateArrayOutput struct{ *pulumi.OutputState }

func (BindSecurityTemplateArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*BindSecurityTemplate)(nil)).Elem()
}

func (o BindSecurityTemplateArrayOutput) ToBindSecurityTemplateArrayOutput() BindSecurityTemplateArrayOutput {
	return o
}

func (o BindSecurityTemplateArrayOutput) ToBindSecurityTemplateArrayOutputWithContext(ctx context.Context) BindSecurityTemplateArrayOutput {
	return o
}

func (o BindSecurityTemplateArrayOutput) Index(i pulumi.IntInput) BindSecurityTemplateOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *BindSecurityTemplate {
		return vs[0].([]*BindSecurityTemplate)[vs[1].(int)]
	}).(BindSecurityTemplateOutput)
}

type BindSecurityTemplateMapOutput struct{ *pulumi.OutputState }

func (BindSecurityTemplateMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*BindSecurityTemplate)(nil)).Elem()
}

func (o BindSecurityTemplateMapOutput) ToBindSecurityTemplateMapOutput() BindSecurityTemplateMapOutput {
	return o
}

func (o BindSecurityTemplateMapOutput) ToBindSecurityTemplateMapOutputWithContext(ctx context.Context) BindSecurityTemplateMapOutput {
	return o
}

func (o BindSecurityTemplateMapOutput) MapIndex(k pulumi.StringInput) BindSecurityTemplateOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *BindSecurityTemplate {
		return vs[0].(map[string]*BindSecurityTemplate)[vs[1].(string)]
	}).(BindSecurityTemplateOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*BindSecurityTemplateInput)(nil)).Elem(), &BindSecurityTemplate{})
	pulumi.RegisterInputType(reflect.TypeOf((*BindSecurityTemplateArrayInput)(nil)).Elem(), BindSecurityTemplateArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*BindSecurityTemplateMapInput)(nil)).Elem(), BindSecurityTemplateMap{})
	pulumi.RegisterOutputType(BindSecurityTemplateOutput{})
	pulumi.RegisterOutputType(BindSecurityTemplateArrayOutput{})
	pulumi.RegisterOutputType(BindSecurityTemplateMapOutput{})
}
