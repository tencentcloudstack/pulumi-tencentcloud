// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package wedata

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/internal"
)

// Provides a resource to create a WeData lineage attachment
//
// > **NOTE:** Do not use the same relation parameters for lineage binding, as this will cause overwriting.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/wedata"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := wedata.NewLineageAttachment(ctx, "example", &wedata.LineageAttachmentArgs{
//				Relations: &wedata.LineageAttachmentRelationsArgs{
//					Source: &wedata.LineageAttachmentRelationsSourceArgs{
//						ResourceUniqueId: pulumi.String("2s5veseIo2AXGOHJkKjBvQ"),
//						ResourceType:     pulumi.String("TABLE"),
//						Platform:         pulumi.String("WEDATA"),
//						ResourceName:     pulumi.String("db_demo.1"),
//						Description:      pulumi.String("DLC"),
//					},
//					Target: &wedata.LineageAttachmentRelationsTargetArgs{
//						ResourceUniqueId: pulumi.String("fM8OgzE-AM2h4aaJmdXoPg"),
//						ResourceType:     pulumi.String("TABLE"),
//						Platform:         pulumi.String("WEDATA"),
//						ResourceName:     pulumi.String("db_demo.2"),
//						Description:      pulumi.String("DLC"),
//					},
//					Processes: &wedata.LineageAttachmentRelationsProcessesArgs{
//						ProcessId:      pulumi.String("20241107221758402"),
//						ProcessType:    pulumi.String("SCHEDULE_TASK"),
//						Platform:       pulumi.String("WEDATA"),
//						ProcessSubType: pulumi.String("SQL_TASK"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
type LineageAttachment struct {
	pulumi.CustomResourceState

	// List of lineage relationships to be registered.
	Relations LineageAttachmentRelationsOutput `pulumi:"relations"`
}

// NewLineageAttachment registers a new resource with the given unique name, arguments, and options.
func NewLineageAttachment(ctx *pulumi.Context,
	name string, args *LineageAttachmentArgs, opts ...pulumi.ResourceOption) (*LineageAttachment, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Relations == nil {
		return nil, errors.New("invalid value for required argument 'Relations'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource LineageAttachment
	err := ctx.RegisterResource("tencentcloud:Wedata/lineageAttachment:LineageAttachment", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetLineageAttachment gets an existing LineageAttachment resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetLineageAttachment(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *LineageAttachmentState, opts ...pulumi.ResourceOption) (*LineageAttachment, error) {
	var resource LineageAttachment
	err := ctx.ReadResource("tencentcloud:Wedata/lineageAttachment:LineageAttachment", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering LineageAttachment resources.
type lineageAttachmentState struct {
	// List of lineage relationships to be registered.
	Relations *LineageAttachmentRelations `pulumi:"relations"`
}

type LineageAttachmentState struct {
	// List of lineage relationships to be registered.
	Relations LineageAttachmentRelationsPtrInput
}

func (LineageAttachmentState) ElementType() reflect.Type {
	return reflect.TypeOf((*lineageAttachmentState)(nil)).Elem()
}

type lineageAttachmentArgs struct {
	// List of lineage relationships to be registered.
	Relations LineageAttachmentRelations `pulumi:"relations"`
}

// The set of arguments for constructing a LineageAttachment resource.
type LineageAttachmentArgs struct {
	// List of lineage relationships to be registered.
	Relations LineageAttachmentRelationsInput
}

func (LineageAttachmentArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*lineageAttachmentArgs)(nil)).Elem()
}

type LineageAttachmentInput interface {
	pulumi.Input

	ToLineageAttachmentOutput() LineageAttachmentOutput
	ToLineageAttachmentOutputWithContext(ctx context.Context) LineageAttachmentOutput
}

func (*LineageAttachment) ElementType() reflect.Type {
	return reflect.TypeOf((**LineageAttachment)(nil)).Elem()
}

func (i *LineageAttachment) ToLineageAttachmentOutput() LineageAttachmentOutput {
	return i.ToLineageAttachmentOutputWithContext(context.Background())
}

func (i *LineageAttachment) ToLineageAttachmentOutputWithContext(ctx context.Context) LineageAttachmentOutput {
	return pulumi.ToOutputWithContext(ctx, i).(LineageAttachmentOutput)
}

// LineageAttachmentArrayInput is an input type that accepts LineageAttachmentArray and LineageAttachmentArrayOutput values.
// You can construct a concrete instance of `LineageAttachmentArrayInput` via:
//
//	LineageAttachmentArray{ LineageAttachmentArgs{...} }
type LineageAttachmentArrayInput interface {
	pulumi.Input

	ToLineageAttachmentArrayOutput() LineageAttachmentArrayOutput
	ToLineageAttachmentArrayOutputWithContext(context.Context) LineageAttachmentArrayOutput
}

type LineageAttachmentArray []LineageAttachmentInput

func (LineageAttachmentArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*LineageAttachment)(nil)).Elem()
}

func (i LineageAttachmentArray) ToLineageAttachmentArrayOutput() LineageAttachmentArrayOutput {
	return i.ToLineageAttachmentArrayOutputWithContext(context.Background())
}

func (i LineageAttachmentArray) ToLineageAttachmentArrayOutputWithContext(ctx context.Context) LineageAttachmentArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(LineageAttachmentArrayOutput)
}

// LineageAttachmentMapInput is an input type that accepts LineageAttachmentMap and LineageAttachmentMapOutput values.
// You can construct a concrete instance of `LineageAttachmentMapInput` via:
//
//	LineageAttachmentMap{ "key": LineageAttachmentArgs{...} }
type LineageAttachmentMapInput interface {
	pulumi.Input

	ToLineageAttachmentMapOutput() LineageAttachmentMapOutput
	ToLineageAttachmentMapOutputWithContext(context.Context) LineageAttachmentMapOutput
}

type LineageAttachmentMap map[string]LineageAttachmentInput

func (LineageAttachmentMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*LineageAttachment)(nil)).Elem()
}

func (i LineageAttachmentMap) ToLineageAttachmentMapOutput() LineageAttachmentMapOutput {
	return i.ToLineageAttachmentMapOutputWithContext(context.Background())
}

func (i LineageAttachmentMap) ToLineageAttachmentMapOutputWithContext(ctx context.Context) LineageAttachmentMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(LineageAttachmentMapOutput)
}

type LineageAttachmentOutput struct{ *pulumi.OutputState }

func (LineageAttachmentOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**LineageAttachment)(nil)).Elem()
}

func (o LineageAttachmentOutput) ToLineageAttachmentOutput() LineageAttachmentOutput {
	return o
}

func (o LineageAttachmentOutput) ToLineageAttachmentOutputWithContext(ctx context.Context) LineageAttachmentOutput {
	return o
}

// List of lineage relationships to be registered.
func (o LineageAttachmentOutput) Relations() LineageAttachmentRelationsOutput {
	return o.ApplyT(func(v *LineageAttachment) LineageAttachmentRelationsOutput { return v.Relations }).(LineageAttachmentRelationsOutput)
}

type LineageAttachmentArrayOutput struct{ *pulumi.OutputState }

func (LineageAttachmentArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*LineageAttachment)(nil)).Elem()
}

func (o LineageAttachmentArrayOutput) ToLineageAttachmentArrayOutput() LineageAttachmentArrayOutput {
	return o
}

func (o LineageAttachmentArrayOutput) ToLineageAttachmentArrayOutputWithContext(ctx context.Context) LineageAttachmentArrayOutput {
	return o
}

func (o LineageAttachmentArrayOutput) Index(i pulumi.IntInput) LineageAttachmentOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *LineageAttachment {
		return vs[0].([]*LineageAttachment)[vs[1].(int)]
	}).(LineageAttachmentOutput)
}

type LineageAttachmentMapOutput struct{ *pulumi.OutputState }

func (LineageAttachmentMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*LineageAttachment)(nil)).Elem()
}

func (o LineageAttachmentMapOutput) ToLineageAttachmentMapOutput() LineageAttachmentMapOutput {
	return o
}

func (o LineageAttachmentMapOutput) ToLineageAttachmentMapOutputWithContext(ctx context.Context) LineageAttachmentMapOutput {
	return o
}

func (o LineageAttachmentMapOutput) MapIndex(k pulumi.StringInput) LineageAttachmentOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *LineageAttachment {
		return vs[0].(map[string]*LineageAttachment)[vs[1].(string)]
	}).(LineageAttachmentOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*LineageAttachmentInput)(nil)).Elem(), &LineageAttachment{})
	pulumi.RegisterInputType(reflect.TypeOf((*LineageAttachmentArrayInput)(nil)).Elem(), LineageAttachmentArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*LineageAttachmentMapInput)(nil)).Elem(), LineageAttachmentMap{})
	pulumi.RegisterOutputType(LineageAttachmentOutput{})
	pulumi.RegisterOutputType(LineageAttachmentArrayOutput{})
	pulumi.RegisterOutputType(LineageAttachmentMapOutput{})
}
