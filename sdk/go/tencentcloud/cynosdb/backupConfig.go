// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package cynosdb

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/internal"
)

// Provides a resource to create a cynosdb backupConfig
//
// ## Example Usage
//
// ### Enable logical backup configuration and cross-region logical backup
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/cynosdb"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := cynosdb.NewBackupConfig(ctx, "foo", &cynosdb.BackupConfigArgs{
//				BackupTimeBeg:   pulumi.Int(7200),
//				BackupTimeEnd:   pulumi.Int(21600),
//				ClusterId:       pulumi.String("cynosdbmysql-bws8h88b"),
//				ReserveDuration: pulumi.Int(604800),
//				LogicBackupConfig: &cynosdb.BackupConfigLogicBackupConfigArgs{
//					LogicBackupEnable:  pulumi.String("ON"),
//					LogicBackupTimeBeg: pulumi.Int(7200),
//					LogicBackupTimeEnd: pulumi.Int(21600),
//					LogicCrossRegions: pulumi.StringArray{
//						pulumi.String("ap-shanghai"),
//					},
//					LogicCrossRegionsEnable: pulumi.String("ON"),
//					LogicReserveDuration:    pulumi.Int(259200),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Disable logical backup configuration
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/cynosdb"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := cynosdb.NewBackupConfig(ctx, "foo", &cynosdb.BackupConfigArgs{
//				BackupTimeBeg:   pulumi.Int(7200),
//				BackupTimeEnd:   pulumi.Int(21600),
//				ClusterId:       pulumi.String("cynosdbmysql-bws8h88b"),
//				ReserveDuration: pulumi.Int(604800),
//				LogicBackupConfig: &cynosdb.BackupConfigLogicBackupConfigArgs{
//					LogicBackupEnable: pulumi.String("OFF"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// cynosdb backup_config can be imported using the id, e.g.
//
// ```sh
// $ pulumi import tencentcloud:Cynosdb/backupConfig:BackupConfig foo cynosdbmysql-bws8h88b
// ```
type BackupConfig struct {
	pulumi.CustomResourceState

	// Backup frequency. It is an array of 7 elements corresponding to Monday through Sunday. full: full backup; increment: incremental backup. This parameter cannot be modified currently and doesn't need to be entered.
	BackupFreqs pulumi.StringArrayOutput `pulumi:"backupFreqs"`
	// Full backup start time. Value range: [0-24*3600]. For example, 0:00 AM, 1:00 AM, and 2:00 AM are represented by 0, 3600, and 7200, respectively.
	BackupTimeBeg pulumi.IntOutput `pulumi:"backupTimeBeg"`
	// Full backup end time. Value range: [0-24*3600]. For example, 0:00 AM, 1:00 AM, and 2:00 AM are represented by 0, 3600, and 7200, respectively.
	BackupTimeEnd pulumi.IntOutput `pulumi:"backupTimeEnd"`
	// Backup mode. logic: logic backup; snapshot: snapshot backup. This parameter cannot be modified currently and doesn't need to be entered.
	BackupType pulumi.StringOutput `pulumi:"backupType"`
	// Cluster ID.
	ClusterId pulumi.StringOutput `pulumi:"clusterId"`
	// Logical backup configuration. Do not set this field if it is not enabled. Example value: [{"LogicBackupEnable": "ON","LogicBackupTimeBeg": "2023-04-24 15:06:04","LogicBackupTimeEnd": "2024-04-24 15:06:04","LogicReserveDuration": "60","LogicCrossRegionsEnable": "ON","LogicCrossRegions": ["ap-guangzhou"]}].
	LogicBackupConfig BackupConfigLogicBackupConfigPtrOutput `pulumi:"logicBackupConfig"`
	// Backup retention period in seconds. Backups will be cleared after this period elapses. 7 days is represented by 3600*24*7 = 604800. Maximum value: 158112000.
	ReserveDuration pulumi.IntOutput `pulumi:"reserveDuration"`
}

// NewBackupConfig registers a new resource with the given unique name, arguments, and options.
func NewBackupConfig(ctx *pulumi.Context,
	name string, args *BackupConfigArgs, opts ...pulumi.ResourceOption) (*BackupConfig, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.BackupTimeBeg == nil {
		return nil, errors.New("invalid value for required argument 'BackupTimeBeg'")
	}
	if args.BackupTimeEnd == nil {
		return nil, errors.New("invalid value for required argument 'BackupTimeEnd'")
	}
	if args.ClusterId == nil {
		return nil, errors.New("invalid value for required argument 'ClusterId'")
	}
	if args.ReserveDuration == nil {
		return nil, errors.New("invalid value for required argument 'ReserveDuration'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource BackupConfig
	err := ctx.RegisterResource("tencentcloud:Cynosdb/backupConfig:BackupConfig", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetBackupConfig gets an existing BackupConfig resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetBackupConfig(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *BackupConfigState, opts ...pulumi.ResourceOption) (*BackupConfig, error) {
	var resource BackupConfig
	err := ctx.ReadResource("tencentcloud:Cynosdb/backupConfig:BackupConfig", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering BackupConfig resources.
type backupConfigState struct {
	// Backup frequency. It is an array of 7 elements corresponding to Monday through Sunday. full: full backup; increment: incremental backup. This parameter cannot be modified currently and doesn't need to be entered.
	BackupFreqs []string `pulumi:"backupFreqs"`
	// Full backup start time. Value range: [0-24*3600]. For example, 0:00 AM, 1:00 AM, and 2:00 AM are represented by 0, 3600, and 7200, respectively.
	BackupTimeBeg *int `pulumi:"backupTimeBeg"`
	// Full backup end time. Value range: [0-24*3600]. For example, 0:00 AM, 1:00 AM, and 2:00 AM are represented by 0, 3600, and 7200, respectively.
	BackupTimeEnd *int `pulumi:"backupTimeEnd"`
	// Backup mode. logic: logic backup; snapshot: snapshot backup. This parameter cannot be modified currently and doesn't need to be entered.
	BackupType *string `pulumi:"backupType"`
	// Cluster ID.
	ClusterId *string `pulumi:"clusterId"`
	// Logical backup configuration. Do not set this field if it is not enabled. Example value: [{"LogicBackupEnable": "ON","LogicBackupTimeBeg": "2023-04-24 15:06:04","LogicBackupTimeEnd": "2024-04-24 15:06:04","LogicReserveDuration": "60","LogicCrossRegionsEnable": "ON","LogicCrossRegions": ["ap-guangzhou"]}].
	LogicBackupConfig *BackupConfigLogicBackupConfig `pulumi:"logicBackupConfig"`
	// Backup retention period in seconds. Backups will be cleared after this period elapses. 7 days is represented by 3600*24*7 = 604800. Maximum value: 158112000.
	ReserveDuration *int `pulumi:"reserveDuration"`
}

type BackupConfigState struct {
	// Backup frequency. It is an array of 7 elements corresponding to Monday through Sunday. full: full backup; increment: incremental backup. This parameter cannot be modified currently and doesn't need to be entered.
	BackupFreqs pulumi.StringArrayInput
	// Full backup start time. Value range: [0-24*3600]. For example, 0:00 AM, 1:00 AM, and 2:00 AM are represented by 0, 3600, and 7200, respectively.
	BackupTimeBeg pulumi.IntPtrInput
	// Full backup end time. Value range: [0-24*3600]. For example, 0:00 AM, 1:00 AM, and 2:00 AM are represented by 0, 3600, and 7200, respectively.
	BackupTimeEnd pulumi.IntPtrInput
	// Backup mode. logic: logic backup; snapshot: snapshot backup. This parameter cannot be modified currently and doesn't need to be entered.
	BackupType pulumi.StringPtrInput
	// Cluster ID.
	ClusterId pulumi.StringPtrInput
	// Logical backup configuration. Do not set this field if it is not enabled. Example value: [{"LogicBackupEnable": "ON","LogicBackupTimeBeg": "2023-04-24 15:06:04","LogicBackupTimeEnd": "2024-04-24 15:06:04","LogicReserveDuration": "60","LogicCrossRegionsEnable": "ON","LogicCrossRegions": ["ap-guangzhou"]}].
	LogicBackupConfig BackupConfigLogicBackupConfigPtrInput
	// Backup retention period in seconds. Backups will be cleared after this period elapses. 7 days is represented by 3600*24*7 = 604800. Maximum value: 158112000.
	ReserveDuration pulumi.IntPtrInput
}

func (BackupConfigState) ElementType() reflect.Type {
	return reflect.TypeOf((*backupConfigState)(nil)).Elem()
}

type backupConfigArgs struct {
	// Full backup start time. Value range: [0-24*3600]. For example, 0:00 AM, 1:00 AM, and 2:00 AM are represented by 0, 3600, and 7200, respectively.
	BackupTimeBeg int `pulumi:"backupTimeBeg"`
	// Full backup end time. Value range: [0-24*3600]. For example, 0:00 AM, 1:00 AM, and 2:00 AM are represented by 0, 3600, and 7200, respectively.
	BackupTimeEnd int `pulumi:"backupTimeEnd"`
	// Cluster ID.
	ClusterId string `pulumi:"clusterId"`
	// Logical backup configuration. Do not set this field if it is not enabled. Example value: [{"LogicBackupEnable": "ON","LogicBackupTimeBeg": "2023-04-24 15:06:04","LogicBackupTimeEnd": "2024-04-24 15:06:04","LogicReserveDuration": "60","LogicCrossRegionsEnable": "ON","LogicCrossRegions": ["ap-guangzhou"]}].
	LogicBackupConfig *BackupConfigLogicBackupConfig `pulumi:"logicBackupConfig"`
	// Backup retention period in seconds. Backups will be cleared after this period elapses. 7 days is represented by 3600*24*7 = 604800. Maximum value: 158112000.
	ReserveDuration int `pulumi:"reserveDuration"`
}

// The set of arguments for constructing a BackupConfig resource.
type BackupConfigArgs struct {
	// Full backup start time. Value range: [0-24*3600]. For example, 0:00 AM, 1:00 AM, and 2:00 AM are represented by 0, 3600, and 7200, respectively.
	BackupTimeBeg pulumi.IntInput
	// Full backup end time. Value range: [0-24*3600]. For example, 0:00 AM, 1:00 AM, and 2:00 AM are represented by 0, 3600, and 7200, respectively.
	BackupTimeEnd pulumi.IntInput
	// Cluster ID.
	ClusterId pulumi.StringInput
	// Logical backup configuration. Do not set this field if it is not enabled. Example value: [{"LogicBackupEnable": "ON","LogicBackupTimeBeg": "2023-04-24 15:06:04","LogicBackupTimeEnd": "2024-04-24 15:06:04","LogicReserveDuration": "60","LogicCrossRegionsEnable": "ON","LogicCrossRegions": ["ap-guangzhou"]}].
	LogicBackupConfig BackupConfigLogicBackupConfigPtrInput
	// Backup retention period in seconds. Backups will be cleared after this period elapses. 7 days is represented by 3600*24*7 = 604800. Maximum value: 158112000.
	ReserveDuration pulumi.IntInput
}

func (BackupConfigArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*backupConfigArgs)(nil)).Elem()
}

type BackupConfigInput interface {
	pulumi.Input

	ToBackupConfigOutput() BackupConfigOutput
	ToBackupConfigOutputWithContext(ctx context.Context) BackupConfigOutput
}

func (*BackupConfig) ElementType() reflect.Type {
	return reflect.TypeOf((**BackupConfig)(nil)).Elem()
}

func (i *BackupConfig) ToBackupConfigOutput() BackupConfigOutput {
	return i.ToBackupConfigOutputWithContext(context.Background())
}

func (i *BackupConfig) ToBackupConfigOutputWithContext(ctx context.Context) BackupConfigOutput {
	return pulumi.ToOutputWithContext(ctx, i).(BackupConfigOutput)
}

// BackupConfigArrayInput is an input type that accepts BackupConfigArray and BackupConfigArrayOutput values.
// You can construct a concrete instance of `BackupConfigArrayInput` via:
//
//	BackupConfigArray{ BackupConfigArgs{...} }
type BackupConfigArrayInput interface {
	pulumi.Input

	ToBackupConfigArrayOutput() BackupConfigArrayOutput
	ToBackupConfigArrayOutputWithContext(context.Context) BackupConfigArrayOutput
}

type BackupConfigArray []BackupConfigInput

func (BackupConfigArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*BackupConfig)(nil)).Elem()
}

func (i BackupConfigArray) ToBackupConfigArrayOutput() BackupConfigArrayOutput {
	return i.ToBackupConfigArrayOutputWithContext(context.Background())
}

func (i BackupConfigArray) ToBackupConfigArrayOutputWithContext(ctx context.Context) BackupConfigArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(BackupConfigArrayOutput)
}

// BackupConfigMapInput is an input type that accepts BackupConfigMap and BackupConfigMapOutput values.
// You can construct a concrete instance of `BackupConfigMapInput` via:
//
//	BackupConfigMap{ "key": BackupConfigArgs{...} }
type BackupConfigMapInput interface {
	pulumi.Input

	ToBackupConfigMapOutput() BackupConfigMapOutput
	ToBackupConfigMapOutputWithContext(context.Context) BackupConfigMapOutput
}

type BackupConfigMap map[string]BackupConfigInput

func (BackupConfigMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*BackupConfig)(nil)).Elem()
}

func (i BackupConfigMap) ToBackupConfigMapOutput() BackupConfigMapOutput {
	return i.ToBackupConfigMapOutputWithContext(context.Background())
}

func (i BackupConfigMap) ToBackupConfigMapOutputWithContext(ctx context.Context) BackupConfigMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(BackupConfigMapOutput)
}

type BackupConfigOutput struct{ *pulumi.OutputState }

func (BackupConfigOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**BackupConfig)(nil)).Elem()
}

func (o BackupConfigOutput) ToBackupConfigOutput() BackupConfigOutput {
	return o
}

func (o BackupConfigOutput) ToBackupConfigOutputWithContext(ctx context.Context) BackupConfigOutput {
	return o
}

// Backup frequency. It is an array of 7 elements corresponding to Monday through Sunday. full: full backup; increment: incremental backup. This parameter cannot be modified currently and doesn't need to be entered.
func (o BackupConfigOutput) BackupFreqs() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *BackupConfig) pulumi.StringArrayOutput { return v.BackupFreqs }).(pulumi.StringArrayOutput)
}

// Full backup start time. Value range: [0-24*3600]. For example, 0:00 AM, 1:00 AM, and 2:00 AM are represented by 0, 3600, and 7200, respectively.
func (o BackupConfigOutput) BackupTimeBeg() pulumi.IntOutput {
	return o.ApplyT(func(v *BackupConfig) pulumi.IntOutput { return v.BackupTimeBeg }).(pulumi.IntOutput)
}

// Full backup end time. Value range: [0-24*3600]. For example, 0:00 AM, 1:00 AM, and 2:00 AM are represented by 0, 3600, and 7200, respectively.
func (o BackupConfigOutput) BackupTimeEnd() pulumi.IntOutput {
	return o.ApplyT(func(v *BackupConfig) pulumi.IntOutput { return v.BackupTimeEnd }).(pulumi.IntOutput)
}

// Backup mode. logic: logic backup; snapshot: snapshot backup. This parameter cannot be modified currently and doesn't need to be entered.
func (o BackupConfigOutput) BackupType() pulumi.StringOutput {
	return o.ApplyT(func(v *BackupConfig) pulumi.StringOutput { return v.BackupType }).(pulumi.StringOutput)
}

// Cluster ID.
func (o BackupConfigOutput) ClusterId() pulumi.StringOutput {
	return o.ApplyT(func(v *BackupConfig) pulumi.StringOutput { return v.ClusterId }).(pulumi.StringOutput)
}

// Logical backup configuration. Do not set this field if it is not enabled. Example value: [{"LogicBackupEnable": "ON","LogicBackupTimeBeg": "2023-04-24 15:06:04","LogicBackupTimeEnd": "2024-04-24 15:06:04","LogicReserveDuration": "60","LogicCrossRegionsEnable": "ON","LogicCrossRegions": ["ap-guangzhou"]}].
func (o BackupConfigOutput) LogicBackupConfig() BackupConfigLogicBackupConfigPtrOutput {
	return o.ApplyT(func(v *BackupConfig) BackupConfigLogicBackupConfigPtrOutput { return v.LogicBackupConfig }).(BackupConfigLogicBackupConfigPtrOutput)
}

// Backup retention period in seconds. Backups will be cleared after this period elapses. 7 days is represented by 3600*24*7 = 604800. Maximum value: 158112000.
func (o BackupConfigOutput) ReserveDuration() pulumi.IntOutput {
	return o.ApplyT(func(v *BackupConfig) pulumi.IntOutput { return v.ReserveDuration }).(pulumi.IntOutput)
}

type BackupConfigArrayOutput struct{ *pulumi.OutputState }

func (BackupConfigArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*BackupConfig)(nil)).Elem()
}

func (o BackupConfigArrayOutput) ToBackupConfigArrayOutput() BackupConfigArrayOutput {
	return o
}

func (o BackupConfigArrayOutput) ToBackupConfigArrayOutputWithContext(ctx context.Context) BackupConfigArrayOutput {
	return o
}

func (o BackupConfigArrayOutput) Index(i pulumi.IntInput) BackupConfigOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *BackupConfig {
		return vs[0].([]*BackupConfig)[vs[1].(int)]
	}).(BackupConfigOutput)
}

type BackupConfigMapOutput struct{ *pulumi.OutputState }

func (BackupConfigMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*BackupConfig)(nil)).Elem()
}

func (o BackupConfigMapOutput) ToBackupConfigMapOutput() BackupConfigMapOutput {
	return o
}

func (o BackupConfigMapOutput) ToBackupConfigMapOutputWithContext(ctx context.Context) BackupConfigMapOutput {
	return o
}

func (o BackupConfigMapOutput) MapIndex(k pulumi.StringInput) BackupConfigOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *BackupConfig {
		return vs[0].(map[string]*BackupConfig)[vs[1].(string)]
	}).(BackupConfigOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*BackupConfigInput)(nil)).Elem(), &BackupConfig{})
	pulumi.RegisterInputType(reflect.TypeOf((*BackupConfigArrayInput)(nil)).Elem(), BackupConfigArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*BackupConfigMapInput)(nil)).Elem(), BackupConfigMap{})
	pulumi.RegisterOutputType(BackupConfigOutput{})
	pulumi.RegisterOutputType(BackupConfigArrayOutput{})
	pulumi.RegisterOutputType(BackupConfigMapOutput{})
}
