// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package cynosdb

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/internal"
)

// Provides a resource to create a CynosDB audit service
//
// ## Example Usage
//
// ### If auditAll is true
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/cynosdb"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := cynosdb.NewAuditService(ctx, "example", &cynosdb.AuditServiceArgs{
//				InstanceId:       pulumi.String("cynosdbmysql-ins-f9j6sopi"),
//				LogExpireDay:     pulumi.Int(30),
//				HighLogExpireDay: pulumi.Int(7),
//				AuditAll:         pulumi.Bool(true),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### If auditAll is false
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/cynosdb"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := cynosdb.NewAuditService(ctx, "example", &cynosdb.AuditServiceArgs{
//				InstanceId:       pulumi.String("cynosdbmysql-ins-f9j6sopi"),
//				LogExpireDay:     pulumi.Int(30),
//				HighLogExpireDay: pulumi.Int(7),
//				RuleTemplateIds: pulumi.StringArray{
//					pulumi.String("cynosdb-art-riwq2vx0"),
//				},
//				AuditAll: pulumi.Bool(false),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// CynosDB audit service can be imported using the id, e.g.
//
// ```sh
// $ pulumi import tencentcloud:Cynosdb/auditService:AuditService example cynosdbmysql-ins-f9j6sopi
// ```
type AuditService struct {
	pulumi.CustomResourceState

	// Audit type. true - full audit; default false - rule-based audit.
	AuditAll pulumi.BoolPtrOutput `pulumi:"auditAll"`
	// Frequent log retention period.
	HighLogExpireDay pulumi.IntPtrOutput `pulumi:"highLogExpireDay"`
	// Instance ID.
	InstanceId pulumi.StringOutput `pulumi:"instanceId"`
	// Log retention period.
	LogExpireDay pulumi.IntOutput `pulumi:"logExpireDay"`
	// Rule template ID set.
	RuleTemplateIds pulumi.StringArrayOutput `pulumi:"ruleTemplateIds"`
}

// NewAuditService registers a new resource with the given unique name, arguments, and options.
func NewAuditService(ctx *pulumi.Context,
	name string, args *AuditServiceArgs, opts ...pulumi.ResourceOption) (*AuditService, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.InstanceId == nil {
		return nil, errors.New("invalid value for required argument 'InstanceId'")
	}
	if args.LogExpireDay == nil {
		return nil, errors.New("invalid value for required argument 'LogExpireDay'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource AuditService
	err := ctx.RegisterResource("tencentcloud:Cynosdb/auditService:AuditService", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetAuditService gets an existing AuditService resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetAuditService(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *AuditServiceState, opts ...pulumi.ResourceOption) (*AuditService, error) {
	var resource AuditService
	err := ctx.ReadResource("tencentcloud:Cynosdb/auditService:AuditService", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering AuditService resources.
type auditServiceState struct {
	// Audit type. true - full audit; default false - rule-based audit.
	AuditAll *bool `pulumi:"auditAll"`
	// Frequent log retention period.
	HighLogExpireDay *int `pulumi:"highLogExpireDay"`
	// Instance ID.
	InstanceId *string `pulumi:"instanceId"`
	// Log retention period.
	LogExpireDay *int `pulumi:"logExpireDay"`
	// Rule template ID set.
	RuleTemplateIds []string `pulumi:"ruleTemplateIds"`
}

type AuditServiceState struct {
	// Audit type. true - full audit; default false - rule-based audit.
	AuditAll pulumi.BoolPtrInput
	// Frequent log retention period.
	HighLogExpireDay pulumi.IntPtrInput
	// Instance ID.
	InstanceId pulumi.StringPtrInput
	// Log retention period.
	LogExpireDay pulumi.IntPtrInput
	// Rule template ID set.
	RuleTemplateIds pulumi.StringArrayInput
}

func (AuditServiceState) ElementType() reflect.Type {
	return reflect.TypeOf((*auditServiceState)(nil)).Elem()
}

type auditServiceArgs struct {
	// Audit type. true - full audit; default false - rule-based audit.
	AuditAll *bool `pulumi:"auditAll"`
	// Frequent log retention period.
	HighLogExpireDay *int `pulumi:"highLogExpireDay"`
	// Instance ID.
	InstanceId string `pulumi:"instanceId"`
	// Log retention period.
	LogExpireDay int `pulumi:"logExpireDay"`
	// Rule template ID set.
	RuleTemplateIds []string `pulumi:"ruleTemplateIds"`
}

// The set of arguments for constructing a AuditService resource.
type AuditServiceArgs struct {
	// Audit type. true - full audit; default false - rule-based audit.
	AuditAll pulumi.BoolPtrInput
	// Frequent log retention period.
	HighLogExpireDay pulumi.IntPtrInput
	// Instance ID.
	InstanceId pulumi.StringInput
	// Log retention period.
	LogExpireDay pulumi.IntInput
	// Rule template ID set.
	RuleTemplateIds pulumi.StringArrayInput
}

func (AuditServiceArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*auditServiceArgs)(nil)).Elem()
}

type AuditServiceInput interface {
	pulumi.Input

	ToAuditServiceOutput() AuditServiceOutput
	ToAuditServiceOutputWithContext(ctx context.Context) AuditServiceOutput
}

func (*AuditService) ElementType() reflect.Type {
	return reflect.TypeOf((**AuditService)(nil)).Elem()
}

func (i *AuditService) ToAuditServiceOutput() AuditServiceOutput {
	return i.ToAuditServiceOutputWithContext(context.Background())
}

func (i *AuditService) ToAuditServiceOutputWithContext(ctx context.Context) AuditServiceOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AuditServiceOutput)
}

// AuditServiceArrayInput is an input type that accepts AuditServiceArray and AuditServiceArrayOutput values.
// You can construct a concrete instance of `AuditServiceArrayInput` via:
//
//	AuditServiceArray{ AuditServiceArgs{...} }
type AuditServiceArrayInput interface {
	pulumi.Input

	ToAuditServiceArrayOutput() AuditServiceArrayOutput
	ToAuditServiceArrayOutputWithContext(context.Context) AuditServiceArrayOutput
}

type AuditServiceArray []AuditServiceInput

func (AuditServiceArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*AuditService)(nil)).Elem()
}

func (i AuditServiceArray) ToAuditServiceArrayOutput() AuditServiceArrayOutput {
	return i.ToAuditServiceArrayOutputWithContext(context.Background())
}

func (i AuditServiceArray) ToAuditServiceArrayOutputWithContext(ctx context.Context) AuditServiceArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AuditServiceArrayOutput)
}

// AuditServiceMapInput is an input type that accepts AuditServiceMap and AuditServiceMapOutput values.
// You can construct a concrete instance of `AuditServiceMapInput` via:
//
//	AuditServiceMap{ "key": AuditServiceArgs{...} }
type AuditServiceMapInput interface {
	pulumi.Input

	ToAuditServiceMapOutput() AuditServiceMapOutput
	ToAuditServiceMapOutputWithContext(context.Context) AuditServiceMapOutput
}

type AuditServiceMap map[string]AuditServiceInput

func (AuditServiceMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*AuditService)(nil)).Elem()
}

func (i AuditServiceMap) ToAuditServiceMapOutput() AuditServiceMapOutput {
	return i.ToAuditServiceMapOutputWithContext(context.Background())
}

func (i AuditServiceMap) ToAuditServiceMapOutputWithContext(ctx context.Context) AuditServiceMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AuditServiceMapOutput)
}

type AuditServiceOutput struct{ *pulumi.OutputState }

func (AuditServiceOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**AuditService)(nil)).Elem()
}

func (o AuditServiceOutput) ToAuditServiceOutput() AuditServiceOutput {
	return o
}

func (o AuditServiceOutput) ToAuditServiceOutputWithContext(ctx context.Context) AuditServiceOutput {
	return o
}

// Audit type. true - full audit; default false - rule-based audit.
func (o AuditServiceOutput) AuditAll() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *AuditService) pulumi.BoolPtrOutput { return v.AuditAll }).(pulumi.BoolPtrOutput)
}

// Frequent log retention period.
func (o AuditServiceOutput) HighLogExpireDay() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *AuditService) pulumi.IntPtrOutput { return v.HighLogExpireDay }).(pulumi.IntPtrOutput)
}

// Instance ID.
func (o AuditServiceOutput) InstanceId() pulumi.StringOutput {
	return o.ApplyT(func(v *AuditService) pulumi.StringOutput { return v.InstanceId }).(pulumi.StringOutput)
}

// Log retention period.
func (o AuditServiceOutput) LogExpireDay() pulumi.IntOutput {
	return o.ApplyT(func(v *AuditService) pulumi.IntOutput { return v.LogExpireDay }).(pulumi.IntOutput)
}

// Rule template ID set.
func (o AuditServiceOutput) RuleTemplateIds() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *AuditService) pulumi.StringArrayOutput { return v.RuleTemplateIds }).(pulumi.StringArrayOutput)
}

type AuditServiceArrayOutput struct{ *pulumi.OutputState }

func (AuditServiceArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*AuditService)(nil)).Elem()
}

func (o AuditServiceArrayOutput) ToAuditServiceArrayOutput() AuditServiceArrayOutput {
	return o
}

func (o AuditServiceArrayOutput) ToAuditServiceArrayOutputWithContext(ctx context.Context) AuditServiceArrayOutput {
	return o
}

func (o AuditServiceArrayOutput) Index(i pulumi.IntInput) AuditServiceOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *AuditService {
		return vs[0].([]*AuditService)[vs[1].(int)]
	}).(AuditServiceOutput)
}

type AuditServiceMapOutput struct{ *pulumi.OutputState }

func (AuditServiceMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*AuditService)(nil)).Elem()
}

func (o AuditServiceMapOutput) ToAuditServiceMapOutput() AuditServiceMapOutput {
	return o
}

func (o AuditServiceMapOutput) ToAuditServiceMapOutputWithContext(ctx context.Context) AuditServiceMapOutput {
	return o
}

func (o AuditServiceMapOutput) MapIndex(k pulumi.StringInput) AuditServiceOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *AuditService {
		return vs[0].(map[string]*AuditService)[vs[1].(string)]
	}).(AuditServiceOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*AuditServiceInput)(nil)).Elem(), &AuditService{})
	pulumi.RegisterInputType(reflect.TypeOf((*AuditServiceArrayInput)(nil)).Elem(), AuditServiceArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*AuditServiceMapInput)(nil)).Elem(), AuditServiceMap{})
	pulumi.RegisterOutputType(AuditServiceOutput{})
	pulumi.RegisterOutputType(AuditServiceArrayOutput{})
	pulumi.RegisterOutputType(AuditServiceMapOutput{})
}
