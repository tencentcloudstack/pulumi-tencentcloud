// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package postgresql

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/internal"
)

// Provides a resource to create a postgres instance network access
//
// ## Example Usage
//
// ### Create by custom vip
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/postgresql"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := postgresql.NewInstanceNetworkAccess(ctx, "example", &postgresql.InstanceNetworkAccessArgs{
//				DbInstanceId: pulumi.String("postgres-ai46555b"),
//				VpcId:        pulumi.String("vpc-i5yyodl9"),
//				SubnetId:     pulumi.String("subnet-d4umunpy"),
//				Vip:          pulumi.String("10.0.10.11"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Create by automatic allocation vip
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/postgresql"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := postgresql.NewInstanceNetworkAccess(ctx, "example", &postgresql.InstanceNetworkAccessArgs{
//				DbInstanceId: pulumi.String("postgres-ai46555b"),
//				VpcId:        pulumi.String("vpc-i5yyodl9"),
//				SubnetId:     pulumi.String("subnet-d4umunpy"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// postgres instance network access can be imported using the id, e.g.
//
// ```sh
// $ pulumi import tencentcloud:Postgresql/instanceNetworkAccess:InstanceNetworkAccess example postgres-ai46555b#vpc-i5yyodl9#subnet-d4umunpy#10.0.10.11
// ```
type InstanceNetworkAccess struct {
	pulumi.CustomResourceState

	// Instance ID in the format of postgres-6bwgamo3.
	DbInstanceId pulumi.StringOutput `pulumi:"dbInstanceId"`
	// Subnet ID.
	SubnetId pulumi.StringOutput `pulumi:"subnetId"`
	// Target VIP.
	Vip pulumi.StringOutput `pulumi:"vip"`
	// Unified VPC ID.
	VpcId pulumi.StringOutput `pulumi:"vpcId"`
}

// NewInstanceNetworkAccess registers a new resource with the given unique name, arguments, and options.
func NewInstanceNetworkAccess(ctx *pulumi.Context,
	name string, args *InstanceNetworkAccessArgs, opts ...pulumi.ResourceOption) (*InstanceNetworkAccess, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.DbInstanceId == nil {
		return nil, errors.New("invalid value for required argument 'DbInstanceId'")
	}
	if args.SubnetId == nil {
		return nil, errors.New("invalid value for required argument 'SubnetId'")
	}
	if args.VpcId == nil {
		return nil, errors.New("invalid value for required argument 'VpcId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource InstanceNetworkAccess
	err := ctx.RegisterResource("tencentcloud:Postgresql/instanceNetworkAccess:InstanceNetworkAccess", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetInstanceNetworkAccess gets an existing InstanceNetworkAccess resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetInstanceNetworkAccess(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *InstanceNetworkAccessState, opts ...pulumi.ResourceOption) (*InstanceNetworkAccess, error) {
	var resource InstanceNetworkAccess
	err := ctx.ReadResource("tencentcloud:Postgresql/instanceNetworkAccess:InstanceNetworkAccess", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering InstanceNetworkAccess resources.
type instanceNetworkAccessState struct {
	// Instance ID in the format of postgres-6bwgamo3.
	DbInstanceId *string `pulumi:"dbInstanceId"`
	// Subnet ID.
	SubnetId *string `pulumi:"subnetId"`
	// Target VIP.
	Vip *string `pulumi:"vip"`
	// Unified VPC ID.
	VpcId *string `pulumi:"vpcId"`
}

type InstanceNetworkAccessState struct {
	// Instance ID in the format of postgres-6bwgamo3.
	DbInstanceId pulumi.StringPtrInput
	// Subnet ID.
	SubnetId pulumi.StringPtrInput
	// Target VIP.
	Vip pulumi.StringPtrInput
	// Unified VPC ID.
	VpcId pulumi.StringPtrInput
}

func (InstanceNetworkAccessState) ElementType() reflect.Type {
	return reflect.TypeOf((*instanceNetworkAccessState)(nil)).Elem()
}

type instanceNetworkAccessArgs struct {
	// Instance ID in the format of postgres-6bwgamo3.
	DbInstanceId string `pulumi:"dbInstanceId"`
	// Subnet ID.
	SubnetId string `pulumi:"subnetId"`
	// Target VIP.
	Vip *string `pulumi:"vip"`
	// Unified VPC ID.
	VpcId string `pulumi:"vpcId"`
}

// The set of arguments for constructing a InstanceNetworkAccess resource.
type InstanceNetworkAccessArgs struct {
	// Instance ID in the format of postgres-6bwgamo3.
	DbInstanceId pulumi.StringInput
	// Subnet ID.
	SubnetId pulumi.StringInput
	// Target VIP.
	Vip pulumi.StringPtrInput
	// Unified VPC ID.
	VpcId pulumi.StringInput
}

func (InstanceNetworkAccessArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*instanceNetworkAccessArgs)(nil)).Elem()
}

type InstanceNetworkAccessInput interface {
	pulumi.Input

	ToInstanceNetworkAccessOutput() InstanceNetworkAccessOutput
	ToInstanceNetworkAccessOutputWithContext(ctx context.Context) InstanceNetworkAccessOutput
}

func (*InstanceNetworkAccess) ElementType() reflect.Type {
	return reflect.TypeOf((**InstanceNetworkAccess)(nil)).Elem()
}

func (i *InstanceNetworkAccess) ToInstanceNetworkAccessOutput() InstanceNetworkAccessOutput {
	return i.ToInstanceNetworkAccessOutputWithContext(context.Background())
}

func (i *InstanceNetworkAccess) ToInstanceNetworkAccessOutputWithContext(ctx context.Context) InstanceNetworkAccessOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InstanceNetworkAccessOutput)
}

// InstanceNetworkAccessArrayInput is an input type that accepts InstanceNetworkAccessArray and InstanceNetworkAccessArrayOutput values.
// You can construct a concrete instance of `InstanceNetworkAccessArrayInput` via:
//
//	InstanceNetworkAccessArray{ InstanceNetworkAccessArgs{...} }
type InstanceNetworkAccessArrayInput interface {
	pulumi.Input

	ToInstanceNetworkAccessArrayOutput() InstanceNetworkAccessArrayOutput
	ToInstanceNetworkAccessArrayOutputWithContext(context.Context) InstanceNetworkAccessArrayOutput
}

type InstanceNetworkAccessArray []InstanceNetworkAccessInput

func (InstanceNetworkAccessArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*InstanceNetworkAccess)(nil)).Elem()
}

func (i InstanceNetworkAccessArray) ToInstanceNetworkAccessArrayOutput() InstanceNetworkAccessArrayOutput {
	return i.ToInstanceNetworkAccessArrayOutputWithContext(context.Background())
}

func (i InstanceNetworkAccessArray) ToInstanceNetworkAccessArrayOutputWithContext(ctx context.Context) InstanceNetworkAccessArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InstanceNetworkAccessArrayOutput)
}

// InstanceNetworkAccessMapInput is an input type that accepts InstanceNetworkAccessMap and InstanceNetworkAccessMapOutput values.
// You can construct a concrete instance of `InstanceNetworkAccessMapInput` via:
//
//	InstanceNetworkAccessMap{ "key": InstanceNetworkAccessArgs{...} }
type InstanceNetworkAccessMapInput interface {
	pulumi.Input

	ToInstanceNetworkAccessMapOutput() InstanceNetworkAccessMapOutput
	ToInstanceNetworkAccessMapOutputWithContext(context.Context) InstanceNetworkAccessMapOutput
}

type InstanceNetworkAccessMap map[string]InstanceNetworkAccessInput

func (InstanceNetworkAccessMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*InstanceNetworkAccess)(nil)).Elem()
}

func (i InstanceNetworkAccessMap) ToInstanceNetworkAccessMapOutput() InstanceNetworkAccessMapOutput {
	return i.ToInstanceNetworkAccessMapOutputWithContext(context.Background())
}

func (i InstanceNetworkAccessMap) ToInstanceNetworkAccessMapOutputWithContext(ctx context.Context) InstanceNetworkAccessMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InstanceNetworkAccessMapOutput)
}

type InstanceNetworkAccessOutput struct{ *pulumi.OutputState }

func (InstanceNetworkAccessOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**InstanceNetworkAccess)(nil)).Elem()
}

func (o InstanceNetworkAccessOutput) ToInstanceNetworkAccessOutput() InstanceNetworkAccessOutput {
	return o
}

func (o InstanceNetworkAccessOutput) ToInstanceNetworkAccessOutputWithContext(ctx context.Context) InstanceNetworkAccessOutput {
	return o
}

// Instance ID in the format of postgres-6bwgamo3.
func (o InstanceNetworkAccessOutput) DbInstanceId() pulumi.StringOutput {
	return o.ApplyT(func(v *InstanceNetworkAccess) pulumi.StringOutput { return v.DbInstanceId }).(pulumi.StringOutput)
}

// Subnet ID.
func (o InstanceNetworkAccessOutput) SubnetId() pulumi.StringOutput {
	return o.ApplyT(func(v *InstanceNetworkAccess) pulumi.StringOutput { return v.SubnetId }).(pulumi.StringOutput)
}

// Target VIP.
func (o InstanceNetworkAccessOutput) Vip() pulumi.StringOutput {
	return o.ApplyT(func(v *InstanceNetworkAccess) pulumi.StringOutput { return v.Vip }).(pulumi.StringOutput)
}

// Unified VPC ID.
func (o InstanceNetworkAccessOutput) VpcId() pulumi.StringOutput {
	return o.ApplyT(func(v *InstanceNetworkAccess) pulumi.StringOutput { return v.VpcId }).(pulumi.StringOutput)
}

type InstanceNetworkAccessArrayOutput struct{ *pulumi.OutputState }

func (InstanceNetworkAccessArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*InstanceNetworkAccess)(nil)).Elem()
}

func (o InstanceNetworkAccessArrayOutput) ToInstanceNetworkAccessArrayOutput() InstanceNetworkAccessArrayOutput {
	return o
}

func (o InstanceNetworkAccessArrayOutput) ToInstanceNetworkAccessArrayOutputWithContext(ctx context.Context) InstanceNetworkAccessArrayOutput {
	return o
}

func (o InstanceNetworkAccessArrayOutput) Index(i pulumi.IntInput) InstanceNetworkAccessOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *InstanceNetworkAccess {
		return vs[0].([]*InstanceNetworkAccess)[vs[1].(int)]
	}).(InstanceNetworkAccessOutput)
}

type InstanceNetworkAccessMapOutput struct{ *pulumi.OutputState }

func (InstanceNetworkAccessMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*InstanceNetworkAccess)(nil)).Elem()
}

func (o InstanceNetworkAccessMapOutput) ToInstanceNetworkAccessMapOutput() InstanceNetworkAccessMapOutput {
	return o
}

func (o InstanceNetworkAccessMapOutput) ToInstanceNetworkAccessMapOutputWithContext(ctx context.Context) InstanceNetworkAccessMapOutput {
	return o
}

func (o InstanceNetworkAccessMapOutput) MapIndex(k pulumi.StringInput) InstanceNetworkAccessOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *InstanceNetworkAccess {
		return vs[0].(map[string]*InstanceNetworkAccess)[vs[1].(string)]
	}).(InstanceNetworkAccessOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*InstanceNetworkAccessInput)(nil)).Elem(), &InstanceNetworkAccess{})
	pulumi.RegisterInputType(reflect.TypeOf((*InstanceNetworkAccessArrayInput)(nil)).Elem(), InstanceNetworkAccessArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*InstanceNetworkAccessMapInput)(nil)).Elem(), InstanceNetworkAccessMap{})
	pulumi.RegisterOutputType(InstanceNetworkAccessOutput{})
	pulumi.RegisterOutputType(InstanceNetworkAccessArrayOutput{})
	pulumi.RegisterOutputType(InstanceNetworkAccessMapOutput{})
}
