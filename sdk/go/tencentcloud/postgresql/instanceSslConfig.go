// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package postgresql

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/internal"
)

// Provides a resource to create a postgres instance ssl config
//
// > **NOTE:** If `sslEnabled` is `false`, Please do not set `connectAddress` field.
//
// ## Example Usage
//
// ### Enable ssl config
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/postgresql"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := postgresql.NewInstanceSslConfig(ctx, "example", &postgresql.InstanceSslConfigArgs{
//				DbInstanceId:   pulumi.String("postgres-5wux9sub"),
//				SslEnabled:     pulumi.Bool(true),
//				ConnectAddress: pulumi.String("10.0.0.12"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Disable ssl config
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/tencentcloudstack/pulumi-tencentcloud/sdk/go/tencentcloud/postgresql"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := postgresql.NewInstanceSslConfig(ctx, "example", &postgresql.InstanceSslConfigArgs{
//				DbInstanceId: pulumi.String("postgres-5wux9sub"),
//				SslEnabled:   pulumi.Bool(false),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// postgres instance ssl config can be imported using the id, e.g.
//
// ```sh
// $ pulumi import tencentcloud:Postgresql/instanceSslConfig:InstanceSslConfig example postgres-5wux9sub
// ```
type InstanceSslConfig struct {
	pulumi.CustomResourceState

	// Cloud root certificate download link.
	CaUrl pulumi.StringOutput `pulumi:"caUrl"`
	// The unique connection address protected by SSL certificate, which can be set as the internal and external IP address if it is the primary instance; If it is a read-only instance, it can be set as the instance IP or read-only group IP. This parameter is mandatory when enabling SSL or modifying SSL protected connection addresses; When SSL is turned off, this parameter will be ignored.
	ConnectAddress pulumi.StringPtrOutput `pulumi:"connectAddress"`
	// Postgres instance ID.
	DbInstanceId pulumi.StringOutput `pulumi:"dbInstanceId"`
	// Enable or disable SSL. true: enable; false: disable.
	SslEnabled pulumi.BoolOutput `pulumi:"sslEnabled"`
}

// NewInstanceSslConfig registers a new resource with the given unique name, arguments, and options.
func NewInstanceSslConfig(ctx *pulumi.Context,
	name string, args *InstanceSslConfigArgs, opts ...pulumi.ResourceOption) (*InstanceSslConfig, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.DbInstanceId == nil {
		return nil, errors.New("invalid value for required argument 'DbInstanceId'")
	}
	if args.SslEnabled == nil {
		return nil, errors.New("invalid value for required argument 'SslEnabled'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource InstanceSslConfig
	err := ctx.RegisterResource("tencentcloud:Postgresql/instanceSslConfig:InstanceSslConfig", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetInstanceSslConfig gets an existing InstanceSslConfig resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetInstanceSslConfig(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *InstanceSslConfigState, opts ...pulumi.ResourceOption) (*InstanceSslConfig, error) {
	var resource InstanceSslConfig
	err := ctx.ReadResource("tencentcloud:Postgresql/instanceSslConfig:InstanceSslConfig", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering InstanceSslConfig resources.
type instanceSslConfigState struct {
	// Cloud root certificate download link.
	CaUrl *string `pulumi:"caUrl"`
	// The unique connection address protected by SSL certificate, which can be set as the internal and external IP address if it is the primary instance; If it is a read-only instance, it can be set as the instance IP or read-only group IP. This parameter is mandatory when enabling SSL or modifying SSL protected connection addresses; When SSL is turned off, this parameter will be ignored.
	ConnectAddress *string `pulumi:"connectAddress"`
	// Postgres instance ID.
	DbInstanceId *string `pulumi:"dbInstanceId"`
	// Enable or disable SSL. true: enable; false: disable.
	SslEnabled *bool `pulumi:"sslEnabled"`
}

type InstanceSslConfigState struct {
	// Cloud root certificate download link.
	CaUrl pulumi.StringPtrInput
	// The unique connection address protected by SSL certificate, which can be set as the internal and external IP address if it is the primary instance; If it is a read-only instance, it can be set as the instance IP or read-only group IP. This parameter is mandatory when enabling SSL or modifying SSL protected connection addresses; When SSL is turned off, this parameter will be ignored.
	ConnectAddress pulumi.StringPtrInput
	// Postgres instance ID.
	DbInstanceId pulumi.StringPtrInput
	// Enable or disable SSL. true: enable; false: disable.
	SslEnabled pulumi.BoolPtrInput
}

func (InstanceSslConfigState) ElementType() reflect.Type {
	return reflect.TypeOf((*instanceSslConfigState)(nil)).Elem()
}

type instanceSslConfigArgs struct {
	// The unique connection address protected by SSL certificate, which can be set as the internal and external IP address if it is the primary instance; If it is a read-only instance, it can be set as the instance IP or read-only group IP. This parameter is mandatory when enabling SSL or modifying SSL protected connection addresses; When SSL is turned off, this parameter will be ignored.
	ConnectAddress *string `pulumi:"connectAddress"`
	// Postgres instance ID.
	DbInstanceId string `pulumi:"dbInstanceId"`
	// Enable or disable SSL. true: enable; false: disable.
	SslEnabled bool `pulumi:"sslEnabled"`
}

// The set of arguments for constructing a InstanceSslConfig resource.
type InstanceSslConfigArgs struct {
	// The unique connection address protected by SSL certificate, which can be set as the internal and external IP address if it is the primary instance; If it is a read-only instance, it can be set as the instance IP or read-only group IP. This parameter is mandatory when enabling SSL or modifying SSL protected connection addresses; When SSL is turned off, this parameter will be ignored.
	ConnectAddress pulumi.StringPtrInput
	// Postgres instance ID.
	DbInstanceId pulumi.StringInput
	// Enable or disable SSL. true: enable; false: disable.
	SslEnabled pulumi.BoolInput
}

func (InstanceSslConfigArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*instanceSslConfigArgs)(nil)).Elem()
}

type InstanceSslConfigInput interface {
	pulumi.Input

	ToInstanceSslConfigOutput() InstanceSslConfigOutput
	ToInstanceSslConfigOutputWithContext(ctx context.Context) InstanceSslConfigOutput
}

func (*InstanceSslConfig) ElementType() reflect.Type {
	return reflect.TypeOf((**InstanceSslConfig)(nil)).Elem()
}

func (i *InstanceSslConfig) ToInstanceSslConfigOutput() InstanceSslConfigOutput {
	return i.ToInstanceSslConfigOutputWithContext(context.Background())
}

func (i *InstanceSslConfig) ToInstanceSslConfigOutputWithContext(ctx context.Context) InstanceSslConfigOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InstanceSslConfigOutput)
}

// InstanceSslConfigArrayInput is an input type that accepts InstanceSslConfigArray and InstanceSslConfigArrayOutput values.
// You can construct a concrete instance of `InstanceSslConfigArrayInput` via:
//
//	InstanceSslConfigArray{ InstanceSslConfigArgs{...} }
type InstanceSslConfigArrayInput interface {
	pulumi.Input

	ToInstanceSslConfigArrayOutput() InstanceSslConfigArrayOutput
	ToInstanceSslConfigArrayOutputWithContext(context.Context) InstanceSslConfigArrayOutput
}

type InstanceSslConfigArray []InstanceSslConfigInput

func (InstanceSslConfigArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*InstanceSslConfig)(nil)).Elem()
}

func (i InstanceSslConfigArray) ToInstanceSslConfigArrayOutput() InstanceSslConfigArrayOutput {
	return i.ToInstanceSslConfigArrayOutputWithContext(context.Background())
}

func (i InstanceSslConfigArray) ToInstanceSslConfigArrayOutputWithContext(ctx context.Context) InstanceSslConfigArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InstanceSslConfigArrayOutput)
}

// InstanceSslConfigMapInput is an input type that accepts InstanceSslConfigMap and InstanceSslConfigMapOutput values.
// You can construct a concrete instance of `InstanceSslConfigMapInput` via:
//
//	InstanceSslConfigMap{ "key": InstanceSslConfigArgs{...} }
type InstanceSslConfigMapInput interface {
	pulumi.Input

	ToInstanceSslConfigMapOutput() InstanceSslConfigMapOutput
	ToInstanceSslConfigMapOutputWithContext(context.Context) InstanceSslConfigMapOutput
}

type InstanceSslConfigMap map[string]InstanceSslConfigInput

func (InstanceSslConfigMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*InstanceSslConfig)(nil)).Elem()
}

func (i InstanceSslConfigMap) ToInstanceSslConfigMapOutput() InstanceSslConfigMapOutput {
	return i.ToInstanceSslConfigMapOutputWithContext(context.Background())
}

func (i InstanceSslConfigMap) ToInstanceSslConfigMapOutputWithContext(ctx context.Context) InstanceSslConfigMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InstanceSslConfigMapOutput)
}

type InstanceSslConfigOutput struct{ *pulumi.OutputState }

func (InstanceSslConfigOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**InstanceSslConfig)(nil)).Elem()
}

func (o InstanceSslConfigOutput) ToInstanceSslConfigOutput() InstanceSslConfigOutput {
	return o
}

func (o InstanceSslConfigOutput) ToInstanceSslConfigOutputWithContext(ctx context.Context) InstanceSslConfigOutput {
	return o
}

// Cloud root certificate download link.
func (o InstanceSslConfigOutput) CaUrl() pulumi.StringOutput {
	return o.ApplyT(func(v *InstanceSslConfig) pulumi.StringOutput { return v.CaUrl }).(pulumi.StringOutput)
}

// The unique connection address protected by SSL certificate, which can be set as the internal and external IP address if it is the primary instance; If it is a read-only instance, it can be set as the instance IP or read-only group IP. This parameter is mandatory when enabling SSL or modifying SSL protected connection addresses; When SSL is turned off, this parameter will be ignored.
func (o InstanceSslConfigOutput) ConnectAddress() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *InstanceSslConfig) pulumi.StringPtrOutput { return v.ConnectAddress }).(pulumi.StringPtrOutput)
}

// Postgres instance ID.
func (o InstanceSslConfigOutput) DbInstanceId() pulumi.StringOutput {
	return o.ApplyT(func(v *InstanceSslConfig) pulumi.StringOutput { return v.DbInstanceId }).(pulumi.StringOutput)
}

// Enable or disable SSL. true: enable; false: disable.
func (o InstanceSslConfigOutput) SslEnabled() pulumi.BoolOutput {
	return o.ApplyT(func(v *InstanceSslConfig) pulumi.BoolOutput { return v.SslEnabled }).(pulumi.BoolOutput)
}

type InstanceSslConfigArrayOutput struct{ *pulumi.OutputState }

func (InstanceSslConfigArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*InstanceSslConfig)(nil)).Elem()
}

func (o InstanceSslConfigArrayOutput) ToInstanceSslConfigArrayOutput() InstanceSslConfigArrayOutput {
	return o
}

func (o InstanceSslConfigArrayOutput) ToInstanceSslConfigArrayOutputWithContext(ctx context.Context) InstanceSslConfigArrayOutput {
	return o
}

func (o InstanceSslConfigArrayOutput) Index(i pulumi.IntInput) InstanceSslConfigOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *InstanceSslConfig {
		return vs[0].([]*InstanceSslConfig)[vs[1].(int)]
	}).(InstanceSslConfigOutput)
}

type InstanceSslConfigMapOutput struct{ *pulumi.OutputState }

func (InstanceSslConfigMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*InstanceSslConfig)(nil)).Elem()
}

func (o InstanceSslConfigMapOutput) ToInstanceSslConfigMapOutput() InstanceSslConfigMapOutput {
	return o
}

func (o InstanceSslConfigMapOutput) ToInstanceSslConfigMapOutputWithContext(ctx context.Context) InstanceSslConfigMapOutput {
	return o
}

func (o InstanceSslConfigMapOutput) MapIndex(k pulumi.StringInput) InstanceSslConfigOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *InstanceSslConfig {
		return vs[0].(map[string]*InstanceSslConfig)[vs[1].(string)]
	}).(InstanceSslConfigOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*InstanceSslConfigInput)(nil)).Elem(), &InstanceSslConfig{})
	pulumi.RegisterInputType(reflect.TypeOf((*InstanceSslConfigArrayInput)(nil)).Elem(), InstanceSslConfigArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*InstanceSslConfigMapInput)(nil)).Elem(), InstanceSslConfigMap{})
	pulumi.RegisterOutputType(InstanceSslConfigOutput{})
	pulumi.RegisterOutputType(InstanceSslConfigArrayOutput{})
	pulumi.RegisterOutputType(InstanceSslConfigMapOutput{})
}
