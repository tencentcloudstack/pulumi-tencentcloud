// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;
using Pulumi;

namespace TencentCloudIAC.PulumiPackage.Tencentcloud.As
{
    /// <summary>
    /// Provides a resource to create a as load balancer
    /// 
    /// &gt; **NOTE:** This resource must exclusive in one auto scaling group, do not declare additional rule resources of this auto scaling group elsewhere.
    /// 
    /// &gt; **NOTE:** If the `AutoScalingGroupId` field of this resource comes from the `tencentcloud.As.ScalingGroup` resource, then the `ForwardBalancerIds` field of the `tencentcloud.As.ScalingGroup` resource cannot be set simultaneously with this resource, which may result in conflicts
    /// 
    /// &gt; **NOTE:** `ForwardLoadBalancers` List of application type load balancers, with a maximum of 100 bound application type load balancers for each scaling group.
    /// 
    /// ## Example Usage
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Tencentcloud = TencentCloudIAC.PulumiPackage.Tencentcloud;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var config = new Config();
    ///     var availabilityZone = config.Get("availabilityZone") ?? "ap-guangzhou-6";
    ///     // create vpc
    ///     var vpc = new Tencentcloud.Vpc.Instance("vpc", new()
    ///     {
    ///         CidrBlock = "10.0.0.0/16",
    ///         Name = "vpc",
    ///     });
    /// 
    ///     // create subnet
    ///     var subnet = new Tencentcloud.Subnet.Instance("subnet", new()
    ///     {
    ///         VpcId = vpc.Id,
    ///         AvailabilityZone = availabilityZone,
    ///         Name = "subnet",
    ///         CidrBlock = "10.0.1.0/24",
    ///         IsMulticast = false,
    ///     });
    /// 
    ///     var example = new Tencentcloud.As.ScalingConfig("example", new()
    ///     {
    ///         ConfigurationName = "tf-example",
    ///         ImageId = "img-eb30mz89",
    ///         InstanceTypes = new[]
    ///         {
    ///             "S6.MEDIUM4",
    ///         },
    ///         InstanceNameSettings = new Tencentcloud.As.Inputs.ScalingConfigInstanceNameSettingsArgs
    ///         {
    ///             InstanceName = "demo-ins-name",
    ///         },
    ///     });
    /// 
    ///     var exampleScalingGroup = new Tencentcloud.As.ScalingGroup("example", new()
    ///     {
    ///         ScalingGroupName = "tf-example",
    ///         ConfigurationId = example.Id,
    ///         MaxSize = 1,
    ///         MinSize = 0,
    ///         VpcId = vpc.Id,
    ///         SubnetIds = new[]
    ///         {
    ///             subnet.Id,
    ///         },
    ///     });
    /// 
    ///     var exampleInstance = new Tencentcloud.Clb.Instance("example", new()
    ///     {
    ///         NetworkType = "INTERNAL",
    ///         ClbName = "tf-example",
    ///         VpcId = vpc.Id,
    ///         SubnetId = subnet.Id,
    ///         Tags = 
    ///         {
    ///             { "createBy", "Terraform" },
    ///         },
    ///     });
    /// 
    ///     var exampleListener = new Tencentcloud.Clb.Listener("example", new()
    ///     {
    ///         ClbId = exampleInstance.Id,
    ///         ListenerName = "tf-example",
    ///         Port = 80,
    ///         Protocol = "HTTP",
    ///     });
    /// 
    ///     var exampleListenerRule = new Tencentcloud.Clb.ListenerRule("example", new()
    ///     {
    ///         ListenerId = exampleListener.ListenerId,
    ///         ClbId = exampleInstance.Id,
    ///         Domain = "foo.net",
    ///         Url = "/bar",
    ///     });
    /// 
    ///     var exampleLoadBalancer = new Tencentcloud.As.LoadBalancer("example", new()
    ///     {
    ///         AutoScalingGroupId = exampleScalingGroup.Id,
    ///         ForwardLoadBalancers = new[]
    ///         {
    ///             new Tencentcloud.As.Inputs.LoadBalancerForwardLoadBalancerArgs
    ///             {
    ///                 LoadBalancerId = exampleInstance.Id,
    ///                 ListenerId = exampleListener.ListenerId,
    ///                 LocationId = exampleListenerRule.RuleId,
    ///                 TargetAttributes = new[]
    ///                 {
    ///                     new Tencentcloud.As.Inputs.LoadBalancerForwardLoadBalancerTargetAttributeArgs
    ///                     {
    ///                         Port = 8080,
    ///                         Weight = 20,
    ///                     },
    ///                 },
    ///             },
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ## Import
    /// 
    /// as load balancer can be imported using the id, e.g.
    /// 
    /// ```sh
    /// $ pulumi import tencentcloud:As/loadBalancer:LoadBalancer example asg-bpp4uol2
    /// ```
    /// </summary>
    [TencentcloudResourceType("tencentcloud:As/loadBalancer:LoadBalancer")]
    public partial class LoadBalancer : global::Pulumi.CustomResource
    {
        /// <summary>
        /// ID of a scaling group.
        /// </summary>
        [Output("autoScalingGroupId")]
        public Output<string> AutoScalingGroupId { get; private set; } = null!;

        /// <summary>
        /// List of application load balancers. The maximum number of application-type load balancers bound to each scaling group is 100.
        /// </summary>
        [Output("forwardLoadBalancers")]
        public Output<ImmutableArray<Outputs.LoadBalancerForwardLoadBalancer>> ForwardLoadBalancers { get; private set; } = null!;


        /// <summary>
        /// Create a LoadBalancer resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public LoadBalancer(string name, LoadBalancerArgs args, CustomResourceOptions? options = null)
            : base("tencentcloud:As/loadBalancer:LoadBalancer", name, args ?? new LoadBalancerArgs(), MakeResourceOptions(options, ""))
        {
        }

        private LoadBalancer(string name, Input<string> id, LoadBalancerState? state = null, CustomResourceOptions? options = null)
            : base("tencentcloud:As/loadBalancer:LoadBalancer", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
                PluginDownloadURL = "github://api.github.com/tencentcloudstack",
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing LoadBalancer resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static LoadBalancer Get(string name, Input<string> id, LoadBalancerState? state = null, CustomResourceOptions? options = null)
        {
            return new LoadBalancer(name, id, state, options);
        }
    }

    public sealed class LoadBalancerArgs : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// ID of a scaling group.
        /// </summary>
        [Input("autoScalingGroupId", required: true)]
        public Input<string> AutoScalingGroupId { get; set; } = null!;

        [Input("forwardLoadBalancers")]
        private InputList<Inputs.LoadBalancerForwardLoadBalancerArgs>? _forwardLoadBalancers;

        /// <summary>
        /// List of application load balancers. The maximum number of application-type load balancers bound to each scaling group is 100.
        /// </summary>
        public InputList<Inputs.LoadBalancerForwardLoadBalancerArgs> ForwardLoadBalancers
        {
            get => _forwardLoadBalancers ?? (_forwardLoadBalancers = new InputList<Inputs.LoadBalancerForwardLoadBalancerArgs>());
            set => _forwardLoadBalancers = value;
        }

        public LoadBalancerArgs()
        {
        }
        public static new LoadBalancerArgs Empty => new LoadBalancerArgs();
    }

    public sealed class LoadBalancerState : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// ID of a scaling group.
        /// </summary>
        [Input("autoScalingGroupId")]
        public Input<string>? AutoScalingGroupId { get; set; }

        [Input("forwardLoadBalancers")]
        private InputList<Inputs.LoadBalancerForwardLoadBalancerGetArgs>? _forwardLoadBalancers;

        /// <summary>
        /// List of application load balancers. The maximum number of application-type load balancers bound to each scaling group is 100.
        /// </summary>
        public InputList<Inputs.LoadBalancerForwardLoadBalancerGetArgs> ForwardLoadBalancers
        {
            get => _forwardLoadBalancers ?? (_forwardLoadBalancers = new InputList<Inputs.LoadBalancerForwardLoadBalancerGetArgs>());
            set => _forwardLoadBalancers = value;
        }

        public LoadBalancerState()
        {
        }
        public static new LoadBalancerState Empty => new LoadBalancerState();
    }
}
