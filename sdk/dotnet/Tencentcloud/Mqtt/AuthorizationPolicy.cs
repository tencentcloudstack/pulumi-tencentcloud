// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;
using Pulumi;

namespace TencentCloudIAC.PulumiPackage.Tencentcloud.Mqtt
{
    /// <summary>
    /// Provides a resource to create a MQTT authorization policy
    /// 
    /// ## Example Usage
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Tencentcloud = TencentCloudIAC.PulumiPackage.Tencentcloud;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var example = new Tencentcloud.Mqtt.AuthorizationPolicy("example", new()
    ///     {
    ///         InstanceId = "mqtt-g4qgr3gx",
    ///         PolicyName = "tf-example",
    ///         PolicyVersion = 1,
    ///         Priority = 10,
    ///         Effect = "allow",
    ///         Actions = "connect,pub,sub",
    ///         Retain = 3,
    ///         Qos = "0,1,2",
    ///         Resources = "topic-demo",
    ///         Username = "*root*",
    ///         ClientId = "client",
    ///         Ip = "192.168.1.1",
    ///         Remark = "policy remark.",
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ### Or
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Tencentcloud = TencentCloudIAC.PulumiPackage.Tencentcloud;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var example = new Tencentcloud.Mqtt.AuthorizationPolicy("example", new()
    ///     {
    ///         InstanceId = "mqtt-g4qgr3gx",
    ///         PolicyName = "tf-example",
    ///         PolicyVersion = 1,
    ///         Priority = 10,
    ///         Effect = "deny",
    ///         Actions = "pub,sub",
    ///         Retain = 3,
    ///         Qos = "1,2",
    ///         Resources = "topic-demo",
    ///         Username = "root*",
    ///         ClientId = "*${Username}*",
    ///         Ip = "192.168.1.0/24",
    ///         Remark = "policy remark.",
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ## Import
    /// 
    /// MQTT authorization policy can be imported using the id, e.g.
    /// 
    /// ```sh
    /// $ pulumi import tencentcloud:Mqtt/authorizationPolicy:AuthorizationPolicy example mqtt-g4qgr3gx#140
    /// ```
    /// </summary>
    [TencentcloudResourceType("tencentcloud:Mqtt/authorizationPolicy:AuthorizationPolicy")]
    public partial class AuthorizationPolicy : global::Pulumi.CustomResource
    {
        /// <summary>
        /// Operation - connect: connect; pub: publish; sub: subscribe.
        /// </summary>
        [Output("actions")]
        public Output<string> Actions { get; private set; } = null!;

        /// <summary>
        /// Condition - Client ID, supports regular expressions.
        /// </summary>
        [Output("clientId")]
        public Output<string?> ClientId { get; private set; } = null!;

        /// <summary>
        /// Decision: allow/deny.
        /// </summary>
        [Output("effect")]
        public Output<string> Effect { get; private set; } = null!;

        /// <summary>
        /// MQTT instance ID.
        /// </summary>
        [Output("instanceId")]
        public Output<string> InstanceId { get; private set; } = null!;

        /// <summary>
        /// Condition - Client IP address, supports IP or CIDR.
        /// </summary>
        [Output("ip")]
        public Output<string?> Ip { get; private set; } = null!;

        /// <summary>
        /// Authorization policy rule id.
        /// </summary>
        [Output("policyId")]
        public Output<int> PolicyId { get; private set; } = null!;

        /// <summary>
        /// Policy name, cannot be empty, 3-64 characters, supports Chinese characters, letters, numbers, "-" and "_".
        /// </summary>
        [Output("policyName")]
        public Output<string> PolicyName { get; private set; } = null!;

        /// <summary>
        /// Policy version, default is 1, currently only 1 is supported.
        /// </summary>
        [Output("policyVersion")]
        public Output<int> PolicyVersion { get; private set; } = null!;

        /// <summary>
        /// The strategy priority, the smaller the higher the priority, cannot be repeated.
        /// </summary>
        [Output("priority")]
        public Output<int> Priority { get; private set; } = null!;

        /// <summary>
        /// Condition: Quality of Service 0: At most once 1: At least once 2: Exactly once.
        /// </summary>
        [Output("qos")]
        public Output<string> Qos { get; private set; } = null!;

        /// <summary>
        /// Remarks, up to 128 characters.
        /// </summary>
        [Output("remark")]
        public Output<string?> Remark { get; private set; } = null!;

        /// <summary>
        /// Resources, requiring matching subscriptions.
        /// </summary>
        [Output("resources")]
        public Output<string?> Resources { get; private set; } = null!;

        /// <summary>
        /// Condition - Reserved message 1, match reserved message; 2, match unreserved message, 3. match reserved and unreserved message.
        /// </summary>
        [Output("retain")]
        public Output<int> Retain { get; private set; } = null!;

        /// <summary>
        /// Condition - Username.
        /// </summary>
        [Output("username")]
        public Output<string?> Username { get; private set; } = null!;


        /// <summary>
        /// Create a AuthorizationPolicy resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public AuthorizationPolicy(string name, AuthorizationPolicyArgs args, CustomResourceOptions? options = null)
            : base("tencentcloud:Mqtt/authorizationPolicy:AuthorizationPolicy", name, args ?? new AuthorizationPolicyArgs(), MakeResourceOptions(options, ""))
        {
        }

        private AuthorizationPolicy(string name, Input<string> id, AuthorizationPolicyState? state = null, CustomResourceOptions? options = null)
            : base("tencentcloud:Mqtt/authorizationPolicy:AuthorizationPolicy", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
                PluginDownloadURL = "github://api.github.com/tencentcloudstack",
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing AuthorizationPolicy resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static AuthorizationPolicy Get(string name, Input<string> id, AuthorizationPolicyState? state = null, CustomResourceOptions? options = null)
        {
            return new AuthorizationPolicy(name, id, state, options);
        }
    }

    public sealed class AuthorizationPolicyArgs : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// Operation - connect: connect; pub: publish; sub: subscribe.
        /// </summary>
        [Input("actions", required: true)]
        public Input<string> Actions { get; set; } = null!;

        /// <summary>
        /// Condition - Client ID, supports regular expressions.
        /// </summary>
        [Input("clientId")]
        public Input<string>? ClientId { get; set; }

        /// <summary>
        /// Decision: allow/deny.
        /// </summary>
        [Input("effect", required: true)]
        public Input<string> Effect { get; set; } = null!;

        /// <summary>
        /// MQTT instance ID.
        /// </summary>
        [Input("instanceId", required: true)]
        public Input<string> InstanceId { get; set; } = null!;

        /// <summary>
        /// Condition - Client IP address, supports IP or CIDR.
        /// </summary>
        [Input("ip")]
        public Input<string>? Ip { get; set; }

        /// <summary>
        /// Policy name, cannot be empty, 3-64 characters, supports Chinese characters, letters, numbers, "-" and "_".
        /// </summary>
        [Input("policyName", required: true)]
        public Input<string> PolicyName { get; set; } = null!;

        /// <summary>
        /// Policy version, default is 1, currently only 1 is supported.
        /// </summary>
        [Input("policyVersion", required: true)]
        public Input<int> PolicyVersion { get; set; } = null!;

        /// <summary>
        /// The strategy priority, the smaller the higher the priority, cannot be repeated.
        /// </summary>
        [Input("priority", required: true)]
        public Input<int> Priority { get; set; } = null!;

        /// <summary>
        /// Condition: Quality of Service 0: At most once 1: At least once 2: Exactly once.
        /// </summary>
        [Input("qos", required: true)]
        public Input<string> Qos { get; set; } = null!;

        /// <summary>
        /// Remarks, up to 128 characters.
        /// </summary>
        [Input("remark")]
        public Input<string>? Remark { get; set; }

        /// <summary>
        /// Resources, requiring matching subscriptions.
        /// </summary>
        [Input("resources")]
        public Input<string>? Resources { get; set; }

        /// <summary>
        /// Condition - Reserved message 1, match reserved message; 2, match unreserved message, 3. match reserved and unreserved message.
        /// </summary>
        [Input("retain", required: true)]
        public Input<int> Retain { get; set; } = null!;

        /// <summary>
        /// Condition - Username.
        /// </summary>
        [Input("username")]
        public Input<string>? Username { get; set; }

        public AuthorizationPolicyArgs()
        {
        }
        public static new AuthorizationPolicyArgs Empty => new AuthorizationPolicyArgs();
    }

    public sealed class AuthorizationPolicyState : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// Operation - connect: connect; pub: publish; sub: subscribe.
        /// </summary>
        [Input("actions")]
        public Input<string>? Actions { get; set; }

        /// <summary>
        /// Condition - Client ID, supports regular expressions.
        /// </summary>
        [Input("clientId")]
        public Input<string>? ClientId { get; set; }

        /// <summary>
        /// Decision: allow/deny.
        /// </summary>
        [Input("effect")]
        public Input<string>? Effect { get; set; }

        /// <summary>
        /// MQTT instance ID.
        /// </summary>
        [Input("instanceId")]
        public Input<string>? InstanceId { get; set; }

        /// <summary>
        /// Condition - Client IP address, supports IP or CIDR.
        /// </summary>
        [Input("ip")]
        public Input<string>? Ip { get; set; }

        /// <summary>
        /// Authorization policy rule id.
        /// </summary>
        [Input("policyId")]
        public Input<int>? PolicyId { get; set; }

        /// <summary>
        /// Policy name, cannot be empty, 3-64 characters, supports Chinese characters, letters, numbers, "-" and "_".
        /// </summary>
        [Input("policyName")]
        public Input<string>? PolicyName { get; set; }

        /// <summary>
        /// Policy version, default is 1, currently only 1 is supported.
        /// </summary>
        [Input("policyVersion")]
        public Input<int>? PolicyVersion { get; set; }

        /// <summary>
        /// The strategy priority, the smaller the higher the priority, cannot be repeated.
        /// </summary>
        [Input("priority")]
        public Input<int>? Priority { get; set; }

        /// <summary>
        /// Condition: Quality of Service 0: At most once 1: At least once 2: Exactly once.
        /// </summary>
        [Input("qos")]
        public Input<string>? Qos { get; set; }

        /// <summary>
        /// Remarks, up to 128 characters.
        /// </summary>
        [Input("remark")]
        public Input<string>? Remark { get; set; }

        /// <summary>
        /// Resources, requiring matching subscriptions.
        /// </summary>
        [Input("resources")]
        public Input<string>? Resources { get; set; }

        /// <summary>
        /// Condition - Reserved message 1, match reserved message; 2, match unreserved message, 3. match reserved and unreserved message.
        /// </summary>
        [Input("retain")]
        public Input<int>? Retain { get; set; }

        /// <summary>
        /// Condition - Username.
        /// </summary>
        [Input("username")]
        public Input<string>? Username { get; set; }

        public AuthorizationPolicyState()
        {
        }
        public static new AuthorizationPolicyState Empty => new AuthorizationPolicyState();
    }
}
