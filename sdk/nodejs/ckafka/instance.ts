// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "../types/input";
import * as outputs from "../types/output";
import * as utilities from "../utilities";

/**
 * Use this resource to create CKafka instance.
 *
 * ## Example Usage
 *
 * ### Create basic instance(prepaid)
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as tencentcloud from "@tencentcloud_iac/pulumi";
 *
 * const gz = tencentcloud.Availability.getZonesByProduct({
 *     name: "ap-guangzhou-6",
 *     product: "ckafka",
 * });
 * // create vpc
 * const vpc = new tencentcloud.vpc.Instance("vpc", {
 *     name: "vpc",
 *     cidrBlock: "10.0.0.0/16",
 * });
 * // create vpc subnet
 * const subnet = new tencentcloud.subnet.Instance("subnet", {
 *     name: "subnet",
 *     vpcId: vpc.id,
 *     availabilityZone: "ap-guangzhou-6",
 *     cidrBlock: "10.0.20.0/28",
 *     isMulticast: false,
 * });
 * // create ckafka
 * const example = new tencentcloud.ckafka.Instance("example", {
 *     instanceName: "tf-example",
 *     zoneId: gz.then(gz => gz.zones?.[0]?.id),
 *     period: 1,
 *     vpcId: vpc.id,
 *     subnetId: subnet.id,
 *     msgRetentionTime: 1300,
 *     renewFlag: 0,
 *     kafkaVersion: "2.8.1",
 *     diskSize: 200,
 *     diskType: "CLOUD_BASIC",
 *     bandWidth: 40,
 *     partition: 400,
 *     specificationsType: "profession",
 *     instanceType: 1,
 *     config: {
 *         autoCreateTopicEnable: true,
 *         defaultNumPartitions: 3,
 *         defaultReplicationFactor: 3,
 *     },
 *     dynamicRetentionConfig: {
 *         enable: 1,
 *     },
 * });
 * ```
 *
 * ### Create multi zone instance(postpaid)
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as tencentcloud from "@tencentcloud_iac/pulumi";
 *
 * const gz6 = tencentcloud.Availability.getZonesByProduct({
 *     name: "ap-guangzhou-6",
 *     product: "ckafka",
 * });
 * const gz7 = tencentcloud.Availability.getZonesByProduct({
 *     name: "ap-guangzhou-7",
 *     product: "ckafka",
 * });
 * // create vpc
 * const vpc = new tencentcloud.vpc.Instance("vpc", {
 *     name: "vpc",
 *     cidrBlock: "10.0.0.0/16",
 * });
 * // create vpc subnet
 * const subnet = new tencentcloud.subnet.Instance("subnet", {
 *     name: "subnet",
 *     vpcId: vpc.id,
 *     availabilityZone: "ap-guangzhou-6",
 *     cidrBlock: "10.0.20.0/28",
 *     isMulticast: false,
 * });
 * // create ckafka
 * const example = new tencentcloud.ckafka.Instance("example", {
 *     instanceName: "tf-example",
 *     zoneId: gz6.then(gz6 => gz6.zones?.[0]?.id),
 *     multiZoneFlag: true,
 *     zoneIds: [
 *         gz6.then(gz6 => gz6.zones?.[0]?.id),
 *         gz7.then(gz7 => gz7.zones?.[0]?.id),
 *     ],
 *     renewFlag: 0,
 *     vpcId: vpc.id,
 *     subnetId: subnet.id,
 *     msgRetentionTime: 4320,
 *     kafkaVersion: "2.8.1",
 *     diskSize: 200,
 *     diskType: "CLOUD_BASIC",
 *     bandWidth: 20,
 *     partition: 400,
 *     specificationsType: "profession",
 *     chargeType: "POSTPAID_BY_HOUR",
 *     instanceType: 1,
 *     config: {
 *         autoCreateTopicEnable: true,
 *         defaultNumPartitions: 3,
 *         defaultReplicationFactor: 3,
 *     },
 *     dynamicRetentionConfig: {
 *         enable: 1,
 *     },
 * });
 * ```
 *
 * ## Import
 *
 * CKafka instance can be imported using the instanceId, e.g.
 *
 * ```sh
 * $ pulumi import tencentcloud:Ckafka/instance:Instance example ckafka-f9ife4zz
 * ```
 */
export class Instance extends pulumi.CustomResource {
    /**
     * Get an existing Instance resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: InstanceState, opts?: pulumi.CustomResourceOptions): Instance {
        return new Instance(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'tencentcloud:Ckafka/instance:Instance';

    /**
     * Returns true if the given object is an instance of Instance.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is Instance {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === Instance.__pulumiType;
    }

    /**
     * Instance bandwidth in MBps.
     */
    declare public readonly bandWidth: pulumi.Output<number>;
    /**
     * The charge type of instance. Valid values are `PREPAID` and `POSTPAID_BY_HOUR`. Default value is `PREPAID`.
     */
    declare public readonly chargeType: pulumi.Output<string | undefined>;
    /**
     * Instance configuration.
     */
    declare public readonly config: pulumi.Output<outputs.Ckafka.InstanceConfig | undefined>;
    /**
     * Disk Size. Its interval varies with bandwidth, and the input must be within the interval, which can be viewed through the control. If it is not within the interval, the plan will cause a change when first created.
     */
    declare public readonly diskSize: pulumi.Output<number>;
    /**
     * Type of disk.
     */
    declare public readonly diskType: pulumi.Output<string>;
    /**
     * Dynamic message retention policy configuration.
     */
    declare public readonly dynamicRetentionConfig: pulumi.Output<outputs.Ckafka.InstanceDynamicRetentionConfig>;
    /**
     * Elastic bandwidth switch 0 not turned on 1 turned on (0 default). This takes effect only when the instance is created.
     */
    declare public readonly elasticBandwidthSwitch: pulumi.Output<number | undefined>;
    /**
     * Instance name.
     */
    declare public readonly instanceName: pulumi.Output<string>;
    /**
     * Description of instance type. `profession`: 1, `standard`:  1(general), 2(standard), 3(advanced), 4(capacity), 5(specialized-1), 6(specialized-2), 7(specialized-3), 8(specialized-4), 9(exclusive).
     */
    declare public readonly instanceType: pulumi.Output<number>;
    /**
     * Kafka version (0.10.2/1.1.1/2.4.1).
     */
    declare public readonly kafkaVersion: pulumi.Output<string>;
    /**
     * The size of a single message in bytes at the instance level. Value range: `1024 - 12*1024*1024 bytes (i.e., 1KB-12MB).
     */
    declare public readonly maxMessageByte: pulumi.Output<number>;
    /**
     * The maximum retention time of instance logs, in minutes. the default is 10080 (7 days), the maximum is 30 days, and the default 0 is not filled, which means that the log retention time recovery policy is not enabled.
     */
    declare public readonly msgRetentionTime: pulumi.Output<number>;
    /**
     * Indicates whether the instance is multi zones. NOTE: if set to `true`, `zoneIds` must set together.
     */
    declare public readonly multiZoneFlag: pulumi.Output<boolean | undefined>;
    /**
     * Partition Size. Its interval varies with bandwidth, and the input must be within the interval, which can be viewed through the control. If it is not within the interval, the plan will cause a change when first created.
     */
    declare public readonly partition: pulumi.Output<number>;
    /**
     * Prepaid purchase time, such as 1, is one month.
     */
    declare public readonly period: pulumi.Output<number | undefined>;
    /**
     * Bandwidth of the public network.
     */
    declare public readonly publicNetwork: pulumi.Output<number>;
    /**
     * It has been deprecated from version 1.82.37. Modification of the rebalancing time after upgrade.
     *
     * @deprecated It has been deprecated from version 1.82.37.
     */
    declare public readonly rebalanceTime: pulumi.Output<number | undefined>;
    /**
     * Prepaid automatic renewal mark, 0 means the default state, the initial state, 1 means automatic renewal, 2 means clear no automatic renewal (user setting).
     */
    declare public readonly renewFlag: pulumi.Output<number>;
    /**
     * Specifications type of instance. Allowed values are `profession`, `premium`. Default is `profession`.
     */
    declare public readonly specificationsType: pulumi.Output<string | undefined>;
    /**
     * Subnet id, it will be basic network if not set.
     */
    declare public readonly subnetId: pulumi.Output<string | undefined>;
    /**
     * Tag set of instance.
     */
    declare public readonly tagSet: pulumi.Output<{[key: string]: string}>;
    /**
     * It has been deprecated from version 1.78.5, because it do not support change. Use `tagSet` instead. Tags of instance. Partition size, the professional version does not need tag.
     *
     * @deprecated It has been deprecated from version 1.78.5, because it do not support change. Use `tagSet` instead.
     */
    declare public readonly tags: pulumi.Output<outputs.Ckafka.InstanceTag[]>;
    /**
     * POSTPAID_BY_HOUR scale-down mode
     * - 1: stable transformation;
     * - 2: High-speed transformer.
     */
    declare public readonly upgradeStrategy: pulumi.Output<number | undefined>;
    /**
     * Vip of instance.
     */
    declare public /*out*/ readonly vip: pulumi.Output<string>;
    /**
     * Vpc id, it will be basic network if not set.
     */
    declare public readonly vpcId: pulumi.Output<string | undefined>;
    /**
     * Type of instance.
     */
    declare public /*out*/ readonly vport: pulumi.Output<string>;
    /**
     * Available zone id.
     */
    declare public readonly zoneId: pulumi.Output<number>;
    /**
     * List of available zone id. NOTE: this argument must set together with `multiZoneFlag`.
     */
    declare public readonly zoneIds: pulumi.Output<number[] | undefined>;

    /**
     * Create a Instance resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: InstanceArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: InstanceArgs | InstanceState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as InstanceState | undefined;
            resourceInputs["bandWidth"] = state?.bandWidth;
            resourceInputs["chargeType"] = state?.chargeType;
            resourceInputs["config"] = state?.config;
            resourceInputs["diskSize"] = state?.diskSize;
            resourceInputs["diskType"] = state?.diskType;
            resourceInputs["dynamicRetentionConfig"] = state?.dynamicRetentionConfig;
            resourceInputs["elasticBandwidthSwitch"] = state?.elasticBandwidthSwitch;
            resourceInputs["instanceName"] = state?.instanceName;
            resourceInputs["instanceType"] = state?.instanceType;
            resourceInputs["kafkaVersion"] = state?.kafkaVersion;
            resourceInputs["maxMessageByte"] = state?.maxMessageByte;
            resourceInputs["msgRetentionTime"] = state?.msgRetentionTime;
            resourceInputs["multiZoneFlag"] = state?.multiZoneFlag;
            resourceInputs["partition"] = state?.partition;
            resourceInputs["period"] = state?.period;
            resourceInputs["publicNetwork"] = state?.publicNetwork;
            resourceInputs["rebalanceTime"] = state?.rebalanceTime;
            resourceInputs["renewFlag"] = state?.renewFlag;
            resourceInputs["specificationsType"] = state?.specificationsType;
            resourceInputs["subnetId"] = state?.subnetId;
            resourceInputs["tagSet"] = state?.tagSet;
            resourceInputs["tags"] = state?.tags;
            resourceInputs["upgradeStrategy"] = state?.upgradeStrategy;
            resourceInputs["vip"] = state?.vip;
            resourceInputs["vpcId"] = state?.vpcId;
            resourceInputs["vport"] = state?.vport;
            resourceInputs["zoneId"] = state?.zoneId;
            resourceInputs["zoneIds"] = state?.zoneIds;
        } else {
            const args = argsOrState as InstanceArgs | undefined;
            if (args?.instanceName === undefined && !opts.urn) {
                throw new Error("Missing required property 'instanceName'");
            }
            if (args?.zoneId === undefined && !opts.urn) {
                throw new Error("Missing required property 'zoneId'");
            }
            resourceInputs["bandWidth"] = args?.bandWidth;
            resourceInputs["chargeType"] = args?.chargeType;
            resourceInputs["config"] = args?.config;
            resourceInputs["diskSize"] = args?.diskSize;
            resourceInputs["diskType"] = args?.diskType;
            resourceInputs["dynamicRetentionConfig"] = args?.dynamicRetentionConfig;
            resourceInputs["elasticBandwidthSwitch"] = args?.elasticBandwidthSwitch;
            resourceInputs["instanceName"] = args?.instanceName;
            resourceInputs["instanceType"] = args?.instanceType;
            resourceInputs["kafkaVersion"] = args?.kafkaVersion;
            resourceInputs["maxMessageByte"] = args?.maxMessageByte;
            resourceInputs["msgRetentionTime"] = args?.msgRetentionTime;
            resourceInputs["multiZoneFlag"] = args?.multiZoneFlag;
            resourceInputs["partition"] = args?.partition;
            resourceInputs["period"] = args?.period;
            resourceInputs["publicNetwork"] = args?.publicNetwork;
            resourceInputs["rebalanceTime"] = args?.rebalanceTime;
            resourceInputs["renewFlag"] = args?.renewFlag;
            resourceInputs["specificationsType"] = args?.specificationsType;
            resourceInputs["subnetId"] = args?.subnetId;
            resourceInputs["tagSet"] = args?.tagSet;
            resourceInputs["tags"] = args?.tags;
            resourceInputs["upgradeStrategy"] = args?.upgradeStrategy;
            resourceInputs["vpcId"] = args?.vpcId;
            resourceInputs["zoneId"] = args?.zoneId;
            resourceInputs["zoneIds"] = args?.zoneIds;
            resourceInputs["vip"] = undefined /*out*/;
            resourceInputs["vport"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(Instance.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering Instance resources.
 */
export interface InstanceState {
    /**
     * Instance bandwidth in MBps.
     */
    bandWidth?: pulumi.Input<number>;
    /**
     * The charge type of instance. Valid values are `PREPAID` and `POSTPAID_BY_HOUR`. Default value is `PREPAID`.
     */
    chargeType?: pulumi.Input<string>;
    /**
     * Instance configuration.
     */
    config?: pulumi.Input<inputs.Ckafka.InstanceConfig>;
    /**
     * Disk Size. Its interval varies with bandwidth, and the input must be within the interval, which can be viewed through the control. If it is not within the interval, the plan will cause a change when first created.
     */
    diskSize?: pulumi.Input<number>;
    /**
     * Type of disk.
     */
    diskType?: pulumi.Input<string>;
    /**
     * Dynamic message retention policy configuration.
     */
    dynamicRetentionConfig?: pulumi.Input<inputs.Ckafka.InstanceDynamicRetentionConfig>;
    /**
     * Elastic bandwidth switch 0 not turned on 1 turned on (0 default). This takes effect only when the instance is created.
     */
    elasticBandwidthSwitch?: pulumi.Input<number>;
    /**
     * Instance name.
     */
    instanceName?: pulumi.Input<string>;
    /**
     * Description of instance type. `profession`: 1, `standard`:  1(general), 2(standard), 3(advanced), 4(capacity), 5(specialized-1), 6(specialized-2), 7(specialized-3), 8(specialized-4), 9(exclusive).
     */
    instanceType?: pulumi.Input<number>;
    /**
     * Kafka version (0.10.2/1.1.1/2.4.1).
     */
    kafkaVersion?: pulumi.Input<string>;
    /**
     * The size of a single message in bytes at the instance level. Value range: `1024 - 12*1024*1024 bytes (i.e., 1KB-12MB).
     */
    maxMessageByte?: pulumi.Input<number>;
    /**
     * The maximum retention time of instance logs, in minutes. the default is 10080 (7 days), the maximum is 30 days, and the default 0 is not filled, which means that the log retention time recovery policy is not enabled.
     */
    msgRetentionTime?: pulumi.Input<number>;
    /**
     * Indicates whether the instance is multi zones. NOTE: if set to `true`, `zoneIds` must set together.
     */
    multiZoneFlag?: pulumi.Input<boolean>;
    /**
     * Partition Size. Its interval varies with bandwidth, and the input must be within the interval, which can be viewed through the control. If it is not within the interval, the plan will cause a change when first created.
     */
    partition?: pulumi.Input<number>;
    /**
     * Prepaid purchase time, such as 1, is one month.
     */
    period?: pulumi.Input<number>;
    /**
     * Bandwidth of the public network.
     */
    publicNetwork?: pulumi.Input<number>;
    /**
     * It has been deprecated from version 1.82.37. Modification of the rebalancing time after upgrade.
     *
     * @deprecated It has been deprecated from version 1.82.37.
     */
    rebalanceTime?: pulumi.Input<number>;
    /**
     * Prepaid automatic renewal mark, 0 means the default state, the initial state, 1 means automatic renewal, 2 means clear no automatic renewal (user setting).
     */
    renewFlag?: pulumi.Input<number>;
    /**
     * Specifications type of instance. Allowed values are `profession`, `premium`. Default is `profession`.
     */
    specificationsType?: pulumi.Input<string>;
    /**
     * Subnet id, it will be basic network if not set.
     */
    subnetId?: pulumi.Input<string>;
    /**
     * Tag set of instance.
     */
    tagSet?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * It has been deprecated from version 1.78.5, because it do not support change. Use `tagSet` instead. Tags of instance. Partition size, the professional version does not need tag.
     *
     * @deprecated It has been deprecated from version 1.78.5, because it do not support change. Use `tagSet` instead.
     */
    tags?: pulumi.Input<pulumi.Input<inputs.Ckafka.InstanceTag>[]>;
    /**
     * POSTPAID_BY_HOUR scale-down mode
     * - 1: stable transformation;
     * - 2: High-speed transformer.
     */
    upgradeStrategy?: pulumi.Input<number>;
    /**
     * Vip of instance.
     */
    vip?: pulumi.Input<string>;
    /**
     * Vpc id, it will be basic network if not set.
     */
    vpcId?: pulumi.Input<string>;
    /**
     * Type of instance.
     */
    vport?: pulumi.Input<string>;
    /**
     * Available zone id.
     */
    zoneId?: pulumi.Input<number>;
    /**
     * List of available zone id. NOTE: this argument must set together with `multiZoneFlag`.
     */
    zoneIds?: pulumi.Input<pulumi.Input<number>[]>;
}

/**
 * The set of arguments for constructing a Instance resource.
 */
export interface InstanceArgs {
    /**
     * Instance bandwidth in MBps.
     */
    bandWidth?: pulumi.Input<number>;
    /**
     * The charge type of instance. Valid values are `PREPAID` and `POSTPAID_BY_HOUR`. Default value is `PREPAID`.
     */
    chargeType?: pulumi.Input<string>;
    /**
     * Instance configuration.
     */
    config?: pulumi.Input<inputs.Ckafka.InstanceConfig>;
    /**
     * Disk Size. Its interval varies with bandwidth, and the input must be within the interval, which can be viewed through the control. If it is not within the interval, the plan will cause a change when first created.
     */
    diskSize?: pulumi.Input<number>;
    /**
     * Type of disk.
     */
    diskType?: pulumi.Input<string>;
    /**
     * Dynamic message retention policy configuration.
     */
    dynamicRetentionConfig?: pulumi.Input<inputs.Ckafka.InstanceDynamicRetentionConfig>;
    /**
     * Elastic bandwidth switch 0 not turned on 1 turned on (0 default). This takes effect only when the instance is created.
     */
    elasticBandwidthSwitch?: pulumi.Input<number>;
    /**
     * Instance name.
     */
    instanceName: pulumi.Input<string>;
    /**
     * Description of instance type. `profession`: 1, `standard`:  1(general), 2(standard), 3(advanced), 4(capacity), 5(specialized-1), 6(specialized-2), 7(specialized-3), 8(specialized-4), 9(exclusive).
     */
    instanceType?: pulumi.Input<number>;
    /**
     * Kafka version (0.10.2/1.1.1/2.4.1).
     */
    kafkaVersion?: pulumi.Input<string>;
    /**
     * The size of a single message in bytes at the instance level. Value range: `1024 - 12*1024*1024 bytes (i.e., 1KB-12MB).
     */
    maxMessageByte?: pulumi.Input<number>;
    /**
     * The maximum retention time of instance logs, in minutes. the default is 10080 (7 days), the maximum is 30 days, and the default 0 is not filled, which means that the log retention time recovery policy is not enabled.
     */
    msgRetentionTime?: pulumi.Input<number>;
    /**
     * Indicates whether the instance is multi zones. NOTE: if set to `true`, `zoneIds` must set together.
     */
    multiZoneFlag?: pulumi.Input<boolean>;
    /**
     * Partition Size. Its interval varies with bandwidth, and the input must be within the interval, which can be viewed through the control. If it is not within the interval, the plan will cause a change when first created.
     */
    partition?: pulumi.Input<number>;
    /**
     * Prepaid purchase time, such as 1, is one month.
     */
    period?: pulumi.Input<number>;
    /**
     * Bandwidth of the public network.
     */
    publicNetwork?: pulumi.Input<number>;
    /**
     * It has been deprecated from version 1.82.37. Modification of the rebalancing time after upgrade.
     *
     * @deprecated It has been deprecated from version 1.82.37.
     */
    rebalanceTime?: pulumi.Input<number>;
    /**
     * Prepaid automatic renewal mark, 0 means the default state, the initial state, 1 means automatic renewal, 2 means clear no automatic renewal (user setting).
     */
    renewFlag?: pulumi.Input<number>;
    /**
     * Specifications type of instance. Allowed values are `profession`, `premium`. Default is `profession`.
     */
    specificationsType?: pulumi.Input<string>;
    /**
     * Subnet id, it will be basic network if not set.
     */
    subnetId?: pulumi.Input<string>;
    /**
     * Tag set of instance.
     */
    tagSet?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * It has been deprecated from version 1.78.5, because it do not support change. Use `tagSet` instead. Tags of instance. Partition size, the professional version does not need tag.
     *
     * @deprecated It has been deprecated from version 1.78.5, because it do not support change. Use `tagSet` instead.
     */
    tags?: pulumi.Input<pulumi.Input<inputs.Ckafka.InstanceTag>[]>;
    /**
     * POSTPAID_BY_HOUR scale-down mode
     * - 1: stable transformation;
     * - 2: High-speed transformer.
     */
    upgradeStrategy?: pulumi.Input<number>;
    /**
     * Vpc id, it will be basic network if not set.
     */
    vpcId?: pulumi.Input<string>;
    /**
     * Available zone id.
     */
    zoneId: pulumi.Input<number>;
    /**
     * List of available zone id. NOTE: this argument must set together with `multiZoneFlag`.
     */
    zoneIds?: pulumi.Input<pulumi.Input<number>[]>;
}
