// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "../types/input";
import * as outputs from "../types/output";
import * as utilities from "../utilities";

/**
 * Provides a resource to create a WAF custom white rule
 *
 * > **NOTE:** If `jobType` is `TimedJob`, Then `expireTime` must select the maximum time value of the `endDateTime` in the parameter list `timed`.
 *
 * ## Example Usage
 *
 * ### Create a standard custom white rule
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as tencentcloud from "@tencentcloud_iac/pulumi";
 *
 * const example = new tencentcloud.waf.CustomWhiteRule("example", {
 *     name: "tf-example",
 *     sortId: "30",
 *     expireTime: "0",
 *     strategies: [
 *         {
 *             field: "IP",
 *             compareFunc: "ipmatch",
 *             content: "1.1.1.1",
 *             arg: "",
 *         },
 *         {
 *             field: "IP_GEO",
 *             compareFunc: "geo_in",
 *             content: JSON.stringify({
 *                 Lang: "cn",
 *                 Areas: [{
 *                     Country: "国外",
 *                 }],
 *             }),
 *             arg: "",
 *         },
 *     ],
 *     status: "1",
 *     domain: "www.demo.com",
 *     bypass: "geoip,cc,owasp",
 *     logicalOp: "and",
 * });
 * ```
 *
 * ### Create a timed resource for execution
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as tencentcloud from "@tencentcloud_iac/pulumi";
 *
 * const example = new tencentcloud.waf.CustomWhiteRule("example", {
 *     name: "tf-example",
 *     sortId: "30",
 *     expireTime: "1740672000",
 *     strategies: [
 *         {
 *             field: "IP",
 *             compareFunc: "ipmatch",
 *             content: "1.1.1.1",
 *             arg: "",
 *         },
 *         {
 *             field: "URL",
 *             compareFunc: "strprefix",
 *             content: "/demo/path",
 *             arg: "",
 *             caseNotSensitive: 1,
 *         },
 *     ],
 *     status: "1",
 *     domain: "www.demo.com",
 *     bypass: "geoip,cc,owasp",
 *     jobType: "TimedJob",
 *     jobDateTime: {
 *         timeds: [{
 *             startDateTime: 1740585600,
 *             endDateTime: 1740672000,
 *         }],
 *         timeTZone: "UTC+8",
 *     },
 * });
 * ```
 *
 * ### Create a cron resource for execution
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as tencentcloud from "@tencentcloud_iac/pulumi";
 *
 * const example = new tencentcloud.waf.CustomWhiteRule("example", {
 *     name: "tf-example",
 *     sortId: "30",
 *     expireTime: "0",
 *     strategies: [
 *         {
 *             field: "IP",
 *             compareFunc: "ipmatch",
 *             content: "1.1.1.1",
 *             arg: "",
 *         },
 *         {
 *             field: "URL",
 *             compareFunc: "strprefix",
 *             content: "/demo/path",
 *             arg: "",
 *             caseNotSensitive: 1,
 *         },
 *     ],
 *     status: "1",
 *     domain: "www.demo.com",
 *     bypass: "geoip,cc,owasp",
 *     jobType: "CronJob",
 *     logicalOp: "or",
 *     jobDateTime: {
 *         crons: [{
 *             wDays: [
 *                 0,
 *                 1,
 *                 2,
 *                 3,
 *                 4,
 *                 5,
 *                 6,
 *             ],
 *             startTime: "01:00:00",
 *             endTime: "03:00:00",
 *         }],
 *         timeTZone: "UTC+8",
 *     },
 * });
 * ```
 *
 * ## Import
 *
 * WAF custom white rule can be imported using the id, e.g.
 *
 * ```sh
 * $ pulumi import tencentcloud:Waf/customWhiteRule:CustomWhiteRule example www.demo.com#1100310837
 * ```
 */
export class CustomWhiteRule extends pulumi.CustomResource {
    /**
     * Get an existing CustomWhiteRule resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: CustomWhiteRuleState, opts?: pulumi.CustomResourceOptions): CustomWhiteRule {
        return new CustomWhiteRule(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'tencentcloud:Waf/customWhiteRule:CustomWhiteRule';

    /**
     * Returns true if the given object is an instance of CustomWhiteRule.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is CustomWhiteRule {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === CustomWhiteRule.__pulumiType;
    }

    /**
     * The bypass modules are connected by commas between multiple modules. Supported modules ACL (Custom Rules), OWASP (Rule Engine), Webshell (Malicious File Detection), GeoIP (Geographic Block), BWIP (IP Black and White List), CC, BotRPC (BOT Protection), AntiLeakage (Information Leakage Prevention), API (API Security), AI (AI Engine), ipOutoDeny (IP Block), Applet (Mini Program Traffic Risk Control).
     */
    declare public readonly bypass: pulumi.Output<string>;
    /**
     * Domain name that needs to add policy.
     */
    declare public readonly domain: pulumi.Output<string>;
    /**
     * Expiration time in second-level timestamp, for example, 1677254399 indicates the expiration time is 2023-02-24 23:59:59; 0 indicates it will never expire.
     */
    declare public readonly expireTime: pulumi.Output<string>;
    /**
     * Rule execution time.
     */
    declare public readonly jobDateTime: pulumi.Output<outputs.Waf.CustomWhiteRuleJobDateTime>;
    /**
     * Rule execution mode: TimedJob indicates scheduled execution. CronJob indicates periodic execution.
     */
    declare public readonly jobType: pulumi.Output<string>;
    /**
     * Logical operator of configuration mode, and/or.
     */
    declare public readonly logicalOp: pulumi.Output<string>;
    /**
     * Rule Name.
     */
    declare public readonly name: pulumi.Output<string>;
    /**
     * rule ID.
     */
    declare public /*out*/ readonly ruleId: pulumi.Output<string>;
    /**
     * Priority, value range 1-100, The smaller the number, the higher the execution priority of this rule.
     */
    declare public readonly sortId: pulumi.Output<string>;
    /**
     * The status of the switch, 1 is on, 0 is off, default 1.
     */
    declare public readonly status: pulumi.Output<string | undefined>;
    /**
     * Strategies detail.
     */
    declare public readonly strategies: pulumi.Output<outputs.Waf.CustomWhiteRuleStrategy[]>;

    /**
     * Create a CustomWhiteRule resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: CustomWhiteRuleArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: CustomWhiteRuleArgs | CustomWhiteRuleState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as CustomWhiteRuleState | undefined;
            resourceInputs["bypass"] = state?.bypass;
            resourceInputs["domain"] = state?.domain;
            resourceInputs["expireTime"] = state?.expireTime;
            resourceInputs["jobDateTime"] = state?.jobDateTime;
            resourceInputs["jobType"] = state?.jobType;
            resourceInputs["logicalOp"] = state?.logicalOp;
            resourceInputs["name"] = state?.name;
            resourceInputs["ruleId"] = state?.ruleId;
            resourceInputs["sortId"] = state?.sortId;
            resourceInputs["status"] = state?.status;
            resourceInputs["strategies"] = state?.strategies;
        } else {
            const args = argsOrState as CustomWhiteRuleArgs | undefined;
            if (args?.bypass === undefined && !opts.urn) {
                throw new Error("Missing required property 'bypass'");
            }
            if (args?.domain === undefined && !opts.urn) {
                throw new Error("Missing required property 'domain'");
            }
            if (args?.expireTime === undefined && !opts.urn) {
                throw new Error("Missing required property 'expireTime'");
            }
            if (args?.sortId === undefined && !opts.urn) {
                throw new Error("Missing required property 'sortId'");
            }
            if (args?.strategies === undefined && !opts.urn) {
                throw new Error("Missing required property 'strategies'");
            }
            resourceInputs["bypass"] = args?.bypass;
            resourceInputs["domain"] = args?.domain;
            resourceInputs["expireTime"] = args?.expireTime;
            resourceInputs["jobDateTime"] = args?.jobDateTime;
            resourceInputs["jobType"] = args?.jobType;
            resourceInputs["logicalOp"] = args?.logicalOp;
            resourceInputs["name"] = args?.name;
            resourceInputs["sortId"] = args?.sortId;
            resourceInputs["status"] = args?.status;
            resourceInputs["strategies"] = args?.strategies;
            resourceInputs["ruleId"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(CustomWhiteRule.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering CustomWhiteRule resources.
 */
export interface CustomWhiteRuleState {
    /**
     * The bypass modules are connected by commas between multiple modules. Supported modules ACL (Custom Rules), OWASP (Rule Engine), Webshell (Malicious File Detection), GeoIP (Geographic Block), BWIP (IP Black and White List), CC, BotRPC (BOT Protection), AntiLeakage (Information Leakage Prevention), API (API Security), AI (AI Engine), ipOutoDeny (IP Block), Applet (Mini Program Traffic Risk Control).
     */
    bypass?: pulumi.Input<string>;
    /**
     * Domain name that needs to add policy.
     */
    domain?: pulumi.Input<string>;
    /**
     * Expiration time in second-level timestamp, for example, 1677254399 indicates the expiration time is 2023-02-24 23:59:59; 0 indicates it will never expire.
     */
    expireTime?: pulumi.Input<string>;
    /**
     * Rule execution time.
     */
    jobDateTime?: pulumi.Input<inputs.Waf.CustomWhiteRuleJobDateTime>;
    /**
     * Rule execution mode: TimedJob indicates scheduled execution. CronJob indicates periodic execution.
     */
    jobType?: pulumi.Input<string>;
    /**
     * Logical operator of configuration mode, and/or.
     */
    logicalOp?: pulumi.Input<string>;
    /**
     * Rule Name.
     */
    name?: pulumi.Input<string>;
    /**
     * rule ID.
     */
    ruleId?: pulumi.Input<string>;
    /**
     * Priority, value range 1-100, The smaller the number, the higher the execution priority of this rule.
     */
    sortId?: pulumi.Input<string>;
    /**
     * The status of the switch, 1 is on, 0 is off, default 1.
     */
    status?: pulumi.Input<string>;
    /**
     * Strategies detail.
     */
    strategies?: pulumi.Input<pulumi.Input<inputs.Waf.CustomWhiteRuleStrategy>[]>;
}

/**
 * The set of arguments for constructing a CustomWhiteRule resource.
 */
export interface CustomWhiteRuleArgs {
    /**
     * The bypass modules are connected by commas between multiple modules. Supported modules ACL (Custom Rules), OWASP (Rule Engine), Webshell (Malicious File Detection), GeoIP (Geographic Block), BWIP (IP Black and White List), CC, BotRPC (BOT Protection), AntiLeakage (Information Leakage Prevention), API (API Security), AI (AI Engine), ipOutoDeny (IP Block), Applet (Mini Program Traffic Risk Control).
     */
    bypass: pulumi.Input<string>;
    /**
     * Domain name that needs to add policy.
     */
    domain: pulumi.Input<string>;
    /**
     * Expiration time in second-level timestamp, for example, 1677254399 indicates the expiration time is 2023-02-24 23:59:59; 0 indicates it will never expire.
     */
    expireTime: pulumi.Input<string>;
    /**
     * Rule execution time.
     */
    jobDateTime?: pulumi.Input<inputs.Waf.CustomWhiteRuleJobDateTime>;
    /**
     * Rule execution mode: TimedJob indicates scheduled execution. CronJob indicates periodic execution.
     */
    jobType?: pulumi.Input<string>;
    /**
     * Logical operator of configuration mode, and/or.
     */
    logicalOp?: pulumi.Input<string>;
    /**
     * Rule Name.
     */
    name?: pulumi.Input<string>;
    /**
     * Priority, value range 1-100, The smaller the number, the higher the execution priority of this rule.
     */
    sortId: pulumi.Input<string>;
    /**
     * The status of the switch, 1 is on, 0 is off, default 1.
     */
    status?: pulumi.Input<string>;
    /**
     * Strategies detail.
     */
    strategies: pulumi.Input<pulumi.Input<inputs.Waf.CustomWhiteRuleStrategy>[]>;
}
