// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "../types/input";
import * as outputs from "../types/output";
import * as utilities from "../utilities";

/**
 * Provides a resource to create a Redis instance and set its attributes.
 *
 * > **NOTE:** The argument vpcId and subnetId is now required because Basic Network Instance is no longer supported.
 *
 * > **NOTE:** Both adding and removing replications in one change is supported but not recommend.
 *
 * ## Example Usage
 *
 * ### Create a base version of redis
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as tencentcloud from "@tencentcloud_iac/pulumi";
 *
 * const zone = tencentcloud.Redis.getZoneConfig({
 *     typeId: 7,
 * });
 * const vpc = new tencentcloud.vpc.Instance("vpc", {
 *     cidrBlock: "10.0.0.0/16",
 *     name: "tf_redis_vpc",
 * });
 * const subnet = new tencentcloud.subnet.Instance("subnet", {
 *     vpcId: vpc.id,
 *     availabilityZone: zone.then(zone => zone.lists?.[0]?.zone),
 *     name: "tf_redis_subnet",
 *     cidrBlock: "10.0.1.0/24",
 * });
 * const example = new tencentcloud.redis.Instance("example", {
 *     availabilityZone: zone.then(zone => zone.lists?.[0]?.zone),
 *     typeId: zone.then(zone => zone.lists?.[0]?.typeId),
 *     password: "Password@123",
 *     memSize: 8192,
 *     redisShardNum: zone.then(zone => zone.lists?.[0]?.redisShardNums?.[0]),
 *     redisReplicasNum: zone.then(zone => zone.lists?.[0]?.redisReplicasNums?.[0]),
 *     name: "tf-example",
 *     port: 6379,
 *     vpcId: vpc.id,
 *     subnetId: subnet.id,
 * });
 * ```
 *
 * ### Using multi replica zone set
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as std from "@pulumi/std";
 * import * as tencentcloud from "@tencentcloud_iac/pulumi";
 *
 * const config = new pulumi.Config();
 * const redisReplicasNum = config.getNumber("redisReplicasNum") || 3;
 * const redisTypeId = config.getNumber("redisTypeId") || 7;
 * const az = tencentcloud.Availability.getZonesByProduct({
 *     product: "redis",
 * });
 * const vpc = new tencentcloud.vpc.Instance("vpc", {
 *     cidrBlock: "10.0.0.0/16",
 *     name: "tf_redis_vpc",
 * });
 * const subnet = new tencentcloud.subnet.Instance("subnet", {
 *     vpcId: vpc.id,
 *     availabilityZone: az.then(az => az.zones?.[0]?.name),
 *     name: "tf_redis_subnet",
 *     cidrBlock: "10.0.1.0/24",
 * });
 * const securityGroup = new tencentcloud.security.Group("security_group", {name: "tf-redis-sg"});
 * const sgRule = new tencentcloud.index.SecurityGroupLiteRule("sg_rule", {
 *     securityGroupId: securityGroup.id,
 *     ingresses: [
 *         "ACCEPT#192.168.1.0/24#80#TCP",
 *         "DROP#8.8.8.8#80,90#UDP",
 *         "DROP#0.0.0.0/0#80-90#TCP",
 *     ],
 *     egresses: [
 *         "ACCEPT#192.168.0.0/16#ALL#TCP",
 *         "ACCEPT#10.0.0.0/8#ALL#ICMP",
 *         "DROP#0.0.0.0/0#ALL#ALL",
 *     ],
 * });
 * const example = new tencentcloud.redis.Instance("example", {
 *     availabilityZone: az.then(az => az.zones?.[0]?.name),
 *     typeId: redisTypeId,
 *     chargeType: "POSTPAID",
 *     memSize: 1024,
 *     name: "tf-example",
 *     port: 6379,
 *     projectId: 0,
 *     vpcId: vpc.id,
 *     subnetId: subnet.id,
 *     password: "Password@123",
 *     securityGroups: [securityGroup.id],
 *     redisReplicasNum: redisReplicasNum,
 *     redisShardNum: 1,
 *     replicaZoneIds: pulumi.all([std.range({
 *         limit: redisReplicasNum,
 *     }), az, az.then(az => az.zones).length]).apply(([invoke, az, length]) => .map(i => (az.zones[i % length].id))),
 * });
 * ```
 *
 * ### Buy a month of prepaid instances
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as tencentcloud from "@tencentcloud_iac/pulumi";
 *
 * const zone = tencentcloud.Redis.getZoneConfig({
 *     typeId: 7,
 * });
 * const vpc = new tencentcloud.vpc.Instance("vpc", {
 *     cidrBlock: "10.0.0.0/16",
 *     name: "tf_redis_vpc",
 * });
 * const subnet = new tencentcloud.subnet.Instance("subnet", {
 *     vpcId: vpc.id,
 *     availabilityZone: zone.then(zone => zone.lists?.[1]?.zone),
 *     name: "tf_redis_subnet",
 *     cidrBlock: "10.0.1.0/24",
 * });
 * const securityGroup = new tencentcloud.security.Group("security_group", {name: "tf-redis-sg"});
 * const sgRule = new tencentcloud.index.SecurityGroupLiteRule("sg_rule", {
 *     securityGroupId: securityGroup.id,
 *     ingresses: [
 *         "ACCEPT#192.168.1.0/24#80#TCP",
 *         "DROP#8.8.8.8#80,90#UDP",
 *         "DROP#0.0.0.0/0#80-90#TCP",
 *     ],
 *     egresses: [
 *         "ACCEPT#192.168.0.0/16#ALL#TCP",
 *         "ACCEPT#10.0.0.0/8#ALL#ICMP",
 *         "DROP#0.0.0.0/0#ALL#ALL",
 *     ],
 * });
 * const example = new tencentcloud.redis.Instance("example", {
 *     availabilityZone: zone.then(zone => zone.lists?.[0]?.zone),
 *     typeId: zone.then(zone => zone.lists?.[0]?.typeId),
 *     password: "Password@123",
 *     memSize: 8192,
 *     redisShardNum: zone.then(zone => zone.lists?.[0]?.redisShardNums?.[0]),
 *     redisReplicasNum: zone.then(zone => zone.lists?.[0]?.redisReplicasNums?.[0]),
 *     name: "tf-example",
 *     port: 6379,
 *     vpcId: vpc.id,
 *     subnetId: subnet.id,
 *     securityGroups: [securityGroup.id],
 *     chargeType: "PREPAID",
 *     prepaidPeriod: 1,
 * });
 * ```
 *
 * ### Create a multi-AZ instance
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as tencentcloud from "@tencentcloud_iac/pulumi";
 *
 * const zone = tencentcloud.Redis.getZoneConfig({
 *     typeId: 7,
 *     region: "ap-guangzhou",
 * });
 * const config = new pulumi.Config();
 * const replicaZoneIds = config.getObject<any>("replicaZoneIds") || [
 *     100004,
 *     100006,
 * ];
 * const vpc = new tencentcloud.vpc.Instance("vpc", {
 *     cidrBlock: "10.0.0.0/16",
 *     name: "tf_redis_vpc",
 * });
 * const subnet = new tencentcloud.subnet.Instance("subnet", {
 *     vpcId: vpc.id,
 *     availabilityZone: zone.then(zone => zone.lists?.[2]?.zone),
 *     name: "tf_redis_subnet",
 *     cidrBlock: "10.0.1.0/24",
 * });
 * const securityGroup = new tencentcloud.security.Group("security_group", {name: "tf-redis-sg"});
 * const sgRule = new tencentcloud.index.SecurityGroupLiteRule("sg_rule", {
 *     securityGroupId: securityGroup.id,
 *     ingresses: [
 *         "ACCEPT#192.168.1.0/24#80#TCP",
 *         "DROP#8.8.8.8#80,90#UDP",
 *         "DROP#0.0.0.0/0#80-90#TCP",
 *     ],
 *     egresses: [
 *         "ACCEPT#192.168.0.0/16#ALL#TCP",
 *         "ACCEPT#10.0.0.0/8#ALL#ICMP",
 *         "DROP#0.0.0.0/0#ALL#ALL",
 *     ],
 * });
 * const example = new tencentcloud.redis.Instance("example", {
 *     availabilityZone: zone.then(zone => zone.lists?.[2]?.zone),
 *     typeId: zone.then(zone => zone.lists?.[2]?.typeId),
 *     password: "Password@123",
 *     memSize: 8192,
 *     redisShardNum: zone.then(zone => zone.lists?.[2]?.redisShardNums?.[0]),
 *     redisReplicasNum: 2,
 *     replicaZoneIds: replicaZoneIds,
 *     name: "tf-example",
 *     port: 6379,
 *     vpcId: vpc.id,
 *     subnetId: subnet.id,
 *     securityGroups: [securityGroup.id],
 * });
 * ```
 *
 * ### Create a memcached instance
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as tencentcloud from "@tencentcloud_iac/pulumi";
 *
 * const zone = tencentcloud.Redis.getZoneConfig({
 *     typeId: 200,
 *     region: "ap-guangzhou",
 * });
 * const config = new pulumi.Config();
 * const replicaZoneIds = config.getObject<any>("replicaZoneIds") || [
 *     100004,
 *     100006,
 * ];
 * const vpc = new tencentcloud.vpc.Instance("vpc", {
 *     cidrBlock: "10.0.0.0/16",
 *     name: "tf_redis_vpc",
 * });
 * const subnet = new tencentcloud.subnet.Instance("subnet", {
 *     vpcId: vpc.id,
 *     availabilityZone: zone.then(zone => zone.lists?.[2]?.zone),
 *     name: "tf_redis_subnet",
 *     cidrBlock: "10.0.1.0/24",
 * });
 * const securityGroup = new tencentcloud.security.Group("security_group", {name: "tf-redis-sg"});
 * const sgRule = new tencentcloud.security.GroupRuleSet("sg_rule", {
 *     securityGroupId: securityGroup.id,
 *     ingresses: [
 *         {
 *             action: "ACCEPT",
 *             cidrBlock: "10.0.0.0/22",
 *             protocol: "TCP",
 *             port: "80-90",
 *             description: "A:Allow Ips and 80-90",
 *         },
 *         {
 *             action: "ACCEPT",
 *             cidrBlock: "10.0.2.1",
 *             protocol: "UDP",
 *             port: "8080",
 *             description: "B:Allow UDP 8080",
 *         },
 *     ],
 *     egresses: [
 *         {
 *             action: "DROP",
 *             cidrBlock: "10.0.0.0/16",
 *             protocol: "ICMP",
 *             description: "A:Block ping3",
 *         },
 *         {
 *             action: "DROP",
 *             cidrBlock: "0.0.0.0/0",
 *             protocol: "ALL",
 *             description: "A:Block ping3",
 *         },
 *     ],
 * });
 * const example = new tencentcloud.redis.Instance("example", {
 *     availabilityZone: zone.then(zone => zone.lists?.[2]?.zone),
 *     typeId: zone.then(zone => zone.lists?.[2]?.typeId),
 *     memSize: 8192,
 *     redisShardNum: zone.then(zone => zone.lists?.[2]?.redisShardNums?.[0]),
 *     redisReplicasNum: 2,
 *     noAuth: true,
 *     replicaZoneIds: replicaZoneIds,
 *     name: "tf-example",
 *     port: 6379,
 *     vpcId: vpc.id,
 *     subnetId: subnet.id,
 *     securityGroups: [securityGroup.id],
 *     forceDelete: true,
 * });
 * ```
 *
 * ### Create a CDC scenario instance
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as tencentcloud from "@tencentcloud_iac/pulumi";
 *
 * const config = new pulumi.Config();
 * const cdcId = config.get("cdcId") || "cluster-262n63e8";
 * const cdcRegion = config.get("cdcRegion") || "ap-guangzhou";
 * const clusters = tencentcloud.Redis.getClusters({
 *     dedicatedClusterId: cdcId,
 * });
 * export const name = clusters.then(clusters => clusters.resources?.[0]?.redisClusterId);
 * const zone = tencentcloud.Redis.getZoneConfig({
 *     typeId: 7,
 *     region: cdcRegion,
 * });
 * const example = tencentcloud.Cdc.getDedicatedClusters({
 *     dedicatedClusterIds: [cdcId],
 * });
 * const subnets = tencentcloud.Vpc.getSubnets({
 *     cdcId: cdcId,
 * });
 * const exampleInstance = new tencentcloud.redis.Instance("example", {
 *     availabilityZone: example.then(example => example.dedicatedClusterSets?.[0]?.zone),
 *     typeId: zone.then(zone => zone.lists?.[0]?.typeId),
 *     password: "Password@123",
 *     memSize: 8192,
 *     redisShardNum: zone.then(zone => zone.lists?.[0]?.redisShardNums?.[0]),
 *     redisReplicasNum: zone.then(zone => zone.lists?.[0]?.redisReplicasNums?.[0]),
 *     name: "tf-cdc-example",
 *     port: 6379,
 *     vpcId: subnets.then(subnets => subnets.instanceLists?.[0]?.vpcId),
 *     subnetId: subnets.then(subnets => subnets.instanceLists?.[0]?.subnetId),
 *     productVersion: "cdc",
 *     redisClusterId: clusters.then(clusters => clusters.resources?.[0]?.redisClusterId),
 * });
 * ```
 *
 * ## Import
 *
 * Redis instance can be imported, e.g.
 *
 * ```sh
 * $ pulumi import tencentcloud:Redis/instance:Instance example crs-iu22tdrf
 * ```
 */
export class Instance extends pulumi.CustomResource {
    /**
     * Get an existing Instance resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: InstanceState, opts?: pulumi.CustomResourceOptions): Instance {
        return new Instance(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'tencentcloud:Redis/instance:Instance';

    /**
     * Returns true if the given object is an instance of Instance.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is Instance {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === Instance.__pulumiType;
    }

    /**
     * Auto-renew flag. 0 - default state (manual renewal); 1 - automatic renewal; 2 - explicit no automatic renewal.
     */
    declare public readonly autoRenewFlag: pulumi.Output<number | undefined>;
    /**
     * The available zone of an instance to be created, like `ap-beijing-7`, please refer to `tencentcloud_redis_zone_config.list`.
     */
    declare public readonly availabilityZone: pulumi.Output<string>;
    /**
     * The charge type of instance. Valid values: `PREPAID` and `POSTPAID`. Default value is `POSTPAID`. Note: TencentCloud International only supports `POSTPAID`. Caution that update operation on this field will delete old instances and create new with new charge type.
     */
    declare public readonly chargeType: pulumi.Output<string | undefined>;
    /**
     * The time when the instance was created.
     */
    declare public /*out*/ readonly createTime: pulumi.Output<string>;
    /**
     * Dedicated Cluster ID.
     */
    declare public /*out*/ readonly dedicatedClusterId: pulumi.Output<string>;
    /**
     * Indicate whether to delete Redis instance directly or not. Default is false. If set true, the instance will be deleted instead of staying recycle bin.
     */
    declare public readonly forceDelete: pulumi.Output<boolean | undefined>;
    /**
     * IP address of an instance. When the `operationNetwork` is `changeVip`, this parameter needs to be configured.
     */
    declare public readonly ip: pulumi.Output<string>;
    /**
     * The memory volume of an available instance(in MB), please refer to `tencentcloud_redis_zone_config.list[zone].shard_memories`. When redis is standard type, it represents total memory size of the instance; when Redis is cluster type, it represents memory size of per sharding. `512MB` is supported only in master-slave instance.
     */
    declare public readonly memSize: pulumi.Output<number>;
    /**
     * Instance name.
     */
    declare public readonly name: pulumi.Output<string>;
    /**
     * Indicates whether the redis instance support no-auth access. NOTE: Only available in private cloud environment.
     */
    declare public readonly noAuth: pulumi.Output<boolean | undefined>;
    /**
     * Readonly Primary/Replica nodes.
     */
    declare public /*out*/ readonly nodeInfos: pulumi.Output<outputs.Redis.InstanceNodeInfo[]>;
    /**
     * Refers to the category of the pre-modified network, including: `changeVip`: refers to switching the private network, including its intranet IPv4 address and port; `changeVpc`: refers to switching the subnet to which the private network belongs; `changeBaseToVpc`: refers to switching the basic network to a private network; `changeVPort`: refers to only modifying the instance network port.
     */
    declare public readonly operationNetwork: pulumi.Output<string | undefined>;
    /**
     * Specify params template id. If not set, will use default template.
     */
    declare public readonly paramsTemplateId: pulumi.Output<string | undefined>;
    /**
     * Password for a Redis user, which should be 8 to 16 characters. NOTE: Only `no_auth=true` specified can make password empty.
     */
    declare public readonly password: pulumi.Output<string | undefined>;
    /**
     * The port used to access a redis instance. The default value is 6379. When the `operationNetwork` is `changeVPort` or `changeVip`, this parameter needs to be configured.
     */
    declare public readonly port: pulumi.Output<number | undefined>;
    /**
     * The tenancy (time unit is month) of the prepaid instance, NOTE: it only works when chargeType is set to `PREPAID`. Valid values are `1`, `2`, `3`, `4`, `5`, `6`, `7`, `8`, `9`, `10`, `11`, `12`, `24`, `36`.
     */
    declare public readonly prepaidPeriod: pulumi.Output<number | undefined>;
    /**
     * Specify the product version of the instance. `local`: Local disk version, `cloud`: Cloud disk version, `cdc`: Exclusive cluster version. Default is `local`.
     */
    declare public readonly productVersion: pulumi.Output<string>;
    /**
     * Specifies which project the instance should belong to.
     */
    declare public readonly projectId: pulumi.Output<number | undefined>;
    /**
     * Original intranet IPv4 address retention time: unit: day, value range: `0`, `1`, `2`, `3`, `7`, `15`.
     */
    declare public readonly recycle: pulumi.Output<number | undefined>;
    /**
     * Exclusive cluster ID. When the `productVersion` is set to `cdc`, this parameter must be set.
     */
    declare public readonly redisClusterId: pulumi.Output<string>;
    /**
     * The number of instance copies. This is not required for standalone and master slave versions and must equal to count of `replicaZoneIds`, Non-multi-AZ does not require `replicaZoneIds`; Redis memory version 4.0, 5.0, 6.2 standard architecture and cluster architecture support the number of copies in the range [1, 2, 3, 4, 5]; Redis 2.8 standard version and CKV standard version only support 1 copy.
     */
    declare public readonly redisReplicasNum: pulumi.Output<number | undefined>;
    /**
     * The number of instance shards; this parameter does not need to be configured for standard version instances; for cluster version instances, the number of shards ranges from: [`1`, `3`, `5`, `8`, `12`, `16`, `24 `, `32`, `40`, `48`, `64`, `80`, `96`, `128`].
     */
    declare public readonly redisShardNum: pulumi.Output<number>;
    /**
     * ID of replica nodes available zone. This is not required for standalone and master slave versions. NOTE: Removing some of the same zone of replicas (e.g. removing 100001 of [100001, 100001, 100002]) will pick the first hit to remove.
     */
    declare public readonly replicaZoneIds: pulumi.Output<number[]>;
    /**
     * Whether copy read-only is supported, Redis 2.8 Standard Edition and CKV Standard Edition do not support replica read-only, turn on replica read-only, the instance will automatically read and write separate, write requests are routed to the primary node, read requests are routed to the replica node, if you need to open replica read-only, the recommended number of replicas >=2.
     */
    declare public readonly replicasReadOnly: pulumi.Output<boolean>;
    /**
     * ID of security group. If both vpcId and subnetId are not set, this argument should not be set either.
     */
    declare public readonly securityGroups: pulumi.Output<string[] | undefined>;
    /**
     * Current status of an instance, maybe: init, processing, online, isolate and todelete.
     */
    declare public /*out*/ readonly status: pulumi.Output<string>;
    /**
     * Specifies which subnet the instance should belong to. When the `operationNetwork` is `changeVpc` or `changeBaseToVpc`, this parameter needs to be configured.
     */
    declare public readonly subnetId: pulumi.Output<string>;
    /**
     * Instance tags.
     */
    declare public readonly tags: pulumi.Output<{[key: string]: string} | undefined>;
    /**
     * It has been deprecated from version 1.33.1. Please use 'type_id' instead. Instance type. Available values: `clusterCkv`,`cluster_redis5.0`,`clusterRedis`,`masterSlaveCkv`,`master_slave_redis4.0`,`master_slave_redis5.0`,`masterSlaveRedis`,`standaloneRedis`, specific region support specific types, need to refer data `tencentcloud.Redis.getZoneConfig`.
     *
     * @deprecated It has been deprecated from version 1.33.1. Please use 'type_id' instead.
     */
    declare public readonly type: pulumi.Output<string | undefined>;
    /**
     * Instance type. Available values reference data source `tencentcloud.Redis.getZoneConfig` or [document](https://intl.cloud.tencent.com/document/product/239/32069), toggle immediately when modified.<ul><li>2: Redis 2.8 Memory Edition (standard architecture);</li> <li>3: CKV 3.2 Memory Edition (standard architecture);</li> <li>4: CKV 3.2 Memory Edition (cluster architecture);</li> <li>6: Redis 4.0 Memory Edition (standard architecture);</li> <li>7: Redis 4.0 Memory Edition (cluster architecture);</li> <li>8: Redis 5.0 Memory Edition (standard architecture);</li> <li>9: Redis 5.0 Memory Edition (cluster architecture);</li> <li>15: Redis 6.2 Memory Edition (standard architecture);</li> <li>16: Redis 6.2 Memory Edition (cluster architecture);</li> <li>17: Redis 7.0 Memory Edition (standard architecture);</li> <li>18: Redis 7.0 Memory Edition (cluster architecture). </li> <li>200: Memcached 1.6 Memory Edition (cluster architecture). </li>Note: The CKV version is currently used by existing users and is temporarily retained.</ul>.
     */
    declare public readonly typeId: pulumi.Output<number | undefined>;
    /**
     * ID of the vpc with which the instance is to be associated. When the `operationNetwork` is `changeVpc` or `changeBaseToVpc`, this parameter needs to be configured.
     */
    declare public readonly vpcId: pulumi.Output<string>;
    /**
     * Switching mode: `1`-maintenance time window switching, `2`-immediate switching, default value `2`.
     */
    declare public readonly waitSwitch: pulumi.Output<number | undefined>;
    /**
     * Allocate Wan Address.
     */
    declare public /*out*/ readonly wanAddress: pulumi.Output<string>;
    /**
     * Wan address switch, default `close`, values: `open`, `close`.
     */
    declare public readonly wanAddressSwitch: pulumi.Output<string>;

    /**
     * Create a Instance resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: InstanceArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: InstanceArgs | InstanceState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as InstanceState | undefined;
            resourceInputs["autoRenewFlag"] = state?.autoRenewFlag;
            resourceInputs["availabilityZone"] = state?.availabilityZone;
            resourceInputs["chargeType"] = state?.chargeType;
            resourceInputs["createTime"] = state?.createTime;
            resourceInputs["dedicatedClusterId"] = state?.dedicatedClusterId;
            resourceInputs["forceDelete"] = state?.forceDelete;
            resourceInputs["ip"] = state?.ip;
            resourceInputs["memSize"] = state?.memSize;
            resourceInputs["name"] = state?.name;
            resourceInputs["noAuth"] = state?.noAuth;
            resourceInputs["nodeInfos"] = state?.nodeInfos;
            resourceInputs["operationNetwork"] = state?.operationNetwork;
            resourceInputs["paramsTemplateId"] = state?.paramsTemplateId;
            resourceInputs["password"] = state?.password;
            resourceInputs["port"] = state?.port;
            resourceInputs["prepaidPeriod"] = state?.prepaidPeriod;
            resourceInputs["productVersion"] = state?.productVersion;
            resourceInputs["projectId"] = state?.projectId;
            resourceInputs["recycle"] = state?.recycle;
            resourceInputs["redisClusterId"] = state?.redisClusterId;
            resourceInputs["redisReplicasNum"] = state?.redisReplicasNum;
            resourceInputs["redisShardNum"] = state?.redisShardNum;
            resourceInputs["replicaZoneIds"] = state?.replicaZoneIds;
            resourceInputs["replicasReadOnly"] = state?.replicasReadOnly;
            resourceInputs["securityGroups"] = state?.securityGroups;
            resourceInputs["status"] = state?.status;
            resourceInputs["subnetId"] = state?.subnetId;
            resourceInputs["tags"] = state?.tags;
            resourceInputs["type"] = state?.type;
            resourceInputs["typeId"] = state?.typeId;
            resourceInputs["vpcId"] = state?.vpcId;
            resourceInputs["waitSwitch"] = state?.waitSwitch;
            resourceInputs["wanAddress"] = state?.wanAddress;
            resourceInputs["wanAddressSwitch"] = state?.wanAddressSwitch;
        } else {
            const args = argsOrState as InstanceArgs | undefined;
            if (args?.availabilityZone === undefined && !opts.urn) {
                throw new Error("Missing required property 'availabilityZone'");
            }
            if (args?.memSize === undefined && !opts.urn) {
                throw new Error("Missing required property 'memSize'");
            }
            resourceInputs["autoRenewFlag"] = args?.autoRenewFlag;
            resourceInputs["availabilityZone"] = args?.availabilityZone;
            resourceInputs["chargeType"] = args?.chargeType;
            resourceInputs["forceDelete"] = args?.forceDelete;
            resourceInputs["ip"] = args?.ip;
            resourceInputs["memSize"] = args?.memSize;
            resourceInputs["name"] = args?.name;
            resourceInputs["noAuth"] = args?.noAuth;
            resourceInputs["operationNetwork"] = args?.operationNetwork;
            resourceInputs["paramsTemplateId"] = args?.paramsTemplateId;
            resourceInputs["password"] = args?.password ? pulumi.secret(args.password) : undefined;
            resourceInputs["port"] = args?.port;
            resourceInputs["prepaidPeriod"] = args?.prepaidPeriod;
            resourceInputs["productVersion"] = args?.productVersion;
            resourceInputs["projectId"] = args?.projectId;
            resourceInputs["recycle"] = args?.recycle;
            resourceInputs["redisClusterId"] = args?.redisClusterId;
            resourceInputs["redisReplicasNum"] = args?.redisReplicasNum;
            resourceInputs["redisShardNum"] = args?.redisShardNum;
            resourceInputs["replicaZoneIds"] = args?.replicaZoneIds;
            resourceInputs["replicasReadOnly"] = args?.replicasReadOnly;
            resourceInputs["securityGroups"] = args?.securityGroups;
            resourceInputs["subnetId"] = args?.subnetId;
            resourceInputs["tags"] = args?.tags;
            resourceInputs["type"] = args?.type;
            resourceInputs["typeId"] = args?.typeId;
            resourceInputs["vpcId"] = args?.vpcId;
            resourceInputs["waitSwitch"] = args?.waitSwitch;
            resourceInputs["wanAddressSwitch"] = args?.wanAddressSwitch;
            resourceInputs["createTime"] = undefined /*out*/;
            resourceInputs["dedicatedClusterId"] = undefined /*out*/;
            resourceInputs["nodeInfos"] = undefined /*out*/;
            resourceInputs["status"] = undefined /*out*/;
            resourceInputs["wanAddress"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        const secretOpts = { additionalSecretOutputs: ["password"] };
        opts = pulumi.mergeOptions(opts, secretOpts);
        super(Instance.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering Instance resources.
 */
export interface InstanceState {
    /**
     * Auto-renew flag. 0 - default state (manual renewal); 1 - automatic renewal; 2 - explicit no automatic renewal.
     */
    autoRenewFlag?: pulumi.Input<number>;
    /**
     * The available zone of an instance to be created, like `ap-beijing-7`, please refer to `tencentcloud_redis_zone_config.list`.
     */
    availabilityZone?: pulumi.Input<string>;
    /**
     * The charge type of instance. Valid values: `PREPAID` and `POSTPAID`. Default value is `POSTPAID`. Note: TencentCloud International only supports `POSTPAID`. Caution that update operation on this field will delete old instances and create new with new charge type.
     */
    chargeType?: pulumi.Input<string>;
    /**
     * The time when the instance was created.
     */
    createTime?: pulumi.Input<string>;
    /**
     * Dedicated Cluster ID.
     */
    dedicatedClusterId?: pulumi.Input<string>;
    /**
     * Indicate whether to delete Redis instance directly or not. Default is false. If set true, the instance will be deleted instead of staying recycle bin.
     */
    forceDelete?: pulumi.Input<boolean>;
    /**
     * IP address of an instance. When the `operationNetwork` is `changeVip`, this parameter needs to be configured.
     */
    ip?: pulumi.Input<string>;
    /**
     * The memory volume of an available instance(in MB), please refer to `tencentcloud_redis_zone_config.list[zone].shard_memories`. When redis is standard type, it represents total memory size of the instance; when Redis is cluster type, it represents memory size of per sharding. `512MB` is supported only in master-slave instance.
     */
    memSize?: pulumi.Input<number>;
    /**
     * Instance name.
     */
    name?: pulumi.Input<string>;
    /**
     * Indicates whether the redis instance support no-auth access. NOTE: Only available in private cloud environment.
     */
    noAuth?: pulumi.Input<boolean>;
    /**
     * Readonly Primary/Replica nodes.
     */
    nodeInfos?: pulumi.Input<pulumi.Input<inputs.Redis.InstanceNodeInfo>[]>;
    /**
     * Refers to the category of the pre-modified network, including: `changeVip`: refers to switching the private network, including its intranet IPv4 address and port; `changeVpc`: refers to switching the subnet to which the private network belongs; `changeBaseToVpc`: refers to switching the basic network to a private network; `changeVPort`: refers to only modifying the instance network port.
     */
    operationNetwork?: pulumi.Input<string>;
    /**
     * Specify params template id. If not set, will use default template.
     */
    paramsTemplateId?: pulumi.Input<string>;
    /**
     * Password for a Redis user, which should be 8 to 16 characters. NOTE: Only `no_auth=true` specified can make password empty.
     */
    password?: pulumi.Input<string>;
    /**
     * The port used to access a redis instance. The default value is 6379. When the `operationNetwork` is `changeVPort` or `changeVip`, this parameter needs to be configured.
     */
    port?: pulumi.Input<number>;
    /**
     * The tenancy (time unit is month) of the prepaid instance, NOTE: it only works when chargeType is set to `PREPAID`. Valid values are `1`, `2`, `3`, `4`, `5`, `6`, `7`, `8`, `9`, `10`, `11`, `12`, `24`, `36`.
     */
    prepaidPeriod?: pulumi.Input<number>;
    /**
     * Specify the product version of the instance. `local`: Local disk version, `cloud`: Cloud disk version, `cdc`: Exclusive cluster version. Default is `local`.
     */
    productVersion?: pulumi.Input<string>;
    /**
     * Specifies which project the instance should belong to.
     */
    projectId?: pulumi.Input<number>;
    /**
     * Original intranet IPv4 address retention time: unit: day, value range: `0`, `1`, `2`, `3`, `7`, `15`.
     */
    recycle?: pulumi.Input<number>;
    /**
     * Exclusive cluster ID. When the `productVersion` is set to `cdc`, this parameter must be set.
     */
    redisClusterId?: pulumi.Input<string>;
    /**
     * The number of instance copies. This is not required for standalone and master slave versions and must equal to count of `replicaZoneIds`, Non-multi-AZ does not require `replicaZoneIds`; Redis memory version 4.0, 5.0, 6.2 standard architecture and cluster architecture support the number of copies in the range [1, 2, 3, 4, 5]; Redis 2.8 standard version and CKV standard version only support 1 copy.
     */
    redisReplicasNum?: pulumi.Input<number>;
    /**
     * The number of instance shards; this parameter does not need to be configured for standard version instances; for cluster version instances, the number of shards ranges from: [`1`, `3`, `5`, `8`, `12`, `16`, `24 `, `32`, `40`, `48`, `64`, `80`, `96`, `128`].
     */
    redisShardNum?: pulumi.Input<number>;
    /**
     * ID of replica nodes available zone. This is not required for standalone and master slave versions. NOTE: Removing some of the same zone of replicas (e.g. removing 100001 of [100001, 100001, 100002]) will pick the first hit to remove.
     */
    replicaZoneIds?: pulumi.Input<pulumi.Input<number>[]>;
    /**
     * Whether copy read-only is supported, Redis 2.8 Standard Edition and CKV Standard Edition do not support replica read-only, turn on replica read-only, the instance will automatically read and write separate, write requests are routed to the primary node, read requests are routed to the replica node, if you need to open replica read-only, the recommended number of replicas >=2.
     */
    replicasReadOnly?: pulumi.Input<boolean>;
    /**
     * ID of security group. If both vpcId and subnetId are not set, this argument should not be set either.
     */
    securityGroups?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Current status of an instance, maybe: init, processing, online, isolate and todelete.
     */
    status?: pulumi.Input<string>;
    /**
     * Specifies which subnet the instance should belong to. When the `operationNetwork` is `changeVpc` or `changeBaseToVpc`, this parameter needs to be configured.
     */
    subnetId?: pulumi.Input<string>;
    /**
     * Instance tags.
     */
    tags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * It has been deprecated from version 1.33.1. Please use 'type_id' instead. Instance type. Available values: `clusterCkv`,`cluster_redis5.0`,`clusterRedis`,`masterSlaveCkv`,`master_slave_redis4.0`,`master_slave_redis5.0`,`masterSlaveRedis`,`standaloneRedis`, specific region support specific types, need to refer data `tencentcloud.Redis.getZoneConfig`.
     *
     * @deprecated It has been deprecated from version 1.33.1. Please use 'type_id' instead.
     */
    type?: pulumi.Input<string>;
    /**
     * Instance type. Available values reference data source `tencentcloud.Redis.getZoneConfig` or [document](https://intl.cloud.tencent.com/document/product/239/32069), toggle immediately when modified.<ul><li>2: Redis 2.8 Memory Edition (standard architecture);</li> <li>3: CKV 3.2 Memory Edition (standard architecture);</li> <li>4: CKV 3.2 Memory Edition (cluster architecture);</li> <li>6: Redis 4.0 Memory Edition (standard architecture);</li> <li>7: Redis 4.0 Memory Edition (cluster architecture);</li> <li>8: Redis 5.0 Memory Edition (standard architecture);</li> <li>9: Redis 5.0 Memory Edition (cluster architecture);</li> <li>15: Redis 6.2 Memory Edition (standard architecture);</li> <li>16: Redis 6.2 Memory Edition (cluster architecture);</li> <li>17: Redis 7.0 Memory Edition (standard architecture);</li> <li>18: Redis 7.0 Memory Edition (cluster architecture). </li> <li>200: Memcached 1.6 Memory Edition (cluster architecture). </li>Note: The CKV version is currently used by existing users and is temporarily retained.</ul>.
     */
    typeId?: pulumi.Input<number>;
    /**
     * ID of the vpc with which the instance is to be associated. When the `operationNetwork` is `changeVpc` or `changeBaseToVpc`, this parameter needs to be configured.
     */
    vpcId?: pulumi.Input<string>;
    /**
     * Switching mode: `1`-maintenance time window switching, `2`-immediate switching, default value `2`.
     */
    waitSwitch?: pulumi.Input<number>;
    /**
     * Allocate Wan Address.
     */
    wanAddress?: pulumi.Input<string>;
    /**
     * Wan address switch, default `close`, values: `open`, `close`.
     */
    wanAddressSwitch?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a Instance resource.
 */
export interface InstanceArgs {
    /**
     * Auto-renew flag. 0 - default state (manual renewal); 1 - automatic renewal; 2 - explicit no automatic renewal.
     */
    autoRenewFlag?: pulumi.Input<number>;
    /**
     * The available zone of an instance to be created, like `ap-beijing-7`, please refer to `tencentcloud_redis_zone_config.list`.
     */
    availabilityZone: pulumi.Input<string>;
    /**
     * The charge type of instance. Valid values: `PREPAID` and `POSTPAID`. Default value is `POSTPAID`. Note: TencentCloud International only supports `POSTPAID`. Caution that update operation on this field will delete old instances and create new with new charge type.
     */
    chargeType?: pulumi.Input<string>;
    /**
     * Indicate whether to delete Redis instance directly or not. Default is false. If set true, the instance will be deleted instead of staying recycle bin.
     */
    forceDelete?: pulumi.Input<boolean>;
    /**
     * IP address of an instance. When the `operationNetwork` is `changeVip`, this parameter needs to be configured.
     */
    ip?: pulumi.Input<string>;
    /**
     * The memory volume of an available instance(in MB), please refer to `tencentcloud_redis_zone_config.list[zone].shard_memories`. When redis is standard type, it represents total memory size of the instance; when Redis is cluster type, it represents memory size of per sharding. `512MB` is supported only in master-slave instance.
     */
    memSize: pulumi.Input<number>;
    /**
     * Instance name.
     */
    name?: pulumi.Input<string>;
    /**
     * Indicates whether the redis instance support no-auth access. NOTE: Only available in private cloud environment.
     */
    noAuth?: pulumi.Input<boolean>;
    /**
     * Refers to the category of the pre-modified network, including: `changeVip`: refers to switching the private network, including its intranet IPv4 address and port; `changeVpc`: refers to switching the subnet to which the private network belongs; `changeBaseToVpc`: refers to switching the basic network to a private network; `changeVPort`: refers to only modifying the instance network port.
     */
    operationNetwork?: pulumi.Input<string>;
    /**
     * Specify params template id. If not set, will use default template.
     */
    paramsTemplateId?: pulumi.Input<string>;
    /**
     * Password for a Redis user, which should be 8 to 16 characters. NOTE: Only `no_auth=true` specified can make password empty.
     */
    password?: pulumi.Input<string>;
    /**
     * The port used to access a redis instance. The default value is 6379. When the `operationNetwork` is `changeVPort` or `changeVip`, this parameter needs to be configured.
     */
    port?: pulumi.Input<number>;
    /**
     * The tenancy (time unit is month) of the prepaid instance, NOTE: it only works when chargeType is set to `PREPAID`. Valid values are `1`, `2`, `3`, `4`, `5`, `6`, `7`, `8`, `9`, `10`, `11`, `12`, `24`, `36`.
     */
    prepaidPeriod?: pulumi.Input<number>;
    /**
     * Specify the product version of the instance. `local`: Local disk version, `cloud`: Cloud disk version, `cdc`: Exclusive cluster version. Default is `local`.
     */
    productVersion?: pulumi.Input<string>;
    /**
     * Specifies which project the instance should belong to.
     */
    projectId?: pulumi.Input<number>;
    /**
     * Original intranet IPv4 address retention time: unit: day, value range: `0`, `1`, `2`, `3`, `7`, `15`.
     */
    recycle?: pulumi.Input<number>;
    /**
     * Exclusive cluster ID. When the `productVersion` is set to `cdc`, this parameter must be set.
     */
    redisClusterId?: pulumi.Input<string>;
    /**
     * The number of instance copies. This is not required for standalone and master slave versions and must equal to count of `replicaZoneIds`, Non-multi-AZ does not require `replicaZoneIds`; Redis memory version 4.0, 5.0, 6.2 standard architecture and cluster architecture support the number of copies in the range [1, 2, 3, 4, 5]; Redis 2.8 standard version and CKV standard version only support 1 copy.
     */
    redisReplicasNum?: pulumi.Input<number>;
    /**
     * The number of instance shards; this parameter does not need to be configured for standard version instances; for cluster version instances, the number of shards ranges from: [`1`, `3`, `5`, `8`, `12`, `16`, `24 `, `32`, `40`, `48`, `64`, `80`, `96`, `128`].
     */
    redisShardNum?: pulumi.Input<number>;
    /**
     * ID of replica nodes available zone. This is not required for standalone and master slave versions. NOTE: Removing some of the same zone of replicas (e.g. removing 100001 of [100001, 100001, 100002]) will pick the first hit to remove.
     */
    replicaZoneIds?: pulumi.Input<pulumi.Input<number>[]>;
    /**
     * Whether copy read-only is supported, Redis 2.8 Standard Edition and CKV Standard Edition do not support replica read-only, turn on replica read-only, the instance will automatically read and write separate, write requests are routed to the primary node, read requests are routed to the replica node, if you need to open replica read-only, the recommended number of replicas >=2.
     */
    replicasReadOnly?: pulumi.Input<boolean>;
    /**
     * ID of security group. If both vpcId and subnetId are not set, this argument should not be set either.
     */
    securityGroups?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Specifies which subnet the instance should belong to. When the `operationNetwork` is `changeVpc` or `changeBaseToVpc`, this parameter needs to be configured.
     */
    subnetId?: pulumi.Input<string>;
    /**
     * Instance tags.
     */
    tags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * It has been deprecated from version 1.33.1. Please use 'type_id' instead. Instance type. Available values: `clusterCkv`,`cluster_redis5.0`,`clusterRedis`,`masterSlaveCkv`,`master_slave_redis4.0`,`master_slave_redis5.0`,`masterSlaveRedis`,`standaloneRedis`, specific region support specific types, need to refer data `tencentcloud.Redis.getZoneConfig`.
     *
     * @deprecated It has been deprecated from version 1.33.1. Please use 'type_id' instead.
     */
    type?: pulumi.Input<string>;
    /**
     * Instance type. Available values reference data source `tencentcloud.Redis.getZoneConfig` or [document](https://intl.cloud.tencent.com/document/product/239/32069), toggle immediately when modified.<ul><li>2: Redis 2.8 Memory Edition (standard architecture);</li> <li>3: CKV 3.2 Memory Edition (standard architecture);</li> <li>4: CKV 3.2 Memory Edition (cluster architecture);</li> <li>6: Redis 4.0 Memory Edition (standard architecture);</li> <li>7: Redis 4.0 Memory Edition (cluster architecture);</li> <li>8: Redis 5.0 Memory Edition (standard architecture);</li> <li>9: Redis 5.0 Memory Edition (cluster architecture);</li> <li>15: Redis 6.2 Memory Edition (standard architecture);</li> <li>16: Redis 6.2 Memory Edition (cluster architecture);</li> <li>17: Redis 7.0 Memory Edition (standard architecture);</li> <li>18: Redis 7.0 Memory Edition (cluster architecture). </li> <li>200: Memcached 1.6 Memory Edition (cluster architecture). </li>Note: The CKV version is currently used by existing users and is temporarily retained.</ul>.
     */
    typeId?: pulumi.Input<number>;
    /**
     * ID of the vpc with which the instance is to be associated. When the `operationNetwork` is `changeVpc` or `changeBaseToVpc`, this parameter needs to be configured.
     */
    vpcId?: pulumi.Input<string>;
    /**
     * Switching mode: `1`-maintenance time window switching, `2`-immediate switching, default value `2`.
     */
    waitSwitch?: pulumi.Input<number>;
    /**
     * Wan address switch, default `close`, values: `open`, `close`.
     */
    wanAddressSwitch?: pulumi.Input<string>;
}
