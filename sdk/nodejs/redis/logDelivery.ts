// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as utilities from "../utilities";

/**
 * Provides a resource to create Redis instance log delivery land set its attributes.
 *
 * > **NOTE:** When you use an existing cls logset and topic to enable logging, there is no need to set parameters such
 * as `period`, `createIndex`, `logRegion`, etc.
 *
 * ## Example Usage
 *
 * ### Use cls logset and topic which existed
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as tencentcloud from "@tencentcloud_iac/pulumi";
 *
 * const example = new tencentcloud.redis.LogDelivery("example", {
 *     instanceId: "crs-dmjj8en7",
 *     logsetId: "cc31d9d6-74c0-4888-8b2f-b8148c3bcc5c",
 *     topicId: "5c2333e9-0bab-41fd-9f75-c602b3f9545f",
 * });
 * ```
 *
 * ### Use exist cls logset and create new topic
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as tencentcloud from "@tencentcloud_iac/pulumi";
 *
 * const example = new tencentcloud.redis.LogDelivery("example", {
 *     instanceId: "crs-dmjj8en7",
 *     logsetId: "cc31d9d6-74c0-4888-8b2f-b8148c3bcc5c",
 *     topicName: "tf-example",
 *     period: 20,
 *     createIndex: true,
 * });
 * ```
 *
 * ### Create new cls logset and topic
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as tencentcloud from "@tencentcloud_iac/pulumi";
 *
 * const example = new tencentcloud.redis.LogDelivery("example", {
 *     instanceId: "crs-dmjj8en7",
 *     logRegion: "ap-guangzhou",
 *     logsetName: "tf-example",
 *     topicName: "tf-example",
 *     period: 20,
 *     createIndex: true,
 * });
 * ```
 *
 * ## Import
 *
 * Redis log delivery can be imported, e.g.
 *
 * ```sh
 * $ pulumi import tencentcloud:Redis/logDelivery:LogDelivery example crs-dmjj8en7
 * ```
 */
export class LogDelivery extends pulumi.CustomResource {
    /**
     * Get an existing LogDelivery resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: LogDeliveryState, opts?: pulumi.CustomResourceOptions): LogDelivery {
        return new LogDelivery(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'tencentcloud:Redis/logDelivery:LogDelivery';

    /**
     * Returns true if the given object is an instance of LogDelivery.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is LogDelivery {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === LogDelivery.__pulumiType;
    }

    /**
     * Whether to create an index when creating a log topic.
     */
    declare public readonly createIndex: pulumi.Output<boolean>;
    /**
     * Instance ID.
     */
    declare public readonly instanceId: pulumi.Output<string>;
    /**
     * The region where the log set is located; if not specified, the region where the instance is located will be used by default.
     */
    declare public readonly logRegion: pulumi.Output<string>;
    /**
     * The ID of the log set being delivered.
     */
    declare public readonly logsetId: pulumi.Output<string>;
    /**
     * Log set name. If LogsetId does not specify a specific log set ID, please configure this parameter to set the log set name, and the system will automatically create a new log set with the specified name.
     */
    declare public readonly logsetName: pulumi.Output<string>;
    /**
     * Log storage time, defaults to 30 days, with an optional range of 1-3600 days.
     */
    declare public readonly period: pulumi.Output<number>;
    /**
     * The ID of the topic being delivered.
     */
    declare public readonly topicId: pulumi.Output<string>;
    /**
     * Log topic name, required when TopicId is empty, a new log topic will be automatically created.
     */
    declare public readonly topicName: pulumi.Output<string>;

    /**
     * Create a LogDelivery resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: LogDeliveryArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: LogDeliveryArgs | LogDeliveryState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as LogDeliveryState | undefined;
            resourceInputs["createIndex"] = state?.createIndex;
            resourceInputs["instanceId"] = state?.instanceId;
            resourceInputs["logRegion"] = state?.logRegion;
            resourceInputs["logsetId"] = state?.logsetId;
            resourceInputs["logsetName"] = state?.logsetName;
            resourceInputs["period"] = state?.period;
            resourceInputs["topicId"] = state?.topicId;
            resourceInputs["topicName"] = state?.topicName;
        } else {
            const args = argsOrState as LogDeliveryArgs | undefined;
            if (args?.instanceId === undefined && !opts.urn) {
                throw new Error("Missing required property 'instanceId'");
            }
            resourceInputs["createIndex"] = args?.createIndex;
            resourceInputs["instanceId"] = args?.instanceId;
            resourceInputs["logRegion"] = args?.logRegion;
            resourceInputs["logsetId"] = args?.logsetId;
            resourceInputs["logsetName"] = args?.logsetName;
            resourceInputs["period"] = args?.period;
            resourceInputs["topicId"] = args?.topicId;
            resourceInputs["topicName"] = args?.topicName;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(LogDelivery.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering LogDelivery resources.
 */
export interface LogDeliveryState {
    /**
     * Whether to create an index when creating a log topic.
     */
    createIndex?: pulumi.Input<boolean>;
    /**
     * Instance ID.
     */
    instanceId?: pulumi.Input<string>;
    /**
     * The region where the log set is located; if not specified, the region where the instance is located will be used by default.
     */
    logRegion?: pulumi.Input<string>;
    /**
     * The ID of the log set being delivered.
     */
    logsetId?: pulumi.Input<string>;
    /**
     * Log set name. If LogsetId does not specify a specific log set ID, please configure this parameter to set the log set name, and the system will automatically create a new log set with the specified name.
     */
    logsetName?: pulumi.Input<string>;
    /**
     * Log storage time, defaults to 30 days, with an optional range of 1-3600 days.
     */
    period?: pulumi.Input<number>;
    /**
     * The ID of the topic being delivered.
     */
    topicId?: pulumi.Input<string>;
    /**
     * Log topic name, required when TopicId is empty, a new log topic will be automatically created.
     */
    topicName?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a LogDelivery resource.
 */
export interface LogDeliveryArgs {
    /**
     * Whether to create an index when creating a log topic.
     */
    createIndex?: pulumi.Input<boolean>;
    /**
     * Instance ID.
     */
    instanceId: pulumi.Input<string>;
    /**
     * The region where the log set is located; if not specified, the region where the instance is located will be used by default.
     */
    logRegion?: pulumi.Input<string>;
    /**
     * The ID of the log set being delivered.
     */
    logsetId?: pulumi.Input<string>;
    /**
     * Log set name. If LogsetId does not specify a specific log set ID, please configure this parameter to set the log set name, and the system will automatically create a new log set with the specified name.
     */
    logsetName?: pulumi.Input<string>;
    /**
     * Log storage time, defaults to 30 days, with an optional range of 1-3600 days.
     */
    period?: pulumi.Input<number>;
    /**
     * The ID of the topic being delivered.
     */
    topicId?: pulumi.Input<string>;
    /**
     * Log topic name, required when TopicId is empty, a new log topic will be automatically created.
     */
    topicName?: pulumi.Input<string>;
}
