// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as utilities from "../utilities";

/**
 * ## Example Usage
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as tencentcloud from "@tencentcloud_iac/pulumi";
 *
 * const zones = tencentcloud.Availability.getZonesByProduct({
 *     product: "cdb",
 * });
 * const vpc = new tencentcloud.vpc.Instance("vpc", {
 *     name: "vpc-mysql",
 *     cidrBlock: "10.0.0.0/16",
 * });
 * const subnet = new tencentcloud.subnet.Instance("subnet", {
 *     availabilityZone: zones.then(zones => zones.zones?.[0]?.name),
 *     name: "subnet-mysql",
 *     vpcId: vpc.id,
 *     cidrBlock: "10.0.0.0/16",
 *     isMulticast: false,
 * });
 * const securityGroup = new tencentcloud.security.Group("security_group", {
 *     name: "sg-mysql",
 *     description: "mysql test",
 * });
 * const example = new tencentcloud.mysql.Instance("example", {
 *     internetService: 1,
 *     engineVersion: "5.7",
 *     chargeType: "POSTPAID",
 *     rootPassword: "PassWord123",
 *     slaveDeployMode: 0,
 *     availabilityZone: zones.then(zones => zones.zones?.[0]?.name),
 *     slaveSyncMode: 1,
 *     instanceName: "tf-example-mysql",
 *     memSize: 4000,
 *     volumeSize: 200,
 *     vpcId: vpc.id,
 *     subnetId: subnet.id,
 *     intranetPort: 3306,
 *     securityGroups: [securityGroup.id],
 *     tags: {
 *         name: "test",
 *     },
 *     parameters: {
 *         character_set_server: "utf8",
 *         max_connections: "1000",
 *     },
 * });
 * const exampleBackupPolicy = new tencentcloud.mysql.BackupPolicy("example", {
 *     mysqlId: example.id,
 *     retentionPeriod: 7,
 *     backupModel: "physical",
 *     backupTime: "22:00-02:00",
 *     binlogPeriod: 32,
 *     enableBinlogStandby: "off",
 *     binlogStandbyDays: 31,
 * });
 * ```
 */
export class BackupPolicy extends pulumi.CustomResource {
    /**
     * Get an existing BackupPolicy resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: BackupPolicyState, opts?: pulumi.CustomResourceOptions): BackupPolicy {
        return new BackupPolicy(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'tencentcloud:Mysql/backupPolicy:BackupPolicy';

    /**
     * Returns true if the given object is an instance of BackupPolicy.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is BackupPolicy {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === BackupPolicy.__pulumiType;
    }

    /**
     * Backup method. Supported values include: `physical` - physical backup; `snapshot` - snapshot backup. Multi node only support `physical`, Single node only support `snapshot`.
     */
    declare public readonly backupModel: pulumi.Output<string | undefined>;
    /**
     * Instance backup time, in the format of 'HH:mm-HH:mm'. Time setting interval is four hours. Default to `02:00-06:00`. The following value can be supported: `02:00-06:00`, `06:00-10:00`, `10:00-14:00`, `14:00-18:00`, `18:00-22:00`, and `22:00-02:00`.
     */
    declare public readonly backupTime: pulumi.Output<string | undefined>;
    /**
     * Binlog retention time, in days. The minimum value is 7 days and the maximum value is 1830 days. This value cannot be set greater than the backup file retention time.
     */
    declare public readonly binlogPeriod: pulumi.Output<number>;
    /**
     * The standard starting number of days for log backup storage. The log backup will be converted when it reaches the standard starting number of days for storage. The minimum is 30 days and must not be greater than the number of days for log backup retention.
     */
    declare public readonly binlogStandbyDays: pulumi.Output<number>;
    /**
     * Whether to enable the log backup standard storage policy, `off` - close, `on` - open, the default is off.
     */
    declare public readonly enableBinlogStandby: pulumi.Output<string | undefined>;
    /**
     * Instance ID to which policies will be applied.
     */
    declare public readonly mysqlId: pulumi.Output<string>;
    /**
     * The retention time of backup files, in days. The minimum value is 7 days and the maximum value is 1830 days. And default value is `7`.
     */
    declare public readonly retentionPeriod: pulumi.Output<number | undefined>;

    /**
     * Create a BackupPolicy resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: BackupPolicyArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: BackupPolicyArgs | BackupPolicyState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as BackupPolicyState | undefined;
            resourceInputs["backupModel"] = state?.backupModel;
            resourceInputs["backupTime"] = state?.backupTime;
            resourceInputs["binlogPeriod"] = state?.binlogPeriod;
            resourceInputs["binlogStandbyDays"] = state?.binlogStandbyDays;
            resourceInputs["enableBinlogStandby"] = state?.enableBinlogStandby;
            resourceInputs["mysqlId"] = state?.mysqlId;
            resourceInputs["retentionPeriod"] = state?.retentionPeriod;
        } else {
            const args = argsOrState as BackupPolicyArgs | undefined;
            if (args?.mysqlId === undefined && !opts.urn) {
                throw new Error("Missing required property 'mysqlId'");
            }
            resourceInputs["backupModel"] = args?.backupModel;
            resourceInputs["backupTime"] = args?.backupTime;
            resourceInputs["binlogPeriod"] = args?.binlogPeriod;
            resourceInputs["binlogStandbyDays"] = args?.binlogStandbyDays;
            resourceInputs["enableBinlogStandby"] = args?.enableBinlogStandby;
            resourceInputs["mysqlId"] = args?.mysqlId;
            resourceInputs["retentionPeriod"] = args?.retentionPeriod;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(BackupPolicy.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering BackupPolicy resources.
 */
export interface BackupPolicyState {
    /**
     * Backup method. Supported values include: `physical` - physical backup; `snapshot` - snapshot backup. Multi node only support `physical`, Single node only support `snapshot`.
     */
    backupModel?: pulumi.Input<string>;
    /**
     * Instance backup time, in the format of 'HH:mm-HH:mm'. Time setting interval is four hours. Default to `02:00-06:00`. The following value can be supported: `02:00-06:00`, `06:00-10:00`, `10:00-14:00`, `14:00-18:00`, `18:00-22:00`, and `22:00-02:00`.
     */
    backupTime?: pulumi.Input<string>;
    /**
     * Binlog retention time, in days. The minimum value is 7 days and the maximum value is 1830 days. This value cannot be set greater than the backup file retention time.
     */
    binlogPeriod?: pulumi.Input<number>;
    /**
     * The standard starting number of days for log backup storage. The log backup will be converted when it reaches the standard starting number of days for storage. The minimum is 30 days and must not be greater than the number of days for log backup retention.
     */
    binlogStandbyDays?: pulumi.Input<number>;
    /**
     * Whether to enable the log backup standard storage policy, `off` - close, `on` - open, the default is off.
     */
    enableBinlogStandby?: pulumi.Input<string>;
    /**
     * Instance ID to which policies will be applied.
     */
    mysqlId?: pulumi.Input<string>;
    /**
     * The retention time of backup files, in days. The minimum value is 7 days and the maximum value is 1830 days. And default value is `7`.
     */
    retentionPeriod?: pulumi.Input<number>;
}

/**
 * The set of arguments for constructing a BackupPolicy resource.
 */
export interface BackupPolicyArgs {
    /**
     * Backup method. Supported values include: `physical` - physical backup; `snapshot` - snapshot backup. Multi node only support `physical`, Single node only support `snapshot`.
     */
    backupModel?: pulumi.Input<string>;
    /**
     * Instance backup time, in the format of 'HH:mm-HH:mm'. Time setting interval is four hours. Default to `02:00-06:00`. The following value can be supported: `02:00-06:00`, `06:00-10:00`, `10:00-14:00`, `14:00-18:00`, `18:00-22:00`, and `22:00-02:00`.
     */
    backupTime?: pulumi.Input<string>;
    /**
     * Binlog retention time, in days. The minimum value is 7 days and the maximum value is 1830 days. This value cannot be set greater than the backup file retention time.
     */
    binlogPeriod?: pulumi.Input<number>;
    /**
     * The standard starting number of days for log backup storage. The log backup will be converted when it reaches the standard starting number of days for storage. The minimum is 30 days and must not be greater than the number of days for log backup retention.
     */
    binlogStandbyDays?: pulumi.Input<number>;
    /**
     * Whether to enable the log backup standard storage policy, `off` - close, `on` - open, the default is off.
     */
    enableBinlogStandby?: pulumi.Input<string>;
    /**
     * Instance ID to which policies will be applied.
     */
    mysqlId: pulumi.Input<string>;
    /**
     * The retention time of backup files, in days. The minimum value is 7 days and the maximum value is 1830 days. And default value is `7`.
     */
    retentionPeriod?: pulumi.Input<number>;
}
